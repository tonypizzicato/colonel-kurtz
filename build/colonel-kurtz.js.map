{"version":3,"sources":["colonel-kurtz.js","webpack/bootstrap 7d02062c43070cb2cbf1","./src/index.js","external \"react\"","./src/dispatcher/index.js","./src/constants/mode_constants.js","./~/react/lib/invariant.js","./src/mixins/hasBlocks.js","./src/stores/block_store.js","./src/stores/block_type_store.js","external \"diode/stateful\"","./src/components/ui/button.js","external \"diode\"","./addons/common/field.js","./addons/image/graphic.js","./addons/youtube/player.js","./src/actions/block/create.js","./src/actions/block/destroy.js","./src/actions/block/move.js","./src/actions/block/update.js","./src/actions/block_type/create.js","./src/actions/editor/create.js","./src/actions/editor/update.js","./src/components/block.js","./src/components/block_menu.js","./src/constants/strings.js","./src/mixins/pure.js","./src/stores/editor_store.js","./src/utils/createBlock.js","./src/utils/uid.js","(webpack)/~/node-libs-browser/~/process/browser.js","external \"react/lib/ReactCSSTransitionGroup\"","./addons/image/editor.js","./addons/image/index.js","./addons/image/previewer.js","./addons/medium/editor.js","./addons/medium/index.js","./addons/medium/previewer.js","./addons/medium/vendor/medium-editor.js","./addons/youtube/editor.js","./addons/youtube/index.js","./addons/youtube/previewer.js","./src/addons.js","./src/components/add_block.js","./src/components/app.js","./src/components/content_section.js","./src/components/editor.js","./src/components/editor_block.js","./src/components/mode_selection.js","./src/components/orderable.js","./src/components/previewer.js","./src/components/previewer_block.js","./src/components/remove_block.js","./src/components/toolbar.js","./src/mixins/block_type.js","./src/models/block.js","./src/utils/addBlockType.js","./src/utils/fullscreen.js","./src/utils/seed.js","./~/flux/index.js","./~/flux/lib/Dispatcher.js","./~/flux/lib/invariant.js","./~/react-classset/classSet.js","./~/react-dragon/dist/dragon.js","./~/react/lib/keyMirror.js","./~/react/lib/shallowEqual.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","_prototypeProperties","child","staticProps","instanceProps","defineProperties","_classCallCheck","instance","Constructor","TypeError","App","Diode","EditorCreate","EditorStore","React","seed","uid","ColonelKurtz","config","_this","this","el","_callbacks","block","undefined","subscribe","simulateChange","setTimeout","bind","render","value","_rootComponent","_getDomElement","writable","configurable","_runCallbacks","addCallback","callback","concat","removeCallback","filter","toJSON","find","blocks","toHtml","json","html","forEach","content","createElement","editorId","addons","createBlock","addBlockType","require","Dispatcher","KeyMirror","EDIT_MODE","PREVIEW_MODE","process","invariant","condition","format","a","b","d","e","f","env","NODE_ENV","Error","error","args","argIndex","replace","framesToPop","BlockStore","Stateful","mixins","propTypes","PropTypes","any","isRequired","getState","childrenFor","props","Block","_blocks","parent","all","last","_create","_ref","position","type","_indexOf","splice","publish","_destroy","node","n","_update","indexOf","_move","fromId","toId","from","to","_seed","_step","items","_iterator","Symbol","iterator","next","done","_step$value","dispatchToken","register","action","params","_blockTypes","_defaults","icon","types","BlockTypeStore","keys","map","record","_remove","_interopRequire","obj","__esModule","_objectWithoutProperties","Button","createClass","displayName","getDefaultProps","tagName","_props","children","attrs","Field","label","name","className","htmlFor","Graphic","getCaption","caption","src","alt","_baseUrl","Player","video_id","frameBorder","allowFullScreen","CreateBlock","dispatch","DestroyBlock","MoveBlock","UpdateBlock","CreateBlockType","CreateEditor","UpdateEditor","BlockType","Pure","Component","state","component","initialContent","updateContent","_onUpdateContent","AddBlock","BlockMenu","editor","getButton","getNavigation","role","remove","fullscreen","shallowEqual","ReactComponentWithPureRenderMixin","shouldComponentUpdate","nextProps","nextState","Modes","_editors","getDefaults","mode","preview","safe","index","spec","uidCounter","noop","nextTick","canSetImmediate","window","setImmediate","canMutationObserver","MutationObserver","canPost","postMessage","addEventListener","queue","hiddenDiv","document","observer","queueList","slice","fn","observe","attributes","setAttribute","push","ev","data","stopPropagation","shift","title","browser","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","Types","Editor","string","attribution","onChange","func","_onSrcChange","_onCaptionChange","_onAttributionChange","currentTarget","Previewer","Image","defaultContent","renderEditor","setContent","renderPreviewer","MediumEditor","onBlur","options","buttons","firstHeader","secondHeader","diffLeft","diffTop","disableDoubleReturn","componentDidMount","setState","refs","getDOMNode","componentWillUnmount","deactivate","_onBlur","aria-multiline","ref","dangerouslySetInnerHTML","__html","text","textContent","innerHTML","Medium","view","classListProp","protoProp","elemCtrProto","Element","objCtr","strTrim","String","trim","arrIndexOf","Array","item","len","DOMEx","message","code","DOMException","checkTokenAndGetIndex","classList","token","test","ClassList","elem","trimmedClasses","getAttribute","classes","split","_updateClassName","toString","classListProto","classListGetter","contains","add","tokens","l","updated","toggle","force","result","method","join","defineProperty","classListPropDesc","get","enumerable","ex","number","__defineGetter__","self","root","factory","elements","init","Util","copyInto","dest","overwrite","prop","isIE","navigator","appName","RegExp","exec","userAgent","keyCode","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","DELETE","parentElements","defaults","extend","derives","base","derived","Proto","origPrototype","constructor","findAdjacentTextNodeWithContent","rootNode","targetNode","ownerDocument","nextNode","pastTarget","nodeIterator","createNodeIterator","NodeFilter","SHOW_TEXT","nodeType","nodeValue","isDescendant","parentNode","isElement","now","Date","getTime","throttle","wait","context","later","THROTTLE_INTERVAL","timeout","previous","apply","currNow","remaining","clearTimeout","traverseUp","current","testElementFunction","htmlEntities","str","insertHTMLCommand","doc","selection","range","fragment","lastNode","queryCommandSupported","execCommand","ignore","getSelection","getRangeAt","rangeCount","deleteContents","createDocumentFragment","firstChild","appendChild","insertNode","cloneRange","setStartAfter","collapse","removeAllRanges","addRange","setTargetBlank","toLowerCase","getElementsByTagName","isListItemChild","Selection","getSelectionStart","anchorNode","startNode","findMatchingSelectionParent","contentWindow","commonAncestorContainer","getSelectionElement","selectionInContentEditableFalse","nodeName","getSelectionHtml","sel","container","cloneContents","createRange","htmlText","getCaretOffsets","element","preCaretRange","postCaretRange","selectNodeContents","setEnd","endContainer","endOffset","setStart","left","right","rangeSelectsSingleNode","startContainer","hasChildNodes","startOffset","getSelectedParentElement","selectedParentElement","childNodes","getSelectionData","DefaultButton","ButtonsData","bold","aria","tagNames","style","useQueryState","contentDefault","contentFA","italic","underline","strikethrough","superscript","subscript","image","quote","orderedlist","unorderedlist","pre","indent","outdent","justifyCenter","justifyFull","justifyLeft","justifyRight","header1","header2","button","createButton","handleClick","getAction","getAria","getTagNames","buttonLabels","evt","preventDefault","execAction","isActive","activeButtonClass","setInactive","knownState","setActive","queryCommandState","queryState","isAlreadyApplied","styleVals","computedStyle","isMatch","getComputedStyle","getPropertyValue","val","pasteHandler","createReplacements","handlePaste","paragraphs","dataFormatHTML","dataFormatPlain","forcePlainText","cleanPastedHTML","clipboardData","getData","defaultPrevented","cleanPaste","disableReturn","elList","workEl","multiline","replacements","pasteHTML","querySelectorAll","targetBlank","filterCommonBlocks","filterLineBreak","fragmentBody","pasteBlock","querySelector","cleanupSpans","removeAttribute","removeChild","isCommonBlock","previousElementSibling","lastChild","childElementCount","removeWithParent","container_el","new_el","spans","isCEF","replaceChild","createTextNode","AnchorExtension","AnchorDerived","hasForm","checkSelection","selectionRange","isDisplayed","showForm","getForm","anchorForm","createForm","display","hideForm","getInput","link_value","input","saveSelection","hideToolbarDefaultActions","setToolbarPosition","keepToolbarAlive","focus","doLinkCreation","targetCheckbox","buttonCheckbox","opts","url","restoreSelection","checkLinkFormat","checked","buttonClass","anchorButtonClass","createLink","re","doFormCancel","target_label","button_label","form","close","save","handleFormClick","anchorInputPlaceholder","handleTextboxKeyup","handleSaveClick","handleCloseClick","anchorTarget","anchorInputCheckboxLabel","insertBefore","anchorButton","body","handleOutsideInteraction","event","toolbarActions","statics","allowMultiParagraphSelection","anchorPreviewHideDelay","delay","disableToolbar","disableEditing","disablePlaceholders","toolbarAlign","elementsContainer","imageDragging","standardizeSelectionStart","placeholder","extensions","firstButtonClass","lastButtonClass","uniqueId","setElementSelection","setup","events","initThrottledMethods","initCommands","initElements","bindSelect","bindDragDrop","bindPaste","setPlaceholders","bindElementActions","bindWindowActions","listener","useCapture","indexOfListener","removeEventListener","removeAllEvents","pop","handleResize","positionToolbarIfShown","handleBlur","hideToolbarActions","addToolbar","bindParagraphCreation","initToolbar","setFirstAndLastButtons","bindAnchorPreview","selector","bindBlur","blurFunction","isDescendantOfEditorElements","selRange","isCollapsed","toolbar","anchorPreview","placeholderWrapper","bindClick","staticToolbar","activatePlaceholder","bindReturn","bindKeydown","serialize","elementid","initExtension","extension","ext","commands","buttonName","getExtensionByName","callExtensions","funcName","which","editorElement","shiftKey","tag","onBlockModifier","ctrlKey","metaKey","fromCharCode","isEmpty","isHeader","nextElementSibling","createToolbar","createAnchorPreview","toolbarButtons","li","btn","ul","blurHelper","relatedTarget","timeoutHelper","documentElement","onDrag","onDrop","dataTransfer","dropEffect","files","some","file","match","fileReader","FileReader","readAsDataURL","onload","img","getElementById","stopSelectionUpdates","preventSelectionUpdates","startSelectionUpdates","newSelection","selectionElement","updateOnEmptySelection","multipleBlockElementsSelected","showAndUpdateToolbar","checkSelectionElement","selectionHtml","hasMultiParagraphs","adjacentNode","newRange","offset","substr","setToolbarButtonStates","showToolbarDefaultActions","toolbarWidth","toolbarHeight","halfOffsetWidth","defaultLeft","containerRect","containerTop","containerCenter","boundary","middleBoundary","targetLeft","scrollTop","windowWidth","innerWidth","buttonHeight","focusNode","getBoundingClientRect","top","width","offsetWidth","offsetHeight","showToolbar","stickyToolbar","bottom","pageYOffset","hideAnchorPreview","checkActiveButtons","manualStateChecks","checkExtension","checkState","command","fullAction","exc","selectAllContents","execActionInternal","appendAction","execFormatBlock","selectionData","isToolbarDefaultActionsShown","onHide","hideExtensionForms","isToolbarShown","onShowToolbar","hideToolbar","onHideToolbar","currNode","selectionState","preSelectionRange","start","editableElementIndex","end","nextCharIndex","editableElement","charIndex","nodeStack","foundStart","stop","showAnchorPreview","anchorEl","href","observeAnchorPreview","Math","round","lastOver","over","stamp","unstamp","interval_timer","setInterval","durr","clearInterval","anchorPreviewTemplate","anchorPreviewClickHandler","anchorExtension","activeAnchor","editorAnchorObserver","overAnchor","leaveAnchor","outerHTML","editorAnchorObserverWrapper","customEvent","setButtonClass","createEvent","initEvent","dispatchEvent","j","activate","pasteWrapper","_onChange","YouTube","getInitialState","_state","aria-label","onClick","_onClick","aria-hidden","ContentSection","ModeSelection","Strings","_fullscreen","_fullscreenWrapper","_onFullscreenClick","_defineProperty","_types","_types2","Animation","EditorBlock","HasBlocks","getBlock","transitionName","Orderable","Toolbar","modes","propType","object","getTab","disabled","_onModeClick","getTabs","Dragon","_onDrop","PreviewerBlock","RemoveBlock","editMode","isValidElement","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","$Dispatcher_callbacks","$Dispatcher_isPending","$Dispatcher_isHandled","$Dispatcher_isDispatching","$Dispatcher_pendingPayload","_lastID","_prefix","unregister","waitFor","ids","ii","$Dispatcher_invokeCallback","payload","$Dispatcher_startDispatching","$Dispatcher_stopDispatching","isDispatching","cx","classNames","names","allow","effect","draggable","dragging","droppable","modifiers","dragon-dragging","dragon-droppable","_handle","onFocus","onDragEnd","onDragLeave","onDragOver","onDragStart","_onDragStart","prevent","setData","JSON","stringify","effectAllowed","parse","receiver","keyMirror","ret","isArray","objA","objB"],"mappings":"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","file":"colonel-kurtz.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _prototypeProperties = function (child, staticProps, instanceProps) { if (staticProps) Object.defineProperties(child, staticProps); if (instanceProps) Object.defineProperties(child.prototype, instanceProps); };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\t/**\n\t * Colonel Kurts\n\t * A custom block editor\n\t * @flow\n\t */\n\t\n\tvar App = __webpack_require__(42);\n\tvar Diode = __webpack_require__(10);\n\tvar EditorCreate = __webpack_require__(19);\n\tvar EditorStore = __webpack_require__(25);\n\tvar React = __webpack_require__(1);\n\tvar seed = __webpack_require__(56);\n\tvar uid = __webpack_require__(27);\n\t\n\t__webpack_require__(67);\n\t\n\tvar ColonelKurtz = (function () {\n\t  function ColonelKurtz(config) {\n\t    var _this = this;\n\t    _classCallCheck(this, ColonelKurtz);\n\t\n\t    this.id = uid();\n\t    this.el = config.el;\n\t    this._callbacks = [];\n\t\n\t    EditorCreate(_extends({\n\t      id: this.id,\n\t      block: seed(undefined, config.seed || []) }, config));\n\t\n\t    Diode.subscribe(function () {\n\t      return _this.simulateChange();\n\t    });\n\t\n\t    setTimeout(this.simulateChange.bind(this), 10);\n\t  }\n\t\n\t  _prototypeProperties(ColonelKurtz, null, {\n\t    render: {\n\t      value: function render() {\n\t        React.render(this._rootComponent(), this._getDomElement());\n\t        return this;\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    },\n\t    simulateChange: {\n\t      value: function simulateChange() {\n\t        this._runCallbacks();\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    },\n\t    addCallback: {\n\t      value: function addCallback(callback) {\n\t        this._callbacks = this._callbacks.concat(callback);\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    },\n\t    removeCallback: {\n\t      value: function removeCallback(callback) {\n\t        this._callbacks = this._callbacks.filter(function (c) {\n\t          return c !== callback;\n\t        });\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    },\n\t    toJSON: {\n\t      value: function toJSON() {\n\t        return EditorStore.find(this.id).block.toJSON().blocks;\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    },\n\t    toHtml: {\n\t      value: function toHtml() {\n\t        var json = this.toJSON(),\n\t            html = \"\";\n\t        json.forEach(function (block) {\n\t          html += block.content.html;\n\t        });\n\t\n\t        return html;\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    },\n\t    _rootComponent: {\n\t\n\t      // Private\n\t\n\t      value: function _rootComponent() {\n\t        return React.createElement(App, { editorId: this.id });\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    },\n\t    _getDomElement: {\n\t      value: function _getDomElement() {\n\t        return this.el;\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    },\n\t    _runCallbacks: {\n\t      value: function _runCallbacks() {\n\t        var json = this.toJSON();\n\t\n\t        this._callbacks.forEach(function (callback) {\n\t          callback(json);\n\t        });\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t\n\t  return ColonelKurtz;\n\t})();\n\t\n\tColonelKurtz.addons = __webpack_require__(40);\n\tColonelKurtz.createBlock = __webpack_require__(26);\n\tColonelKurtz.addBlockType = __webpack_require__(54);\n\t\n\tmodule.exports = ColonelKurtz;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = require(\"react\");\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Dispatcher is used to broadcast payloads to registered callbacks.\n\t *\n\t * This is different from generic pub-sub systems in two ways:\n\t *\n\t * - Callbacks are not subscribed to particular events. Every payload is dispatched to every registered callback.\n\t * - Callbacks can be deferred in whole or part until other callbacks have been executed.\n\t *\n\t * See http://facebook.github.io/flux/docs/dispatcher.html\n\t */\n\t\n\tvar Dispatcher = __webpack_require__(57).Dispatcher;\n\t\n\tmodule.exports = new Dispatcher();\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar KeyMirror = __webpack_require__(62);\n\t\n\tmodule.exports = KeyMirror({\n\t  EDIT_MODE: null,\n\t  PREVIEW_MODE: null\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright 2013-2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule invariant\n\t */\n\t\n\t\"use strict\";\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar invariant = function(condition, format, a, b, c, d, e, f) {\n\t  if (\"production\" !== process.env.NODE_ENV) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error(\n\t        'Minified exception occurred; use the non-minified dev environment ' +\n\t        'for the full error message and additional helpful warnings.'\n\t      );\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(\n\t        'Invariant Violation: ' +\n\t        format.replace(/%s/g, function() { return args[argIndex++]; })\n\t      );\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\t\n\tmodule.exports = invariant;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(28)))\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar BlockStore = __webpack_require__(6);\n\tvar React = __webpack_require__(1);\n\tvar Stateful = __webpack_require__(8);\n\t\n\tmodule.exports = {\n\t  mixins: [Stateful],\n\t\n\t  propTypes: {\n\t    block: React.PropTypes.any.isRequired\n\t  },\n\t\n\t  getState: function getState() {\n\t    return {\n\t      blocks: BlockStore.childrenFor(this.props.block)\n\t    };\n\t  }\n\t\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/* @flow */\n\t\n\tvar Diode = __webpack_require__(10);\n\tvar Block = __webpack_require__(53);\n\tvar Dispatcher = __webpack_require__(2);\n\tvar invariant = __webpack_require__(4);\n\t\n\tvar _blocks = [];\n\t\n\tvar BlockStore = {\n\t\n\t  childrenFor: function childrenFor(block) {\n\t    return _blocks.filter(function (b) {\n\t      return b.parent === block;\n\t    });\n\t  },\n\t\n\t  all: function all() {\n\t    return _blocks;\n\t  },\n\t\n\t  last: function last() {\n\t    return _blocks[_blocks.length - 1];\n\t  },\n\t\n\t  find: function find(id) {\n\t    var block = _blocks.filter(function (b) {\n\t      return b.id === id;\n\t    })[0];\n\t\n\t    invariant(block, \"Unable to find block with id of %s\", id);\n\t\n\t    return block;\n\t  },\n\t\n\t  _create: function _create(_ref, position) {\n\t    var content = _ref.content;\n\t    var type = _ref.type;\n\t    var parent = _ref.parent;\n\t    var block = new Block({ content: content, type: type, parent: parent });\n\t\n\t    if (position instanceof Block) {\n\t      position = BlockStore._indexOf(position.id) + 1;\n\t    } else if (position == void 0) {\n\t      position = _blocks.length;\n\t    }\n\t\n\t    _blocks.splice(position, 0, block);\n\t\n\t    Diode.publish();\n\t\n\t    return block;\n\t  },\n\t\n\t  _destroy: function _destroy(id) {\n\t    _blocks = _blocks.filter(function (node) {\n\t      for (var n = node; n; n = n.parent) {\n\t        if (n.id == id) return false;\n\t      }\n\t\n\t      return true;\n\t    });\n\t\n\t    Diode.publish();\n\t  },\n\t\n\t  _update: function _update(id, content) {\n\t    var block = BlockStore.find(id);\n\t\n\t    block.content = _extends({}, block.content, content);\n\t\n\t    Diode.publish();\n\t  },\n\t\n\t  _indexOf: function _indexOf(id) {\n\t    return _blocks.indexOf(BlockStore.find(id));\n\t  },\n\t\n\t  _move: function _move(fromId, toId) {\n\t    var from = BlockStore._indexOf(fromId);\n\t    var to = BlockStore._indexOf(toId);\n\t\n\t    _blocks.splice(to, 0, _blocks.splice(from, 1)[0]);\n\t\n\t    Diode.publish();\n\t  },\n\t\n\t  _seed: function _seed() {\n\t    var parent = arguments[0] === undefined ? BlockStore._create({}) : arguments[0];\n\t    var items = arguments[1] === undefined ? [] : arguments[1];\n\t    for (var _iterator = items[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n\t      var _step$value = _step.value;\n\t      var blocks = _step$value.blocks;\n\t      var content = _step$value.content;\n\t      var type = _step$value.type;\n\t      BlockStore._seed(BlockStore._create({ content: content, parent: parent, type: type }), blocks);\n\t    }\n\t\n\t    return parent;\n\t  },\n\t\n\t  dispatchToken: Dispatcher.register(function (action) {\n\t    switch (action.type) {\n\t\n\t      case __webpack_require__(14):\n\t        BlockStore._create(action.params, action.position);\n\t        break;\n\t\n\t      case __webpack_require__(15):\n\t        BlockStore._destroy(action.id);\n\t        break;\n\t\n\t      case __webpack_require__(17):\n\t        BlockStore._update(action.id, action.content);\n\t        break;\n\t\n\t      case __webpack_require__(16):\n\t        BlockStore._move(action.fromId, action.toId);\n\t        break;\n\t    }\n\t  })\n\t\n\t};\n\t\n\tmodule.exports = BlockStore;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/* @flow */\n\t\n\tvar Dispatcher = __webpack_require__(2);\n\tvar React = __webpack_require__(1);\n\tvar invariant = __webpack_require__(4);\n\t\n\tvar _blockTypes = [];\n\tvar _defaults = {\n\t  icon: null,\n\t  types: null\n\t};\n\t\n\tvar BlockTypeStore = {\n\t\n\t  keys: function keys() {\n\t    return _blockTypes.map(function (b) {\n\t      return b.id;\n\t    });\n\t  },\n\t\n\t  find: function find(id) {\n\t    var type = _blockTypes.filter(function (b) {\n\t      return b.id === id;\n\t    })[0];\n\t\n\t    invariant(type, \"Unable to find block type with an id of %s\");\n\t\n\t    return type;\n\t  },\n\t\n\t  _create: function _create(params) {\n\t    var record = _extends({}, _defaults, params);\n\t\n\t    invariant(record.id, \"BlockType must have an identifier\");\n\t\n\t    _blockTypes = _blockTypes.concat(record);\n\t  },\n\t\n\t  _remove: function _remove(id) {\n\t    _blockTypes = _blockTypes.filter(function (i) {\n\t      return i.id !== id;\n\t    });\n\t  },\n\t\n\t  dispatchToken: Dispatcher.register(function (action) {\n\t    switch (action.type) {\n\t\n\t      case __webpack_require__(18):\n\t        BlockTypeStore._create(action.params);\n\t        break;\n\t\n\t    }\n\t  })\n\t\n\t};\n\t\n\tmodule.exports = BlockTypeStore;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = require(\"diode/stateful\");\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\t\n\tvar React = _interopRequire(__webpack_require__(1));\n\t\n\tvar Button = React.createClass({\n\t  displayName: \"Button\",\n\t\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      tagName: \"button\",\n\t      type: \"button\"\n\t    };\n\t  },\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var children = _props.children;\n\t    var tagName = _props.tagName;\n\t    var attrs = _objectWithoutProperties(_props, [\"children\", \"tagName\"]);\n\t\n\t    return React.createElement(tagName, attrs, [children]);\n\t  }\n\t});\n\t\n\tmodule.exports = Button;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = require(\"diode\");\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(1);\n\t\n\tvar Field = React.createClass({\n\t  displayName: \"Field\",\n\t\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      type: \"text\"\n\t    };\n\t  },\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var label = _props.label;\n\t    var name = _props.name;\n\t    var type = _props.type;\n\t    var props = _objectWithoutProperties(_props, [\"label\", \"name\", \"type\"]);\n\t\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-img-field\" },\n\t      React.createElement(\n\t        \"label\",\n\t        { className: \"col-img-label\", htmlFor: name || this.props.id },\n\t        label\n\t      ),\n\t      React.createElement(\"input\", _extends({ className: \"col-img-input\", type: type }, props, { name: name || this.props.id }))\n\t    );\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Field;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar React = __webpack_require__(1);\n\t\n\tvar Graphic = React.createClass({\n\t  displayName: \"Graphic\",\n\t\n\t\n\t  getCaption: function getCaption() {\n\t    var caption = this.props.caption;\n\t\n\t    return caption ? React.createElement(\n\t      \"figcaption\",\n\t      { className: \"col-img-caption\" },\n\t      caption\n\t    ) : null;\n\t  },\n\t\n\t  render: function render() {\n\t    var src = this.props.src;\n\t\n\t\n\t    return src ? React.createElement(\n\t      \"figure\",\n\t      { className: \"col-img-figure\" },\n\t      React.createElement(\"img\", { className: \"col-img-graphic\", src: src, alt: \"\" }),\n\t      this.getCaption()\n\t    ) : null;\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Graphic;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar React = __webpack_require__(1);\n\t\n\tvar _baseUrl = \"https://www.youtube.com/embed/\";\n\t\n\tvar Player = React.createClass({\n\t  displayName: \"Player\",\n\t\n\t\n\t  render: function render() {\n\t    var video_id = this.props.video_id;\n\t\n\t\n\t    return video_id ? React.createElement(\n\t      \"div\",\n\t      { className: \"col-youtube-player\" },\n\t      React.createElement(\"iframe\", { className: \"col-youtube-frame\", src: _baseUrl + video_id, frameBorder: \"0\", allowFullScreen: true })\n\t    ) : null;\n\t  } });\n\t\n\tmodule.exports = Player;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\tvar Dispatcher = __webpack_require__(2);\n\t\n\tmodule.exports = function CreateBlock(params, position) {\n\t  Dispatcher.dispatch({ type: CreateBlock, params: params, position: position });\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\tvar Dispatcher = __webpack_require__(2);\n\t\n\tmodule.exports = function DestroyBlock(id) {\n\t  Dispatcher.dispatch({ type: DestroyBlock, id: id });\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\tvar Dispatcher = __webpack_require__(2);\n\t\n\tmodule.exports = function MoveBlock(fromId, toId) {\n\t  Dispatcher.dispatch({ type: MoveBlock, fromId: fromId, toId: toId });\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\tvar Dispatcher = __webpack_require__(2);\n\t\n\tmodule.exports = function UpdateBlock(id, content) {\n\t  Dispatcher.dispatch({ type: UpdateBlock, id: id, content: content });\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar Dispatcher = __webpack_require__(2);\n\t\n\tmodule.exports = function CreateBlockType(params) {\n\t  Dispatcher.dispatch({ type: CreateBlockType, params: params });\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Dispatcher = __webpack_require__(2);\n\t\n\tmodule.exports = function CreateEditor(params) {\n\t  Dispatcher.dispatch({ type: CreateEditor, params: params });\n\t};\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Dispatcher = __webpack_require__(2);\n\t\n\tmodule.exports = function UpdateEditor(id, params) {\n\t  Dispatcher.dispatch({ type: UpdateEditor, id: id, params: params });\n\t};\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/* @flow */\n\t\n\tvar BlockType = __webpack_require__(7);\n\tvar Pure = __webpack_require__(24);\n\tvar Stateful = __webpack_require__(8);\n\tvar React = __webpack_require__(1);\n\tvar UpdateBlock = __webpack_require__(17);\n\t\n\tvar Block = React.createClass({\n\t  displayName: \"Block\",\n\t  mixins: [Stateful, Pure],\n\t\n\t  propTypes: {\n\t    block: React.PropTypes.any.isRequired\n\t  },\n\t\n\t  getState: function getState() {\n\t    return BlockType.find(this.props.block.type);\n\t  },\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var block = _props.block;\n\t    var props = _objectWithoutProperties(_props, [\"block\"]);\n\t\n\t    var Component = this.state.component;\n\t\n\t\n\t    return React.createElement(Component, _extends({ initialContent: block.content, updateContent: this._onUpdateContent }, props));\n\t  },\n\t\n\t  _onUpdateContent: function _onUpdateContent(content) {\n\t    UpdateBlock(this.props.block.id, content);\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Block;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar AddBlock = __webpack_require__(41);\n\tvar BlockType = __webpack_require__(7);\n\tvar React = __webpack_require__(1);\n\tvar Stateful = __webpack_require__(8);\n\t\n\tvar BlockMenu = React.createClass({\n\t  displayName: \"BlockMenu\",\n\t  mixins: [Stateful],\n\t\n\t  propTypes: {\n\t    editor: React.PropTypes.any.isRequired\n\t  },\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      position: 0\n\t    };\n\t  },\n\t\n\t  getState: function getState() {\n\t    var _props = this.props;\n\t    var editor = _props.editor;\n\t    var block = _props.block;\n\t\n\t\n\t    // If there is a given block, then use the accepted types provided by that definition\n\t    // Otherwise, fallback to the editor.\n\t    return {\n\t      types: block.type ? BlockType.find(block.type).types : editor.types\n\t    };\n\t  },\n\t\n\t  getButton: function getButton(type) {\n\t    var _props = this.props;\n\t    var block = _props.block;\n\t    var position = _props.position;\n\t\n\t\n\t    return React.createElement(AddBlock, { key: type, type: type, block: block, position: position });\n\t  },\n\t\n\t  getNavigation: function getNavigation() {\n\t    return React.createElement(\n\t      \"nav\",\n\t      { className: \"col-menu\", role: \"navigation\" },\n\t      this.state.types.map(this.getButton)\n\t    );\n\t  },\n\t\n\t  render: function render() {\n\t    return this.state.types ? this.getNavigation() : null;\n\t  } });\n\t\n\tmodule.exports = BlockMenu;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  remove: \"Remove this block\",\n\t  fullscreen: \"Toggle fullscreen mode\"\n\t};\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013-2014 Facebook, Inc.\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t *\n\t * @providesModule ReactComponentWithPureRenderMixin\n\t */\n\t\n\t\"use strict\";\n\t\n\tvar shallowEqual = __webpack_require__(63);\n\t\n\t/**\n\t * If your React component's render function is \"pure\", e.g. it will render the\n\t * same result given the same props and state, provide this Mixin for a\n\t * considerable performance boost.\n\t *\n\t * Most React components have pure render functions.\n\t *\n\t * Example:\n\t *\n\t *   var ReactComponentWithPureRenderMixin =\n\t *     require('ReactComponentWithPureRenderMixin');\n\t *   React.createClass({\n\t *     mixins: [ReactComponentWithPureRenderMixin],\n\t *\n\t *     render: function() {\n\t *       return <div className={this.props.className}>foo</div>;\n\t *     }\n\t *   });\n\t *\n\t * Note: This only checks shallow equality for props and state. If these contain\n\t * complex data structures this mixin may have false-negatives for deeper\n\t * differences. Only mixin to components which have simple props and state, or\n\t * use `forceUpdate()` when you know deep data structures have changed.\n\t */\n\tvar ReactComponentWithPureRenderMixin = {\n\t  shouldComponentUpdate: function (nextProps, nextState) {\n\t    return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n\t  }\n\t};\n\t\n\tmodule.exports = ReactComponentWithPureRenderMixin;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar BlockType = __webpack_require__(7);\n\tvar Diode = __webpack_require__(10);\n\tvar Dispatcher = __webpack_require__(2);\n\tvar Modes = __webpack_require__(3);\n\tvar invariant = __webpack_require__(4);\n\t\n\tvar _editors = [];\n\tvar getDefaults = function () {\n\t  return {\n\t    mode: Modes.EDIT_MODE,\n\t    types: BlockType.keys(),\n\t    preview: true\n\t  };\n\t};\n\t\n\tvar EditorStore = {\n\t\n\t  find: function find(id, safe) {\n\t    var editor = _editors.filter(function (block) {\n\t      return block.id === id;\n\t    })[0];\n\t\n\t    if (!safe) {\n\t      invariant(editor, \"Unable to find editor with an id of %s\", id);\n\t    }\n\t\n\t    return editor;\n\t  },\n\t\n\t  _create: function _create(params) {\n\t    var editor = _extends({}, getDefaults(), params);\n\t\n\t    invariant(Modes[editor.mode], \"Unacceptable mode for editor: \" + editor.mode);\n\t    invariant(!EditorStore.find(editor.id, true), \"Editors must have a unique identifier\");\n\t\n\t    _editors = _editors.concat(editor);\n\t\n\t    Diode.publish();\n\t  },\n\t\n\t  _update: function _update(id, params) {\n\t    var editor = EditorStore.find(id);\n\t    var index = _editors.indexOf(editor);\n\t\n\t    _editors = _editors.concat();\n\t    _editors[index] = _extends({}, getDefaults(), editor, params);\n\t\n\t    Diode.publish();\n\t  },\n\t\n\t  dispatchToken: Dispatcher.register(function (action) {\n\t    switch (action.type) {\n\t\n\t      case __webpack_require__(19):\n\t        EditorStore._create(action.params);\n\t        break;\n\t\n\t      case __webpack_require__(20):\n\t        EditorStore._update(action.id, action.params);\n\t        break;\n\t    }\n\t  })\n\t\n\t};\n\t\n\tmodule.exports = EditorStore;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/**\n\t * This utility takes an object and mixes in the required boilerplate\n\t * needed to integrate it into ColonelKurtz.\n\t *\n\t * @flow\n\t */\n\t\n\tvar React = __webpack_require__(1);\n\tvar BlockType = __webpack_require__(52);\n\t\n\tmodule.exports = function (spec) {\n\t  var mixins = spec.mixins || [];\n\t\n\t  if (mixins.indexOf(BlockType) < 0) {\n\t    mixins = mixins.concat(BlockType);\n\t  }\n\t\n\t  return React.createClass(_extends({}, spec, { React: React, mixins: mixins }));\n\t};\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar uidCounter = 0;\n\t\n\tvar uid = function () {\n\t  return uidCounter += 1;\n\t};\n\t\n\tmodule.exports = uid;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\t\n\tprocess.nextTick = (function () {\n\t    var canSetImmediate = typeof window !== 'undefined'\n\t    && window.setImmediate;\n\t    var canMutationObserver = typeof window !== 'undefined'\n\t    && window.MutationObserver;\n\t    var canPost = typeof window !== 'undefined'\n\t    && window.postMessage && window.addEventListener\n\t    ;\n\t\n\t    if (canSetImmediate) {\n\t        return function (f) { return window.setImmediate(f) };\n\t    }\n\t\n\t    var queue = [];\n\t\n\t    if (canMutationObserver) {\n\t        var hiddenDiv = document.createElement(\"div\");\n\t        var observer = new MutationObserver(function () {\n\t            var queueList = queue.slice();\n\t            queue.length = 0;\n\t            queueList.forEach(function (fn) {\n\t                fn();\n\t            });\n\t        });\n\t\n\t        observer.observe(hiddenDiv, { attributes: true });\n\t\n\t        return function nextTick(fn) {\n\t            if (!queue.length) {\n\t                hiddenDiv.setAttribute('yes', 'no');\n\t            }\n\t            queue.push(fn);\n\t        };\n\t    }\n\t\n\t    if (canPost) {\n\t        window.addEventListener('message', function (ev) {\n\t            var source = ev.source;\n\t            if ((source === window || source === null) && ev.data === 'process-tick') {\n\t                ev.stopPropagation();\n\t                if (queue.length > 0) {\n\t                    var fn = queue.shift();\n\t                    fn();\n\t                }\n\t            }\n\t        }, true);\n\t\n\t        return function nextTick(fn) {\n\t            queue.push(fn);\n\t            window.postMessage('process-tick', '*');\n\t        };\n\t    }\n\t\n\t    return function nextTick(fn) {\n\t        setTimeout(fn, 0);\n\t    };\n\t})();\n\t\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\t// TODO(shtylman)\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = require(\"react/lib/ReactCSSTransitionGroup\");\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Field = __webpack_require__(11);\n\tvar Graphic = __webpack_require__(12);\n\tvar React = __webpack_require__(1);\n\tvar Types = React.PropTypes;\n\t\n\tvar Editor = React.createClass({\n\t  displayName: \"Editor\",\n\t\n\t\n\t  propTypes: {\n\t    src: Types.string,\n\t    caption: Types.string,\n\t    attribution: Types.string,\n\t    onChange: Types.func.isRequired\n\t  },\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var src = _props.src;\n\t    var caption = _props.caption;\n\t    var attribution = _props.attribution;\n\t\n\t\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-img\" },\n\t      React.createElement(Graphic, this.props),\n\t      React.createElement(\n\t        \"fieldset\",\n\t        { className: \"col-img-fieldset\" },\n\t        React.createElement(Field, { label: \"Image Source\", type: \"url\", value: src, name: \"image_src\", onChange: this._onSrcChange }),\n\t        React.createElement(Field, { label: \"Caption\", type: \"text\", value: caption, name: \"image_caption\", onChange: this._onCaptionChange }),\n\t        React.createElement(Field, { label: \"Attribution\", type: \"text\", value: attribution, name: \"image_attribution\", onChange: this._onAttributionChange })\n\t      )\n\t    );\n\t  },\n\t\n\t  _onSrcChange: function _onSrcChange(e) {\n\t    this.props.onChange({ src: e.currentTarget.value });\n\t  },\n\t\n\t  _onCaptionChange: function _onCaptionChange(e) {\n\t    this.props.onChange({ caption: e.currentTarget.value });\n\t  },\n\t\n\t  _onAttributionChange: function _onAttributionChange(e) {\n\t    this.props.onChange({ attribution: e.currentTarget.value });\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Editor;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/**\n\t * Image Colonel Kurtz Addon\n\t * This component adds a basic image block type, including a\n\t * src, caption, and credit\n\t */\n\t\n\tvar Editor = __webpack_require__(30);\n\tvar Previewer = __webpack_require__(32);\n\tvar React = __webpack_require__(1);\n\t\n\t__webpack_require__(64);\n\t\n\tvar Image = {\n\t\n\t  defaultContent: function defaultContent() {\n\t    return { src: \"\", caption: \"\", attribution: \"\" };\n\t  },\n\t\n\t  renderEditor: function renderEditor() {\n\t    return React.createElement(Editor, _extends({ onChange: this.setContent }, this.state.content));\n\t  },\n\t\n\t  renderPreviewer: function renderPreviewer() {\n\t    return React.createElement(Previewer, this.state.content);\n\t  }\n\t\n\t};\n\t\n\tmodule.exports = Image;\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar React = __webpack_require__(1);\n\tvar Graphic = __webpack_require__(12);\n\t\n\tvar Previewer = React.createClass({\n\t  displayName: \"Previewer\",\n\t\n\t\n\t  render: function render() {\n\t    return React.createElement(Graphic, this.props);\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Previewer;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MediumEditor = __webpack_require__(36);\n\tvar React = __webpack_require__(1);\n\tvar Types = React.PropTypes;\n\t\n\tvar Editor = React.createClass({\n\t  displayName: \"Editor\",\n\t\n\t\n\t  propTypes: {\n\t    html: Types.string.isRequired,\n\t    onBlur: Types.func.isRequired\n\t  },\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      options: {\n\t        buttons: [\"header1\", \"header2\", \"bold\", \"italic\", \"underline\", \"anchor\", \"quote\", \"unorderedlist\", \"orderedlist\"],\n\t        firstHeader: \"h1\",\n\t        secondHeader: \"h2\",\n\t        diffLeft: 0,\n\t        diffTop: -10,\n\t        disableDoubleReturn: true\n\t      }\n\t    };\n\t  },\n\t\n\t  shouldComponentUpdate: function shouldComponentUpdate(props, state) {\n\t    return false;\n\t  },\n\t\n\t  componentDidMount: function componentDidMount() {\n\t    this.setState({\n\t      editor: new MediumEditor(this.refs.editor.getDOMNode(), this.props.options)\n\t    });\n\t  },\n\t\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    this.state.editor.deactivate();\n\t  },\n\t\n\t  render: function render() {\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-block-medium\" },\n\t      React.createElement(\"div\", { className: \"col-medium\", onBlur: this._onBlur, role: \"textarea\", \"aria-multiline\": \"true\", ref: \"editor\", dangerouslySetInnerHTML: { __html: this.props.html } })\n\t    );\n\t  },\n\t\n\t  _onBlur: function _onBlur() {\n\t    var editor = this.refs.editor.getDOMNode();\n\t\n\t    this.props.onBlur({\n\t      text: editor.textContent,\n\t      html: editor.innerHTML\n\t    });\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Editor;\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/**\n\t * This component adds a medium.com-like rich text editor block type.\n\t *\n\t * Source for this component can be found here:\n\t * https://github.com/daviferreira/medium-editor\n\t */\n\t\n\tvar Editor = __webpack_require__(33);\n\tvar Previewer = __webpack_require__(35);\n\tvar React = __webpack_require__(1);\n\t\n\t__webpack_require__(65);\n\t\n\tvar Medium = {\n\t\n\t  defaultContent: function defaultContent() {\n\t    return { html: \"\", text: \"\" };\n\t  },\n\t\n\t  renderEditor: function renderEditor() {\n\t    return React.createElement(Editor, _extends({ onBlur: this.setContent }, this.state.content));\n\t  },\n\t\n\t  renderPreviewer: function renderPreviewer() {\n\t    return React.createElement(Previewer, this.state.content);\n\t  }\n\t\n\t};\n\t\n\tmodule.exports = Medium;\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar React = __webpack_require__(1);\n\t\n\tvar Previewer = React.createClass({\n\t  displayName: \"Previewer\",\n\t\n\t\n\t  render: function render() {\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-block-content\" },\n\t      React.createElement(\"div\", { className: \"col-medium-preview\", dangerouslySetInnerHTML: { __html: this.props.html } })\n\t    );\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Previewer;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/*global self, document, DOMException */\n\t\n\t/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\t\n\t// Full polyfill for browsers with no classList support\n\tif (!(\"classList\" in document.createElement(\"_\"))) {\n\t    (function (view) {\n\t        \"use strict\";\n\t\n\t        if (!(\"Element\" in view)) return;\n\t\n\t        var classListProp = \"classList\",\n\t            protoProp = \"prototype\",\n\t            elemCtrProto = view.Element[protoProp],\n\t            objCtr = Object,\n\t            strTrim = String[protoProp].trim || function () {\n\t            return this.replace(/^\\s+|\\s+$/g, \"\");\n\t        },\n\t            arrIndexOf = Array[protoProp].indexOf || function (item) {\n\t            var i = 0,\n\t                len = this.length;\n\t            for (; i < len; i++) {\n\t                if (i in this && this[i] === item) {\n\t                    return i;\n\t                }\n\t            }\n\t            return -1;\n\t        }\n\t        // Vendors: please allow content code to instantiate DOMExceptions\n\t        ,\n\t            DOMEx = function (type, message) {\n\t            this.name = type;\n\t            this.code = DOMException[type];\n\t            this.message = message;\n\t        },\n\t            checkTokenAndGetIndex = function (classList, token) {\n\t            if (token === \"\") {\n\t                throw new DOMEx(\"SYNTAX_ERR\", \"An invalid or illegal string was specified\");\n\t            }\n\t            if (/\\s/.test(token)) {\n\t                throw new DOMEx(\"INVALID_CHARACTER_ERR\", \"String contains an invalid character\");\n\t            }\n\t            return arrIndexOf.call(classList, token);\n\t        },\n\t            ClassList = function (elem) {\n\t            var trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\"),\n\t                classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : [],\n\t                i = 0,\n\t                len = classes.length;\n\t            for (; i < len; i++) {\n\t                this.push(classes[i]);\n\t            }\n\t            this._updateClassName = function () {\n\t                elem.setAttribute(\"class\", this.toString());\n\t            };\n\t        },\n\t            classListProto = ClassList[protoProp] = [],\n\t            classListGetter = function () {\n\t            return new ClassList(this);\n\t        };\n\t        // Most DOMException implementations don't allow calling DOMException's toString()\n\t        // on non-DOMExceptions. Error's toString() is sufficient here.\n\t        DOMEx[protoProp] = Error[protoProp];\n\t        classListProto.item = function (i) {\n\t            return this[i] || null;\n\t        };\n\t        classListProto.contains = function (token) {\n\t            token += \"\";\n\t            return checkTokenAndGetIndex(this, token) !== -1;\n\t        };\n\t        classListProto.add = function () {\n\t            var tokens = arguments,\n\t                i = 0,\n\t                l = tokens.length,\n\t                token,\n\t                updated = false;\n\t            do {\n\t                token = tokens[i] + \"\";\n\t                if (checkTokenAndGetIndex(this, token) === -1) {\n\t                    this.push(token);\n\t                    updated = true;\n\t                }\n\t            } while (++i < l);\n\t\n\t            if (updated) {\n\t                this._updateClassName();\n\t            }\n\t        };\n\t        classListProto.remove = function () {\n\t            var tokens = arguments,\n\t                i = 0,\n\t                l = tokens.length,\n\t                token,\n\t                updated = false,\n\t                index;\n\t            do {\n\t                token = tokens[i] + \"\";\n\t                index = checkTokenAndGetIndex(this, token);\n\t                while (index !== -1) {\n\t                    this.splice(index, 1);\n\t                    updated = true;\n\t                    index = checkTokenAndGetIndex(this, token);\n\t                }\n\t            } while (++i < l);\n\t\n\t            if (updated) {\n\t                this._updateClassName();\n\t            }\n\t        };\n\t        classListProto.toggle = function (token, force) {\n\t            token += \"\";\n\t\n\t            var result = this.contains(token),\n\t                method = result ? force !== true && \"remove\" : force !== false && \"add\";\n\t\n\t            if (method) {\n\t                this[method](token);\n\t            }\n\t\n\t            if (force === true || force === false) {\n\t                return force;\n\t            } else {\n\t                return !result;\n\t            }\n\t        };\n\t        classListProto.toString = function () {\n\t            return this.join(\" \");\n\t        };\n\t\n\t        if (objCtr.defineProperty) {\n\t            var classListPropDesc = {\n\t                get: classListGetter,\n\t                enumerable: true,\n\t                configurable: true\n\t            };\n\t            try {\n\t                objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t            } catch (ex) {\n\t                // IE 8 doesn't support enumerable:true\n\t                if (ex.number === -2146823252) {\n\t                    classListPropDesc.enumerable = false;\n\t                    objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t                }\n\t            }\n\t        } else if (objCtr[protoProp].__defineGetter__) {\n\t            elemCtrProto.__defineGetter__(classListProp, classListGetter);\n\t        }\n\t    })(self);\n\t}\n\t\n\t(function (root, factory) {\n\t    \"use strict\";\n\t    if (true) {\n\t        module.exports = factory;\n\t    } else if (typeof define === \"function\" && define.amd) {\n\t        define(function () {\n\t            return factory;\n\t        });\n\t    } else {\n\t        root.MediumEditor = factory;\n\t    }\n\t})(undefined, (function () {\n\t    \"use strict\";\n\t\n\t    var Util;\n\t\n\t    (function (window, document) {\n\t        \"use strict\";\n\t\n\t        function copyInto(dest, source, overwrite) {\n\t            var prop;\n\t            dest = dest || {};\n\t            for (prop in source) {\n\t                if (source.hasOwnProperty(prop) && (overwrite || dest.hasOwnProperty(prop) === false)) {\n\t                    dest[prop] = source[prop];\n\t                }\n\t            }\n\t            return dest;\n\t        }\n\t\n\t        Util = {\n\t\n\t            // http://stackoverflow.com/questions/17907445/how-to-detect-ie11#comment30165888_17907562\n\t            // by rg89\n\t            isIE: navigator.appName === \"Microsoft Internet Explorer\" || navigator.appName === \"Netscape\" && new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\").exec(navigator.userAgent) !== null,\n\t\n\t            // https://github.com/jashkenas/underscore\n\t            keyCode: {\n\t                BACKSPACE: 8,\n\t                TAB: 9,\n\t                ENTER: 13,\n\t                ESCAPE: 27,\n\t                SPACE: 32,\n\t                DELETE: 46\n\t            },\n\t\n\t            parentElements: [\"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"blockquote\", \"pre\"],\n\t\n\t            defaults: function defaults(dest, source) {\n\t                return copyInto(dest, source);\n\t            },\n\t\n\t            extend: function extend(dest, source) {\n\t                return copyInto(dest, source, true);\n\t            },\n\t\n\t            derives: function derives(base, derived) {\n\t                var origPrototype = derived.prototype;\n\t                function Proto() {}\n\t                Proto.prototype = base.prototype;\n\t                derived.prototype = new Proto();\n\t                derived.prototype.constructor = base;\n\t                derived.prototype = copyInto(derived.prototype, origPrototype);\n\t                return derived;\n\t            },\n\t\n\t            // Find the next node in the DOM tree that represents any text that is being\n\t            // displayed directly next to the targetNode (passed as an argument)\n\t            // Text that appears directly next to the current node can be:\n\t            //  - A sibling text node\n\t            //  - A descendant of a sibling element\n\t            //  - A sibling text node of an ancestor\n\t            //  - A descendant of a sibling element of an ancestor\n\t            findAdjacentTextNodeWithContent: function findAdjacentTextNodeWithContent(rootNode, targetNode, ownerDocument) {\n\t                var pastTarget = false,\n\t                    nextNode,\n\t                    nodeIterator = ownerDocument.createNodeIterator(rootNode, NodeFilter.SHOW_TEXT, null, false);\n\t\n\t                // Use a native NodeIterator to iterate over all the text nodes that are descendants\n\t                // of the rootNode.  Once past the targetNode, choose the first non-empty text node\n\t                nextNode = nodeIterator.nextNode();\n\t                while (nextNode) {\n\t                    if (nextNode === targetNode) {\n\t                        pastTarget = true;\n\t                    } else if (pastTarget) {\n\t                        if (nextNode.nodeType === 3 && nextNode.nodeValue && nextNode.nodeValue.trim().length > 0) {\n\t                            break;\n\t                        }\n\t                    }\n\t                    nextNode = nodeIterator.nextNode();\n\t                }\n\t\n\t                return nextNode;\n\t            },\n\t\n\t            isDescendant: function isDescendant(parent, child) {\n\t                if (!parent || !child) {\n\t                    return false;\n\t                }\n\t                var node = child.parentNode;\n\t                while (node !== null) {\n\t                    if (node === parent) {\n\t                        return true;\n\t                    }\n\t                    node = node.parentNode;\n\t                }\n\t                return false;\n\t            },\n\t\n\t            // https://github.com/jashkenas/underscore\n\t            isElement: function isElement(obj) {\n\t                return !!(obj && obj.nodeType === 1);\n\t            },\n\t\n\t            now: function now() {\n\t                return Date.now || new Date().getTime();\n\t            },\n\t\n\t            // https://github.com/jashkenas/underscore\n\t            throttle: function throttle(func, wait) {\n\t                var THROTTLE_INTERVAL = 50,\n\t                    context,\n\t                    args,\n\t                    result,\n\t                    timeout = null,\n\t                    previous = 0,\n\t                    later;\n\t\n\t                if (!wait && wait !== 0) {\n\t                    wait = THROTTLE_INTERVAL;\n\t                }\n\t\n\t                later = function () {\n\t                    previous = Util.now();\n\t                    timeout = null;\n\t                    result = func.apply(context, args);\n\t                    if (!timeout) {\n\t                        context = args = null;\n\t                    }\n\t                };\n\t\n\t                return function () {\n\t                    var currNow = Util.now(),\n\t                        remaining = wait - (currNow - previous);\n\t                    context = this;\n\t                    args = arguments;\n\t                    if (remaining <= 0 || remaining > wait) {\n\t                        clearTimeout(timeout);\n\t                        timeout = null;\n\t                        previous = currNow;\n\t                        result = func.apply(context, args);\n\t                        if (!timeout) {\n\t                            context = args = null;\n\t                        }\n\t                    } else if (!timeout) {\n\t                        timeout = setTimeout(later, remaining);\n\t                    }\n\t                    return result;\n\t                };\n\t            },\n\t\n\t            traverseUp: function (current, testElementFunction) {\n\t                do {\n\t                    if (current.nodeType === 1) {\n\t                        if (testElementFunction(current)) {\n\t                            return current;\n\t                        }\n\t                        // do not traverse upwards past the nearest containing editor\n\t                        if (current.getAttribute(\"data-medium-element\")) {\n\t                            return false;\n\t                        }\n\t                    }\n\t\n\t                    current = current.parentNode;\n\t                } while (current);\n\t\n\t                return false;\n\t            },\n\t\n\t            htmlEntities: function (str) {\n\t                // converts special characters (like <) into their escaped/encoded values (like &lt;).\n\t                // This allows you to show to display the string without the browser reading it as HTML.\n\t                return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n\t            },\n\t\n\t            // http://stackoverflow.com/questions/6690752/insert-html-at-caret-in-a-contenteditable-div\n\t            insertHTMLCommand: function (doc, html) {\n\t                var selection, range, el, fragment, node, lastNode;\n\t\n\t                if (doc.queryCommandSupported(\"insertHTML\")) {\n\t                    try {\n\t                        return doc.execCommand(\"insertHTML\", false, html);\n\t                    } catch (ignore) {}\n\t                }\n\t\n\t                selection = window.getSelection();\n\t                if (selection.getRangeAt && selection.rangeCount) {\n\t                    range = selection.getRangeAt(0);\n\t                    range.deleteContents();\n\t\n\t                    el = doc.createElement(\"div\");\n\t                    el.innerHTML = html;\n\t                    fragment = doc.createDocumentFragment();\n\t                    while (el.firstChild) {\n\t                        node = el.firstChild;\n\t                        lastNode = fragment.appendChild(node);\n\t                    }\n\t                    range.insertNode(fragment);\n\t\n\t                    // Preserve the selection:\n\t                    if (lastNode) {\n\t                        range = range.cloneRange();\n\t                        range.setStartAfter(lastNode);\n\t                        range.collapse(true);\n\t                        selection.removeAllRanges();\n\t                        selection.addRange(range);\n\t                    }\n\t                }\n\t            },\n\t\n\t            // TODO: not sure if this should be here\n\t            setTargetBlank: function (el) {\n\t                var i;\n\t                if (el.tagName.toLowerCase() === \"a\") {\n\t                    el.target = \"_blank\";\n\t                } else {\n\t                    el = el.getElementsByTagName(\"a\");\n\t\n\t                    for (i = 0; i < el.length; i += 1) {\n\t                        el[i].target = \"_blank\";\n\t                    }\n\t                }\n\t            },\n\t\n\t            isListItemChild: function (node) {\n\t                var parentNode = node.parentNode,\n\t                    tagName = parentNode.tagName.toLowerCase();\n\t                while (this.parentElements.indexOf(tagName) === -1 && tagName !== \"div\") {\n\t                    if (tagName === \"li\") {\n\t                        return true;\n\t                    }\n\t                    parentNode = parentNode.parentNode;\n\t                    if (parentNode && parentNode.tagName) {\n\t                        tagName = parentNode.tagName.toLowerCase();\n\t                    } else {\n\t                        return false;\n\t                    }\n\t                }\n\t                return false;\n\t            }\n\t        };\n\t    })(window, document);\n\t\n\t    var Selection;\n\t\n\t    (function (window, document) {\n\t        \"use strict\";\n\t\n\t        Selection = {\n\t            // http://stackoverflow.com/questions/1197401/how-can-i-get-the-element-the-caret-is-in-with-javascript-when-using-contentedi\n\t            // by You\n\t            getSelectionStart: function (ownerDocument) {\n\t                var node = ownerDocument.getSelection().anchorNode,\n\t                    startNode = node && node.nodeType === 3 ? node.parentNode : node;\n\t                return startNode;\n\t            },\n\t\n\t            findMatchingSelectionParent: function (testElementFunction, contentWindow) {\n\t                var selection = contentWindow.getSelection(),\n\t                    range,\n\t                    current;\n\t\n\t                if (selection.rangeCount === 0) {\n\t                    return false;\n\t                }\n\t\n\t                range = selection.getRangeAt(0);\n\t                current = range.commonAncestorContainer;\n\t\n\t                return Util.traverseUp(current, testElementFunction);\n\t            },\n\t\n\t            getSelectionElement: function (contentWindow) {\n\t                return this.findMatchingSelectionParent(function (el) {\n\t                    return el.getAttribute(\"data-medium-element\");\n\t                }, contentWindow);\n\t            },\n\t\n\t            selectionInContentEditableFalse: function (contentWindow) {\n\t                return this.findMatchingSelectionParent(function (el) {\n\t                    return el && el.nodeName !== \"#text\" && el.getAttribute(\"contenteditable\") === \"false\";\n\t                }, contentWindow);\n\t            },\n\t\n\t            // http://stackoverflow.com/questions/4176923/html-of-selected-text\n\t            // by Tim Down\n\t            getSelectionHtml: function getSelectionHtml() {\n\t                var i,\n\t                    html = \"\",\n\t                    sel,\n\t                    len,\n\t                    container;\n\t                if (this.options.contentWindow.getSelection !== undefined) {\n\t                    sel = this.options.contentWindow.getSelection();\n\t                    if (sel.rangeCount) {\n\t                        container = this.options.ownerDocument.createElement(\"div\");\n\t                        for (i = 0, len = sel.rangeCount; i < len; i += 1) {\n\t                            container.appendChild(sel.getRangeAt(i).cloneContents());\n\t                        }\n\t                        html = container.innerHTML;\n\t                    }\n\t                } else if (this.options.ownerDocument.selection !== undefined) {\n\t                    if (this.options.ownerDocument.selection.type === \"Text\") {\n\t                        html = this.options.ownerDocument.selection.createRange().htmlText;\n\t                    }\n\t                }\n\t                return html;\n\t            },\n\t\n\t            /**\n\t             *  Find the caret position within an element irrespective of any inline tags it may contain.\n\t             *\n\t             *  @param {DOMElement} An element containing the cursor to find offsets relative to.\n\t             *  @param {Range} A Range representing cursor position. Will window.getSelection if none is passed.\n\t             *  @return {Object} 'left' and 'right' attributes contain offsets from begining and end of Element\n\t             */\n\t            getCaretOffsets: function getCaretOffsets(element, range) {\n\t                var preCaretRange, postCaretRange;\n\t\n\t                if (!range) {\n\t                    range = window.getSelection().getRangeAt(0);\n\t                }\n\t\n\t                preCaretRange = range.cloneRange();\n\t                postCaretRange = range.cloneRange();\n\t\n\t                preCaretRange.selectNodeContents(element);\n\t                preCaretRange.setEnd(range.endContainer, range.endOffset);\n\t\n\t                postCaretRange.selectNodeContents(element);\n\t                postCaretRange.setStart(range.endContainer, range.endOffset);\n\t\n\t                return {\n\t                    left: preCaretRange.toString().length,\n\t                    right: postCaretRange.toString().length\n\t                };\n\t            },\n\t\n\t            // http://stackoverflow.com/questions/15867542/range-object-get-selection-parent-node-chrome-vs-firefox\n\t            rangeSelectsSingleNode: function (range) {\n\t                var startNode = range.startContainer;\n\t                return startNode === range.endContainer && startNode.hasChildNodes() && range.endOffset === range.startOffset + 1;\n\t            },\n\t\n\t            getSelectedParentElement: function (range) {\n\t                var selectedParentElement = null;\n\t                if (this.rangeSelectsSingleNode(range) && range.startContainer.childNodes[range.startOffset].nodeType !== 3) {\n\t                    selectedParentElement = range.startContainer.childNodes[range.startOffset];\n\t                } else if (range.startContainer.nodeType === 3) {\n\t                    selectedParentElement = range.startContainer.parentNode;\n\t                } else {\n\t                    selectedParentElement = range.startContainer;\n\t                }\n\t                return selectedParentElement;\n\t            },\n\t\n\t            getSelectionData: function (el) {\n\t                var tagName;\n\t\n\t                if (el && el.tagName) {\n\t                    tagName = el.tagName.toLowerCase();\n\t                }\n\t\n\t                while (el && Util.parentElements.indexOf(tagName) === -1) {\n\t                    el = el.parentNode;\n\t                    if (el && el.tagName) {\n\t                        tagName = el.tagName.toLowerCase();\n\t                    }\n\t                }\n\t\n\t                return {\n\t                    el: el,\n\t                    tagName: tagName\n\t                };\n\t            }\n\t        };\n\t    })(document, window);\n\t\n\t    var DefaultButton, ButtonsData;\n\t\n\t    (function (window, document) {\n\t        \"use strict\";\n\t\n\t        ButtonsData = {\n\t            bold: {\n\t                name: \"bold\",\n\t                action: \"bold\",\n\t                aria: \"bold\",\n\t                tagNames: [\"b\", \"strong\"],\n\t                style: {\n\t                    prop: \"font-weight\",\n\t                    value: \"700|bold\"\n\t                },\n\t                useQueryState: true,\n\t                contentDefault: \"<b>B</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-bold\\\"></i>\",\n\t                key: \"b\"\n\t            },\n\t            italic: {\n\t                name: \"italic\",\n\t                action: \"italic\",\n\t                aria: \"italic\",\n\t                tagNames: [\"i\", \"em\"],\n\t                style: {\n\t                    prop: \"font-style\",\n\t                    value: \"italic\"\n\t                },\n\t                useQueryState: true,\n\t                contentDefault: \"<b><i>I</i></b>\",\n\t                contentFA: \"<i class=\\\"fa fa-italic\\\"></i>\",\n\t                key: \"i\"\n\t            },\n\t            underline: {\n\t                name: \"underline\",\n\t                action: \"underline\",\n\t                aria: \"underline\",\n\t                tagNames: [\"u\"],\n\t                style: {\n\t                    prop: \"text-decoration\",\n\t                    value: \"underline\"\n\t                },\n\t                useQueryState: true,\n\t                contentDefault: \"<b><u>U</u></b>\",\n\t                contentFA: \"<i class=\\\"fa fa-underline\\\"></i>\",\n\t                key: \"u\"\n\t            },\n\t            strikethrough: {\n\t                name: \"strikethrough\",\n\t                action: \"strikethrough\",\n\t                aria: \"strike through\",\n\t                tagNames: [\"strike\"],\n\t                style: {\n\t                    prop: \"text-decoration\",\n\t                    value: \"line-through\"\n\t                },\n\t                useQueryState: true,\n\t                contentDefault: \"<s>A</s>\",\n\t                contentFA: \"<i class=\\\"fa fa-strikethrough\\\"></i>\"\n\t            },\n\t            superscript: {\n\t                name: \"superscript\",\n\t                action: \"superscript\",\n\t                aria: \"superscript\",\n\t                tagNames: [\"sup\"],\n\t                /* firefox doesn't behave the way we want it to, so we CAN'T use queryCommandState for superscript\n\t                   https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate */\n\t                // useQueryState: true\n\t                contentDefault: \"<b>x<sup>1</sup></b>\",\n\t                contentFA: \"<i class=\\\"fa fa-superscript\\\"></i>\"\n\t            },\n\t            subscript: {\n\t                name: \"subscript\",\n\t                action: \"subscript\",\n\t                aria: \"subscript\",\n\t                tagNames: [\"sub\"],\n\t                /* firefox doesn't behave the way we want it to, so we CAN'T use queryCommandState for subscript\n\t                   https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate */\n\t                // useQueryState: true\n\t                contentDefault: \"<b>x<sub>1</sub></b>\",\n\t                contentFA: \"<i class=\\\"fa fa-subscript\\\"></i>\"\n\t            },\n\t            image: {\n\t                name: \"image\",\n\t                action: \"image\",\n\t                aria: \"image\",\n\t                tagNames: [\"img\"],\n\t                contentDefault: \"<b>image</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-picture-o\\\"></i>\"\n\t            },\n\t            quote: {\n\t                name: \"quote\",\n\t                action: \"append-blockquote\",\n\t                aria: \"blockquote\",\n\t                tagNames: [\"blockquote\"],\n\t                contentDefault: \"<b>&ldquo;</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-quote-right\\\"></i>\"\n\t            },\n\t            orderedlist: {\n\t                name: \"orderedlist\",\n\t                action: \"insertorderedlist\",\n\t                aria: \"ordered list\",\n\t                tagNames: [\"ol\"],\n\t                useQueryState: true,\n\t                contentDefault: \"<b>1.</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-list-ol\\\"></i>\"\n\t            },\n\t            unorderedlist: {\n\t                name: \"unorderedlist\",\n\t                action: \"insertunorderedlist\",\n\t                aria: \"unordered list\",\n\t                tagNames: [\"ul\"],\n\t                useQueryState: true,\n\t                contentDefault: \"<b>&bull;</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-list-ul\\\"></i>\"\n\t            },\n\t            pre: {\n\t                name: \"pre\",\n\t                action: \"append-pre\",\n\t                aria: \"preformatted text\",\n\t                tagNames: [\"pre\"],\n\t                contentDefault: \"<b>0101</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-code fa-lg\\\"></i>\"\n\t            },\n\t            indent: {\n\t                name: \"indent\",\n\t                action: \"indent\",\n\t                aria: \"indent\",\n\t                tagNames: [],\n\t                contentDefault: \"<b>&rarr;</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-indent\\\"></i>\"\n\t            },\n\t            outdent: {\n\t                name: \"outdent\",\n\t                action: \"outdent\",\n\t                aria: \"outdent\",\n\t                tagNames: [],\n\t                contentDefault: \"<b>&larr;</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-outdent\\\"></i>\"\n\t            },\n\t            justifyCenter: {\n\t                name: \"justifyCenter\",\n\t                action: \"justifyCenter\",\n\t                aria: \"center justify\",\n\t                tagNames: [],\n\t                style: {\n\t                    prop: \"text-align\",\n\t                    value: \"center\"\n\t                },\n\t                useQueryState: true,\n\t                contentDefault: \"<b>C</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-align-center\\\"></i>\"\n\t            },\n\t            justifyFull: {\n\t                name: \"justifyFull\",\n\t                action: \"justifyFull\",\n\t                aria: \"full justify\",\n\t                tagNames: [],\n\t                style: {\n\t                    prop: \"text-align\",\n\t                    value: \"justify\"\n\t                },\n\t                useQueryState: true,\n\t                contentDefault: \"<b>J</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-align-justify\\\"></i>\"\n\t            },\n\t            justifyLeft: {\n\t                name: \"justifyLeft\",\n\t                action: \"justifyLeft\",\n\t                aria: \"left justify\",\n\t                tagNames: [],\n\t                style: {\n\t                    prop: \"text-align\",\n\t                    value: \"left\"\n\t                },\n\t                useQueryState: true,\n\t                contentDefault: \"<b>L</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-align-left\\\"></i>\"\n\t            },\n\t            justifyRight: {\n\t                name: \"justifyRight\",\n\t                action: \"justifyRight\",\n\t                aria: \"right justify\",\n\t                tagNames: [],\n\t                style: {\n\t                    prop: \"text-align\",\n\t                    value: \"right\"\n\t                },\n\t                useQueryState: true,\n\t                contentDefault: \"<b>R</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-align-right\\\"></i>\"\n\t            },\n\t            header1: {\n\t                name: \"header1\",\n\t                action: function (options) {\n\t                    return \"append-\" + options.firstHeader;\n\t                },\n\t                aria: function (options) {\n\t                    return options.firstHeader;\n\t                },\n\t                tagNames: function (options) {\n\t                    return [options.firstHeader];\n\t                },\n\t                contentDefault: \"<b>H1</b>\"\n\t            },\n\t            header2: {\n\t                name: \"header2\",\n\t                action: function (options) {\n\t                    return \"append-\" + options.secondHeader;\n\t                },\n\t                aria: function (options) {\n\t                    return options.secondHeader;\n\t                },\n\t                tagNames: function (options) {\n\t                    return [options.secondHeader];\n\t                },\n\t                contentDefault: \"<b>H2</b>\"\n\t            }\n\t        };\n\t\n\t        DefaultButton = function (options, instance) {\n\t            this.options = options;\n\t            this.name = options.name;\n\t            this.init(instance);\n\t        };\n\t\n\t        DefaultButton.prototype = {\n\t            init: function (instance) {\n\t                this.base = instance;\n\t\n\t                this.button = this.createButton();\n\t                this.base.on(this.button, \"click\", this.handleClick.bind(this));\n\t            },\n\t            getButton: function () {\n\t                return this.button;\n\t            },\n\t            getAction: function () {\n\t                return typeof this.options.action === \"function\" ? this.options.action(this.base.options) : this.options.action;\n\t            },\n\t            getAria: function () {\n\t                return typeof this.options.aria === \"function\" ? this.options.aria(this.base.options) : this.options.aria;\n\t            },\n\t            getTagNames: function () {\n\t                return typeof this.options.tagNames === \"function\" ? this.options.tagNames(this.base.options) : this.options.tagNames;\n\t            },\n\t            createButton: function () {\n\t                var button = this.base.options.ownerDocument.createElement(\"button\"),\n\t                    content = this.options.contentDefault;\n\t                button.classList.add(\"medium-editor-action\");\n\t                button.classList.add(\"medium-editor-action-\" + this.name);\n\t                button.setAttribute(\"data-action\", this.getAction());\n\t                button.setAttribute(\"aria-label\", this.getAria());\n\t                if (this.base.options.buttonLabels) {\n\t                    if (this.base.options.buttonLabels === \"fontawesome\" && this.options.contentFA) {\n\t                        content = this.options.contentFA;\n\t                    } else if (typeof this.base.options.buttonLabels === \"object\" && this.base.options.buttonLabels[this.name]) {\n\t                        content = this.base.options.buttonLabels[this.options.name];\n\t                    }\n\t                }\n\t                button.innerHTML = content;\n\t                return button;\n\t            },\n\t            handleClick: function (evt) {\n\t                evt.preventDefault();\n\t                evt.stopPropagation();\n\t\n\t                var action = this.getAction();\n\t\n\t                if (action) {\n\t                    this.base.execAction(action);\n\t                }\n\t            },\n\t            isActive: function () {\n\t                return this.button.classList.contains(this.base.options.activeButtonClass);\n\t            },\n\t            setInactive: function () {\n\t                this.button.classList.remove(this.base.options.activeButtonClass);\n\t                delete this.knownState;\n\t            },\n\t            setActive: function () {\n\t                this.button.classList.add(this.base.options.activeButtonClass);\n\t                delete this.knownState;\n\t            },\n\t            queryCommandState: function () {\n\t                var queryState = null;\n\t                if (this.options.useQueryState) {\n\t                    queryState = this.base.queryCommandState(this.getAction());\n\t                }\n\t                return queryState;\n\t            },\n\t            isAlreadyApplied: function (node) {\n\t                var isMatch = false,\n\t                    tagNames = this.getTagNames(),\n\t                    styleVals,\n\t                    computedStyle;\n\t\n\t                if (this.knownState === false || this.knownState === true) {\n\t                    return this.knownState;\n\t                }\n\t\n\t                if (tagNames && tagNames.length > 0 && node.tagName) {\n\t                    isMatch = tagNames.indexOf(node.tagName.toLowerCase()) !== -1;\n\t                }\n\t\n\t                if (!isMatch && this.options.style) {\n\t                    styleVals = this.options.style.value.split(\"|\");\n\t                    computedStyle = this.base.options.contentWindow.getComputedStyle(node, null).getPropertyValue(this.options.style.prop);\n\t                    styleVals.forEach((function (val) {\n\t                        if (!this.knownState) {\n\t                            this.knownState = isMatch = computedStyle.indexOf(val) !== -1;\n\t                        }\n\t                    }).bind(this));\n\t                }\n\t\n\t                return isMatch;\n\t            }\n\t        };\n\t    })(window, document);\n\t\n\t    var pasteHandler;\n\t\n\t    (function (window, document) {\n\t        \"use strict\";\n\t        /*jslint regexp: true*/\n\t        /*\n\t            jslint does not allow character negation, because the negation\n\t            will not match any unicode characters. In the regexes in this\n\t            block, negation is used specifically to match the end of an html\n\t            tag, and in fact unicode characters *should* be allowed.\n\t        */\n\t        function createReplacements() {\n\t            return [\n\t\n\t            // replace two bogus tags that begin pastes from google docs\n\t            [new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi), \"\"], [new RegExp(/<\\/b>(<br[^>]*>)?$/gi), \"\"],\n\t\n\t            // un-html spaces and newlines inserted by OS X\n\t            [new RegExp(/<span class=\"Apple-converted-space\">\\s+<\\/span>/g), \" \"], [new RegExp(/<br class=\"Apple-interchange-newline\">/g), \"<br>\"],\n\t\n\t            // replace google docs italics+bold with a span to be replaced once the html is inserted\n\t            [new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi), \"<span class=\\\"replace-with italic bold\\\">\"],\n\t\n\t            // replace google docs italics with a span to be replaced once the html is inserted\n\t            [new RegExp(/<span[^>]*font-style:italic[^>]*>/gi), \"<span class=\\\"replace-with italic\\\">\"],\n\t\n\t            //[replace google docs bolds with a span to be replaced once the html is inserted\n\t            [new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi), \"<span class=\\\"replace-with bold\\\">\"],\n\t\n\t            // replace manually entered b/i/a tags with real ones\n\t            [new RegExp(/&lt;(\\/?)(i|b|a)&gt;/gi), \"<$1$2>\"],\n\t\n\t            // replace manually a tags with real ones, converting smart-quotes from google docs\n\t            [new RegExp(/&lt;a\\s+href=(&quot;|&rdquo;|&ldquo;|“|”)([^&]+)(&quot;|&rdquo;|&ldquo;|“|”)&gt;/gi), \"<a href=\\\"$2\\\">\"]];\n\t        }\n\t        /*jslint regexp: false*/\n\t\n\t        pasteHandler = {\n\t            handlePaste: function (element, evt, options) {\n\t                var paragraphs,\n\t                    html = \"\",\n\t                    p,\n\t                    dataFormatHTML = \"text/html\",\n\t                    dataFormatPlain = \"text/plain\";\n\t\n\t                element.classList.remove(\"medium-editor-placeholder\");\n\t                if (!options.forcePlainText && !options.cleanPastedHTML) {\n\t                    return element;\n\t                }\n\t\n\t                if (options.contentWindow.clipboardData && evt.clipboardData === undefined) {\n\t                    evt.clipboardData = options.contentWindow.clipboardData;\n\t                    // If window.clipboardData exists, but e.clipboardData doesn't exist,\n\t                    // we're probably in IE. IE only has two possibilities for clipboard\n\t                    // data format: 'Text' and 'URL'.\n\t                    //\n\t                    // Of the two, we want 'Text':\n\t                    dataFormatHTML = \"Text\";\n\t                    dataFormatPlain = \"Text\";\n\t                }\n\t\n\t                if (evt.clipboardData && evt.clipboardData.getData && !evt.defaultPrevented) {\n\t                    evt.preventDefault();\n\t\n\t                    if (options.cleanPastedHTML && evt.clipboardData.getData(dataFormatHTML)) {\n\t                        return this.cleanPaste(evt.clipboardData.getData(dataFormatHTML), options);\n\t                    }\n\t                    if (!(options.disableReturn || element.getAttribute(\"data-disable-return\"))) {\n\t                        paragraphs = evt.clipboardData.getData(dataFormatPlain).split(/[\\r\\n]/g);\n\t                        for (p = 0; p < paragraphs.length; p += 1) {\n\t                            if (paragraphs[p] !== \"\") {\n\t                                html += \"<p>\" + Util.htmlEntities(paragraphs[p]) + \"</p>\";\n\t                            }\n\t                        }\n\t                        Util.insertHTMLCommand(options.ownerDocument, html);\n\t                    } else {\n\t                        html = Util.htmlEntities(evt.clipboardData.getData(dataFormatPlain));\n\t                        Util.insertHTMLCommand(options.ownerDocument, html);\n\t                    }\n\t                }\n\t            },\n\t\n\t            cleanPaste: function (text, options) {\n\t                var i,\n\t                    elList,\n\t                    workEl,\n\t                    el = Selection.getSelectionElement(options.contentWindow),\n\t                    multiline = /<p|<br|<div/.test(text),\n\t                    replacements = createReplacements();\n\t\n\t                for (i = 0; i < replacements.length; i += 1) {\n\t                    text = text.replace(replacements[i][0], replacements[i][1]);\n\t                }\n\t\n\t                if (multiline) {\n\t                    // double br's aren't converted to p tags, but we want paragraphs.\n\t                    elList = text.split(\"<br><br>\");\n\t\n\t                    this.pasteHTML(\"<p>\" + elList.join(\"</p><p>\") + \"</p>\", options.ownerDocument);\n\t\n\t                    try {\n\t                        options.ownerDocument.execCommand(\"insertText\", false, \"\\n\");\n\t                    } catch (ignore) {}\n\t\n\t                    // block element cleanup\n\t                    elList = el.querySelectorAll(\"a,p,div,br\");\n\t                    for (i = 0; i < elList.length; i += 1) {\n\t                        workEl = elList[i];\n\t\n\t                        switch (workEl.tagName.toLowerCase()) {\n\t                            case \"a\":\n\t                                if (options.targetBlank) {\n\t                                    Util.setTargetBlank(workEl);\n\t                                }\n\t                                break;\n\t                            case \"p\":\n\t                            case \"div\":\n\t                                this.filterCommonBlocks(workEl);\n\t                                break;\n\t                            case \"br\":\n\t                                this.filterLineBreak(workEl);\n\t                                break;\n\t                        }\n\t                    }\n\t                } else {\n\t                    this.pasteHTML(text, options.ownerDocument);\n\t                }\n\t            },\n\t\n\t            pasteHTML: function (html, ownerDocument) {\n\t                var elList,\n\t                    workEl,\n\t                    i,\n\t                    fragmentBody,\n\t                    pasteBlock = ownerDocument.createDocumentFragment();\n\t\n\t                pasteBlock.appendChild(ownerDocument.createElement(\"body\"));\n\t\n\t                fragmentBody = pasteBlock.querySelector(\"body\");\n\t                fragmentBody.innerHTML = html;\n\t\n\t                this.cleanupSpans(fragmentBody, ownerDocument);\n\t\n\t                elList = fragmentBody.querySelectorAll(\"*\");\n\t                for (i = 0; i < elList.length; i += 1) {\n\t                    workEl = elList[i];\n\t\n\t                    // delete ugly attributes\n\t                    workEl.removeAttribute(\"class\");\n\t                    workEl.removeAttribute(\"style\");\n\t                    workEl.removeAttribute(\"dir\");\n\t\n\t                    if (workEl.tagName.toLowerCase() === \"meta\") {\n\t                        workEl.parentNode.removeChild(workEl);\n\t                    }\n\t                }\n\t                Util.insertHTMLCommand(ownerDocument, fragmentBody.innerHTML.replace(/&nbsp;/g, \" \"));\n\t            },\n\t            isCommonBlock: function (el) {\n\t                return el && (el.tagName.toLowerCase() === \"p\" || el.tagName.toLowerCase() === \"div\");\n\t            },\n\t            filterCommonBlocks: function (el) {\n\t                if (/^\\s*$/.test(el.textContent)) {\n\t                    el.parentNode.removeChild(el);\n\t                }\n\t            },\n\t            filterLineBreak: function (el) {\n\t                if (this.isCommonBlock(el.previousElementSibling)) {\n\t                    // remove stray br's following common block elements\n\t                    el.parentNode.removeChild(el);\n\t                } else if (this.isCommonBlock(el.parentNode) && (el.parentNode.firstChild === el || el.parentNode.lastChild === el)) {\n\t                    // remove br's just inside open or close tags of a div/p\n\t                    el.parentNode.removeChild(el);\n\t                } else if (el.parentNode.childElementCount === 1 && el.parentNode.textContent === \"\") {\n\t                    // and br's that are the only child of a div/p\n\t                    this.removeWithParent(el);\n\t                }\n\t            },\n\t\n\t            // remove an element, including its parent, if it is the only element within its parent\n\t            removeWithParent: function (el) {\n\t                if (el && el.parentNode) {\n\t                    if (el.parentNode.parentNode && el.parentNode.childElementCount === 1) {\n\t                        el.parentNode.parentNode.removeChild(el.parentNode);\n\t                    } else {\n\t                        el.parentNode.removeChild(el.parentNode);\n\t                    }\n\t                }\n\t            },\n\t\n\t            cleanupSpans: function (container_el, ownerDocument) {\n\t                var i,\n\t                    el,\n\t                    new_el,\n\t                    spans = container_el.querySelectorAll(\".replace-with\"),\n\t                    isCEF = function (el) {\n\t                    return el && el.nodeName !== \"#text\" && el.getAttribute(\"contenteditable\") === \"false\";\n\t                };\n\t\n\t                for (i = 0; i < spans.length; i += 1) {\n\t                    el = spans[i];\n\t                    new_el = ownerDocument.createElement(el.classList.contains(\"bold\") ? \"b\" : \"i\");\n\t\n\t                    if (el.classList.contains(\"bold\") && el.classList.contains(\"italic\")) {\n\t                        // add an i tag as well if this has both italics and bold\n\t                        new_el.innerHTML = \"<i>\" + el.innerHTML + \"</i>\";\n\t                    } else {\n\t                        new_el.innerHTML = el.innerHTML;\n\t                    }\n\t                    el.parentNode.replaceChild(new_el, el);\n\t                }\n\t\n\t                spans = container_el.querySelectorAll(\"span\");\n\t                for (i = 0; i < spans.length; i += 1) {\n\t                    el = spans[i];\n\t\n\t                    // bail if span is in contenteditable = false\n\t                    if (Util.traverseUp(el, isCEF)) {\n\t                        return false;\n\t                    }\n\t\n\t                    // remove empty spans, replace others with their contents\n\t                    if (/^\\s*$/.test()) {\n\t                        el.parentNode.removeChild(el);\n\t                    } else {\n\t                        el.parentNode.replaceChild(ownerDocument.createTextNode(el.textContent), el);\n\t                    }\n\t                }\n\t            }\n\t        };\n\t    })(window, document);\n\t\n\t    var AnchorExtension;\n\t\n\t    (function (window, document) {\n\t        \"use strict\";\n\t\n\t        function AnchorDerived() {\n\t            this.parent = true;\n\t            this.options = {\n\t                name: \"anchor\",\n\t                action: \"createLink\",\n\t                aria: \"link\",\n\t                tagNames: [\"a\"],\n\t                contentDefault: \"<b>#</b>\",\n\t                contentFA: \"<i class=\\\"fa fa-link\\\"></i>\"\n\t            };\n\t            this.name = \"anchor\";\n\t            this.hasForm = true;\n\t        }\n\t\n\t        AnchorDerived.prototype = {\n\t\n\t            // Button and Extension handling\n\t\n\t            // Called when the button the toolbar is clicked\n\t            // Overrides DefaultButton.handleClick\n\t            handleClick: function (evt) {\n\t                evt.preventDefault();\n\t                evt.stopPropagation();\n\t\n\t                if (!this.base.selection) {\n\t                    this.base.checkSelection();\n\t                }\n\t\n\t                var selectedParentElement = Selection.getSelectedParentElement(this.base.selectionRange);\n\t                if (selectedParentElement.tagName && selectedParentElement.tagName.toLowerCase() === \"a\") {\n\t                    return this.base.execAction(\"unlink\");\n\t                }\n\t\n\t                if (!this.isDisplayed()) {\n\t                    this.showForm();\n\t                }\n\t\n\t                return false;\n\t            },\n\t\n\t            // Called by medium-editor to append form to the toolbar\n\t            getForm: function () {\n\t                if (!this.anchorForm) {\n\t                    this.anchorForm = this.createForm();\n\t                }\n\t                return this.anchorForm;\n\t            },\n\t\n\t            // Used by medium-editor when the default toolbar is to be displayed\n\t            isDisplayed: function () {\n\t                return this.getForm().style.display === \"block\";\n\t            },\n\t\n\t            hideForm: function () {\n\t                this.getForm().style.display = \"none\";\n\t                this.getInput().value = \"\";\n\t            },\n\t\n\t            showForm: function (link_value) {\n\t                var input = this.getInput();\n\t\n\t                this.base.saveSelection();\n\t                this.base.hideToolbarDefaultActions();\n\t                this.getForm().style.display = \"block\";\n\t                this.base.setToolbarPosition();\n\t                this.base.keepToolbarAlive = true;\n\t\n\t                input.value = link_value || \"\";\n\t                input.focus();\n\t            },\n\t\n\t            // Called by core when tearing down medium-editor (deactivate)\n\t            deactivate: function () {\n\t                if (!this.anchorForm) {\n\t                    return false;\n\t                }\n\t\n\t                if (this.anchorForm.parentNode) {\n\t                    this.anchorForm.parentNode.removeChild(this.anchorForm);\n\t                }\n\t\n\t                delete this.anchorForm;\n\t            },\n\t\n\t            // core methods\n\t\n\t            doLinkCreation: function () {\n\t                var targetCheckbox = this.getForm().querySelector(\".medium-editor-toolbar-anchor-target\"),\n\t                    buttonCheckbox = this.getForm().querySelector(\".medium-editor-toolbar-anchor-button\"),\n\t                    opts = {\n\t                    url: this.getInput().value\n\t                };\n\t\n\t                this.base.restoreSelection();\n\t\n\t                if (this.base.options.checkLinkFormat) {\n\t                    opts.url = this.checkLinkFormat(opts.url);\n\t                }\n\t\n\t                if (targetCheckbox && targetCheckbox.checked) {\n\t                    opts.target = \"_blank\";\n\t                } else {\n\t                    opts.target = \"_self\";\n\t                }\n\t\n\t                if (buttonCheckbox && buttonCheckbox.checked) {\n\t                    opts.buttonClass = this.base.options.anchorButtonClass;\n\t                }\n\t\n\t                this.base.createLink(opts);\n\t                this.base.keepToolbarAlive = false;\n\t                this.base.checkSelection();\n\t            },\n\t\n\t            checkLinkFormat: function (value) {\n\t                var re = /^(https?|ftps?|rtmpt?):\\/\\/|mailto:/;\n\t                return (re.test(value) ? \"\" : \"http://\") + value;\n\t            },\n\t\n\t            doFormCancel: function () {\n\t                this.base.restoreSelection();\n\t                this.base.keepToolbarAlive = false;\n\t                this.base.checkSelection();\n\t            },\n\t\n\t            // form creation and event handling\n\t\n\t            createForm: function () {\n\t                var doc = this.base.options.ownerDocument,\n\t                    form = doc.createElement(\"div\"),\n\t                    input = doc.createElement(\"input\"),\n\t                    close = doc.createElement(\"a\"),\n\t                    save = doc.createElement(\"a\"),\n\t                    target,\n\t                    target_label,\n\t                    button,\n\t                    button_label;\n\t\n\t                // Anchor Form (div)\n\t                form.className = \"medium-editor-toolbar-form\";\n\t                form.id = \"medium-editor-toolbar-form-anchor-\" + this.base.id;\n\t\n\t                // Handle clicks on the form itself\n\t                this.base.on(form, \"click\", this.handleFormClick.bind(this));\n\t\n\t                // Add url textbox\n\t                input.setAttribute(\"type\", \"text\");\n\t                input.className = \"medium-editor-toolbar-input\";\n\t                input.setAttribute(\"placeholder\", this.base.options.anchorInputPlaceholder);\n\t                form.appendChild(input);\n\t\n\t                // Handle typing in the textbox\n\t                this.base.on(input, \"keyup\", this.handleTextboxKeyup.bind(this));\n\t\n\t                // Handle clicks into the textbox\n\t                this.base.on(input, \"click\", this.handleFormClick.bind(this));\n\t\n\t                // Add save buton\n\t                save.setAttribute(\"href\", \"#\");\n\t                save.className = \"medium-editor-toobar-save\";\n\t                save.innerHTML = this.base.options.buttonLabels === \"fontawesome\" ? \"<i class=\\\"fa fa-check\\\"></i>\" : \"&#10003;\";\n\t                form.appendChild(save);\n\t\n\t                // Handle save button clicks (capture)\n\t                this.base.on(save, \"click\", this.handleSaveClick.bind(this), true);\n\t\n\t                // Add close button\n\t                close.setAttribute(\"href\", \"#\");\n\t                close.className = \"medium-editor-toobar-close\";\n\t                close.innerHTML = this.base.options.buttonLabels === \"fontawesome\" ? \"<i class=\\\"fa fa-times\\\"></i>\" : \"&times;\";\n\t                form.appendChild(close);\n\t\n\t                // Handle close button clicks\n\t                this.base.on(close, \"click\", this.handleCloseClick.bind(this));\n\t\n\t                // (Optional) Add 'open in new window' checkbox\n\t                if (this.base.options.anchorTarget) {\n\t                    target = doc.createElement(\"input\");\n\t                    target.setAttribute(\"type\", \"checkbox\");\n\t                    target.className = \"medium-editor-toolbar-anchor-target\";\n\t\n\t                    target_label = doc.createElement(\"label\");\n\t                    target_label.innerHTML = this.base.options.anchorInputCheckboxLabel;\n\t                    target_label.insertBefore(target, target_label.firstChild);\n\t\n\t                    form.appendChild(target_label);\n\t                }\n\t\n\t                // (Optional) Add 'add button class to anchor' checkbox\n\t                if (this.base.options.anchorButton) {\n\t                    button = doc.createElement(\"input\");\n\t                    button.setAttribute(\"type\", \"checkbox\");\n\t                    button.className = \"medium-editor-toolbar-anchor-button\";\n\t\n\t                    button_label = doc.createElement(\"label\");\n\t                    button_label.innerHTML = \"Button\";\n\t                    button_label.insertBefore(button, button_label.firstChild);\n\t\n\t                    form.appendChild(button_label);\n\t                }\n\t\n\t                // Handle click (capture) & focus (capture) outside of the form\n\t                this.base.on(doc.body, \"click\", this.handleOutsideInteraction.bind(this), true);\n\t                this.base.on(doc.body, \"focus\", this.handleOutsideInteraction.bind(this), true);\n\t\n\t                return form;\n\t            },\n\t\n\t            getInput: function () {\n\t                return this.getForm().querySelector(\"input.medium-editor-toolbar-input\");\n\t            },\n\t\n\t            handleOutsideInteraction: function (event) {\n\t                if (event.target !== this.getForm() && !Util.isDescendant(this.getForm(), event.target) && !Util.isDescendant(this.base.toolbarActions, event.target)) {\n\t                    this.base.keepToolbarAlive = false;\n\t                    this.base.checkSelection();\n\t                }\n\t            },\n\t\n\t            handleTextboxKeyup: function (event) {\n\t                // For ENTER -> create the anchor\n\t                if (event.keyCode === Util.keyCode.ENTER) {\n\t                    event.preventDefault();\n\t                    this.doLinkCreation();\n\t                    return;\n\t                }\n\t\n\t                // For ESCAPE -> close the form\n\t                if (event.keyCode === Util.keyCode.ESCAPE) {\n\t                    event.preventDefault();\n\t                    this.doFormCancel();\n\t                }\n\t            },\n\t\n\t            handleFormClick: function (event) {\n\t                // make sure not to hide form when clicking inside the form\n\t                event.stopPropagation();\n\t                this.base.keepToolbarAlive = true;\n\t            },\n\t\n\t            handleSaveClick: function (event) {\n\t                // Clicking Save -> create the anchor\n\t                event.preventDefault();\n\t                this.doLinkCreation();\n\t            },\n\t\n\t            handleCloseClick: function (event) {\n\t                // Click Close -> close the form\n\t                event.preventDefault();\n\t                this.doFormCancel();\n\t            }\n\t        };\n\t\n\t        AnchorExtension = Util.derives(DefaultButton, AnchorDerived);\n\t    })(window, document);\n\t\n\t    function MediumEditor(elements, options) {\n\t        \"use strict\";\n\t        return this.init(elements, options);\n\t    }\n\t\n\t    (function () {\n\t        \"use strict\";\n\t\n\t        MediumEditor.statics = {\n\t            ButtonsData: ButtonsData,\n\t            DefaultButton: DefaultButton,\n\t            AnchorExtension: AnchorExtension\n\t        };\n\t\n\t        MediumEditor.prototype = {\n\t            defaults: {\n\t                allowMultiParagraphSelection: true,\n\t                anchorInputPlaceholder: \"Paste or type a link\",\n\t                anchorInputCheckboxLabel: \"Open in new window\",\n\t                anchorPreviewHideDelay: 500,\n\t                buttons: [\"bold\", \"italic\", \"underline\", \"anchor\", \"header1\", \"header2\", \"quote\"],\n\t                buttonLabels: false,\n\t                checkLinkFormat: false,\n\t                cleanPastedHTML: false,\n\t                delay: 0,\n\t                diffLeft: 0,\n\t                diffTop: -10,\n\t                disableReturn: false,\n\t                disableDoubleReturn: false,\n\t                disableToolbar: false,\n\t                disableEditing: false,\n\t                disablePlaceholders: false,\n\t                toolbarAlign: \"center\",\n\t                elementsContainer: false,\n\t                imageDragging: true,\n\t                standardizeSelectionStart: false,\n\t                contentWindow: window,\n\t                ownerDocument: document,\n\t                firstHeader: \"h3\",\n\t                forcePlainText: true,\n\t                placeholder: \"Type your text\",\n\t                secondHeader: \"h4\",\n\t                targetBlank: false,\n\t                anchorTarget: false,\n\t                anchorButton: false,\n\t                anchorButtonClass: \"btn\",\n\t                extensions: {},\n\t                activeButtonClass: \"medium-editor-button-active\",\n\t                firstButtonClass: \"medium-editor-button-first\",\n\t                lastButtonClass: \"medium-editor-button-last\"\n\t            },\n\t\n\t            init: function (elements, options) {\n\t                var uniqueId = 1;\n\t\n\t                this.options = Util.defaults(options, this.defaults);\n\t                this.setElementSelection(elements);\n\t                if (this.elements.length === 0) {\n\t                    return;\n\t                }\n\t\n\t                if (!this.options.elementsContainer) {\n\t                    this.options.elementsContainer = this.options.ownerDocument.body;\n\t                }\n\t\n\t                while (this.options.elementsContainer.querySelector(\"#medium-editor-toolbar-\" + uniqueId)) {\n\t                    uniqueId = uniqueId + 1;\n\t                }\n\t\n\t                this.id = uniqueId;\n\t\n\t                return this.setup();\n\t            },\n\t\n\t            setup: function () {\n\t                this.events = [];\n\t                this.isActive = true;\n\t                this.initThrottledMethods().initCommands().initElements().bindSelect().bindDragDrop().bindPaste().setPlaceholders().bindElementActions().bindWindowActions();\n\t            },\n\t\n\t            on: function (target, event, listener, useCapture) {\n\t                target.addEventListener(event, listener, useCapture);\n\t                this.events.push([target, event, listener, useCapture]);\n\t            },\n\t\n\t            off: function (target, event, listener, useCapture) {\n\t                var index = this.indexOfListener(target, event, listener, useCapture),\n\t                    e;\n\t                if (index !== -1) {\n\t                    e = this.events.splice(index, 1)[0];\n\t                    e[0].removeEventListener(e[1], e[2], e[3]);\n\t                }\n\t            },\n\t\n\t            indexOfListener: function (target, event, listener, useCapture) {\n\t                var i, n, item;\n\t                for (i = 0, n = this.events.length; i < n; i = i + 1) {\n\t                    item = this.events[i];\n\t                    if (item[0] === target && item[1] === event && item[2] === listener && item[3] === useCapture) {\n\t                        return i;\n\t                    }\n\t                }\n\t                return -1;\n\t            },\n\t\n\t            delay: function (fn) {\n\t                var self = this;\n\t                setTimeout(function () {\n\t                    if (self.isActive) {\n\t                        fn();\n\t                    }\n\t                }, this.options.delay);\n\t            },\n\t\n\t            removeAllEvents: function () {\n\t                var e = this.events.pop();\n\t                while (e) {\n\t                    e[0].removeEventListener(e[1], e[2], e[3]);\n\t                    e = this.events.pop();\n\t                }\n\t            },\n\t\n\t            initThrottledMethods: function () {\n\t                var self = this;\n\t\n\t                // handleResize is throttled because:\n\t                // - It will be called when the browser is resizing, which can fire many times very quickly\n\t                // - For some event (like resize) a slight lag in UI responsiveness is OK and provides performance benefits\n\t                this.handleResize = Util.throttle(function () {\n\t                    if (self.isActive) {\n\t                        self.positionToolbarIfShown();\n\t                    }\n\t                });\n\t\n\t                // handleBlur is throttled because:\n\t                // - This method could be called many times due to the type of event handlers that are calling it\n\t                // - We want a slight delay so that other events in the stack can run, some of which may\n\t                //   prevent the toolbar from being hidden (via this.keepToolbarAlive).\n\t                this.handleBlur = Util.throttle(function () {\n\t                    if (self.isActive && !self.keepToolbarAlive) {\n\t                        self.hideToolbarActions();\n\t                    }\n\t                });\n\t\n\t                return this;\n\t            },\n\t\n\t            initElements: function () {\n\t                var i,\n\t                    addToolbar = false;\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    if (!this.options.disableEditing && !this.elements[i].getAttribute(\"data-disable-editing\")) {\n\t                        this.elements[i].setAttribute(\"contentEditable\", true);\n\t                    }\n\t                    if (!this.elements[i].getAttribute(\"data-placeholder\")) {\n\t                        this.elements[i].setAttribute(\"data-placeholder\", this.options.placeholder);\n\t                    }\n\t                    this.elements[i].setAttribute(\"data-medium-element\", true);\n\t                    this.elements[i].setAttribute(\"role\", \"textbox\");\n\t                    this.elements[i].setAttribute(\"aria-multiline\", true);\n\t                    this.bindParagraphCreation(i);\n\t                    if (!this.options.disableToolbar && !this.elements[i].getAttribute(\"data-disable-toolbar\")) {\n\t                        addToolbar = true;\n\t                    }\n\t                }\n\t                // Init toolbar\n\t                if (addToolbar) {\n\t                    this.initToolbar().setFirstAndLastButtons().bindAnchorPreview();\n\t                }\n\t                return this;\n\t            },\n\t\n\t            setElementSelection: function (selector) {\n\t                if (!selector) {\n\t                    selector = [];\n\t                }\n\t                // If string, use as query selector\n\t                if (typeof selector === \"string\") {\n\t                    selector = this.options.ownerDocument.querySelectorAll(selector);\n\t                }\n\t                // If element, put into array\n\t                if (Util.isElement(selector)) {\n\t                    selector = [selector];\n\t                }\n\t                // Convert NodeList (or other array like object) into an array\n\t                this.elements = Array.prototype.slice.apply(selector);\n\t            },\n\t\n\t            bindBlur: function () {\n\t                var self = this,\n\t                    blurFunction = function (e) {\n\t                    var isDescendantOfEditorElements = false,\n\t                        selection = self.options.contentWindow.getSelection(),\n\t                        selRange = selection.isCollapsed ? null : Selection.getSelectedParentElement(selection.getRangeAt(0)),\n\t                        i;\n\t\n\t                    // This control was introduced also to avoid the toolbar\n\t                    // to disapper when selecting from right to left and\n\t                    // the selection ends at the beginning of the text.\n\t                    for (i = 0; i < self.elements.length; i += 1) {\n\t                        if (Util.isDescendant(self.elements[i], e.target) || Util.isDescendant(self.elements[i], selRange)) {\n\t                            isDescendantOfEditorElements = true;\n\t                            break;\n\t                        }\n\t                    }\n\t                    // If it's not part of the editor, or the toolbar\n\t                    if (e.target !== self.toolbar && self.elements.indexOf(e.target) === -1 && !isDescendantOfEditorElements && !Util.isDescendant(self.toolbar, e.target) && !Util.isDescendant(self.anchorPreview, e.target)) {\n\t                        // Activate the placeholder\n\t                        if (!self.options.disablePlaceholders) {\n\t                            self.placeholderWrapper(e, self.elements[0]);\n\t                        }\n\t\n\t                        // Hide the toolbar after a small delay so we can prevent this on toolbar click\n\t                        self.handleBlur();\n\t                    }\n\t                };\n\t\n\t                // Hide the toolbar when focusing outside of the editor.\n\t                this.on(this.options.ownerDocument.body, \"click\", blurFunction, true);\n\t                this.on(this.options.ownerDocument.body, \"focus\", blurFunction, true);\n\t\n\t                return this;\n\t            },\n\t\n\t            bindClick: function (i) {\n\t                var self = this;\n\t\n\t                this.on(this.elements[i], \"click\", function () {\n\t                    if (!self.options.disablePlaceholders) {\n\t                        // Remove placeholder\n\t                        this.classList.remove(\"medium-editor-placeholder\");\n\t                    }\n\t\n\t                    if (self.options.staticToolbar) {\n\t                        self.setToolbarPosition();\n\t                    }\n\t                });\n\t\n\t                return this;\n\t            },\n\t\n\t            /**\n\t             * This handles blur and keypress events on elements\n\t             * Including Placeholders, and tooldbar hiding on blur\n\t             */\n\t            bindElementActions: function () {\n\t                var i;\n\t\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    if (!this.options.disablePlaceholders) {\n\t                        // Active all of the placeholders\n\t                        this.activatePlaceholder(this.elements[i]);\n\t                    }\n\t\n\t                    // Bind the return and tab keypress events\n\t                    this.bindReturn(i).bindKeydown(i).bindClick(i);\n\t                }\n\t\n\t                return this;\n\t            },\n\t\n\t            // Two functions to handle placeholders\n\t            activatePlaceholder: function (el) {\n\t                if (!el.querySelector(\"img\") && !el.querySelector(\"blockquote\") && el.textContent.replace(/^\\s+|\\s+$/g, \"\") === \"\") {\n\t                    el.classList.add(\"medium-editor-placeholder\");\n\t                }\n\t            },\n\t            placeholderWrapper: function (evt, el) {\n\t                el = el || evt.target;\n\t                el.classList.remove(\"medium-editor-placeholder\");\n\t                if (evt.type !== \"keypress\") {\n\t                    this.activatePlaceholder(el);\n\t                }\n\t            },\n\t\n\t            serialize: function () {\n\t                var i,\n\t                    elementid,\n\t                    content = {};\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    elementid = this.elements[i].id !== \"\" ? this.elements[i].id : \"element-\" + i;\n\t                    content[elementid] = {\n\t                        value: this.elements[i].innerHTML.trim()\n\t                    };\n\t                }\n\t                return content;\n\t            },\n\t\n\t            initExtension: function (extension, name) {\n\t                if (extension.parent) {\n\t                    extension.base = this;\n\t                }\n\t                if (typeof extension.init === \"function\") {\n\t                    extension.init(this);\n\t                }\n\t                if (!extension.name) {\n\t                    extension.name = name;\n\t                }\n\t                return extension;\n\t            },\n\t\n\t            initCommands: function () {\n\t                var buttons = this.options.buttons,\n\t                    extensions = this.options.extensions,\n\t                    ext,\n\t                    name;\n\t                this.commands = [];\n\t\n\t                buttons.forEach((function (buttonName) {\n\t                    if (extensions[buttonName]) {\n\t                        ext = this.initExtension(extensions[buttonName], buttonName);\n\t                        this.commands.push(ext);\n\t                    } else if (buttonName === \"anchor\") {\n\t                        ext = this.initExtension(new AnchorExtension(), buttonName);\n\t                        this.commands.push(ext);\n\t                    } else if (ButtonsData.hasOwnProperty(buttonName)) {\n\t                        ext = new DefaultButton(ButtonsData[buttonName], this);\n\t                        this.commands.push(ext);\n\t                    }\n\t                }).bind(this));\n\t\n\t                for (name in extensions) {\n\t                    if (extensions.hasOwnProperty(name) && buttons.indexOf(name) === -1) {\n\t                        ext = this.initExtension(extensions[name], name);\n\t                    }\n\t                }\n\t\n\t                return this;\n\t            },\n\t\n\t            getExtensionByName: function (name) {\n\t                var extension;\n\t                if (this.commands && this.commands.length) {\n\t                    this.commands.forEach(function (ext) {\n\t                        if (ext.name === name) {\n\t                            extension = ext;\n\t                        }\n\t                    });\n\t                }\n\t                return extension;\n\t            },\n\t\n\t            /**\n\t             * Helper function to call a method with a number of parameters on all registered extensions.\n\t             * The function assures that the function exists before calling.\n\t             *\n\t             * @param {string} funcName name of the function to call\n\t             * @param [args] arguments passed into funcName\n\t             */\n\t            callExtensions: function (funcName) {\n\t                if (arguments.length < 1) {\n\t                    return;\n\t                }\n\t\n\t                var args = Array.prototype.slice.call(arguments, 1),\n\t                    ext,\n\t                    name;\n\t\n\t                for (name in this.options.extensions) {\n\t                    if (this.options.extensions.hasOwnProperty(name)) {\n\t                        ext = this.options.extensions[name];\n\t                        if (ext[funcName] !== undefined) {\n\t                            ext[funcName].apply(ext, args);\n\t                        }\n\t                    }\n\t                }\n\t                return this;\n\t            },\n\t\n\t            bindParagraphCreation: function (index) {\n\t                var self = this;\n\t                this.on(this.elements[index], \"keypress\", function (e) {\n\t                    var node, tagName;\n\t                    if (e.which === Util.keyCode.SPACE) {\n\t                        node = Selection.getSelectionStart(self.options.ownerDocument);\n\t                        tagName = node.tagName.toLowerCase();\n\t                        if (tagName === \"a\") {\n\t                            self.options.ownerDocument.execCommand(\"unlink\", false, null);\n\t                        }\n\t                    }\n\t                });\n\t\n\t                this.on(this.elements[index], \"keyup\", function (e) {\n\t                    var node = Selection.getSelectionStart(self.options.ownerDocument),\n\t                        tagName,\n\t                        editorElement;\n\t\n\t                    if (node && node.getAttribute(\"data-medium-element\") && node.children.length === 0 && !(self.options.disableReturn || node.getAttribute(\"data-disable-return\"))) {\n\t                        self.options.ownerDocument.execCommand(\"formatBlock\", false, \"p\");\n\t                    }\n\t                    if (e.which === Util.keyCode.ENTER) {\n\t                        node = Selection.getSelectionStart(self.options.ownerDocument);\n\t                        tagName = node.tagName.toLowerCase();\n\t                        editorElement = Selection.getSelectionElement(self.options.contentWindow);\n\t\n\t                        if (!(self.options.disableReturn || editorElement.getAttribute(\"data-disable-return\")) && tagName !== \"li\" && !Util.isListItemChild(node)) {\n\t                            if (!e.shiftKey) {\n\t                                // paragraph creation should not be forced within a header tag\n\t                                if (!/h\\d/.test(tagName)) {\n\t                                    self.options.ownerDocument.execCommand(\"formatBlock\", false, \"p\");\n\t                                }\n\t                            }\n\t                            if (tagName === \"a\") {\n\t                                self.options.ownerDocument.execCommand(\"unlink\", false, null);\n\t                            }\n\t                        }\n\t                    }\n\t                });\n\t                return this;\n\t            },\n\t\n\t            bindReturn: function (index) {\n\t                var self = this;\n\t                this.on(this.elements[index], \"keypress\", function (e) {\n\t                    if (e.which === Util.keyCode.ENTER) {\n\t                        if (self.options.disableReturn || this.getAttribute(\"data-disable-return\")) {\n\t                            e.preventDefault();\n\t                        } else if (self.options.disableDoubleReturn || this.getAttribute(\"data-disable-double-return\")) {\n\t                            var node = Selection.getSelectionStart(self.options.contentWindow);\n\t                            if (node && node.textContent.trim() === \"\") {\n\t                                e.preventDefault();\n\t                            }\n\t                        }\n\t                    }\n\t                });\n\t                return this;\n\t            },\n\t\n\t            bindKeydown: function (index) {\n\t                var self = this;\n\t                this.on(this.elements[index], \"keydown\", function (e) {\n\t                    var node, tag, key;\n\t\n\t                    if (e.which === Util.keyCode.TAB) {\n\t                        // Override tab only for pre nodes\n\t                        node = Selection.getSelectionStart(self.options.ownerDocument);\n\t                        tag = node && node.tagName.toLowerCase();\n\t\n\t                        if (tag === \"pre\") {\n\t                            e.preventDefault();\n\t                            self.options.ownerDocument.execCommand(\"insertHtml\", null, \"    \");\n\t                        }\n\t\n\t                        // Tab to indent list structures!\n\t                        if (tag === \"li\" || Util.isListItemChild(node)) {\n\t                            e.preventDefault();\n\t\n\t                            // If Shift is down, outdent, otherwise indent\n\t                            if (e.shiftKey) {\n\t                                self.options.ownerDocument.execCommand(\"outdent\", e);\n\t                            } else {\n\t                                self.options.ownerDocument.execCommand(\"indent\", e);\n\t                            }\n\t                        }\n\t                    } else if (e.which === Util.keyCode.BACKSPACE || e.which === Util.keyCode.DELETE || e.which === Util.keyCode.ENTER) {\n\t                        // Bind keys which can create or destroy a block element: backspace, delete, return\n\t                        self.onBlockModifier(e);\n\t                    } else if (e.ctrlKey || e.metaKey) {\n\t                        key = String.fromCharCode(e.which || e.keyCode).toLowerCase();\n\t                        self.commands.forEach(function (extension) {\n\t                            if (extension.options.key && extension.options.key === key) {\n\t                                extension.handleClick(e);\n\t                            }\n\t                        });\n\t                    }\n\t                });\n\t                return this;\n\t            },\n\t\n\t            onBlockModifier: function (e) {\n\t                var range,\n\t                    sel,\n\t                    p,\n\t                    node = Selection.getSelectionStart(this.options.ownerDocument),\n\t                    tagName = node.tagName.toLowerCase(),\n\t                    isEmpty = /^(\\s+|<br\\/?>)?$/i,\n\t                    isHeader = /h\\d/i;\n\t\n\t                if ((e.which === Util.keyCode.BACKSPACE || e.which === Util.keyCode.ENTER) && node.previousElementSibling\n\t                // in a header\n\t                 && isHeader.test(tagName)\n\t                // at the very end of the block\n\t                 && Selection.getCaretOffsets(node).left === 0) {\n\t                    if (e.which === Util.keyCode.BACKSPACE && isEmpty.test(node.previousElementSibling.innerHTML)) {\n\t                        // backspacing the begining of a header into an empty previous element will\n\t                        // change the tagName of the current node to prevent one\n\t                        // instead delete previous node and cancel the event.\n\t                        node.previousElementSibling.parentNode.removeChild(node.previousElementSibling);\n\t                        e.preventDefault();\n\t                    } else if (e.which === Util.keyCode.ENTER) {\n\t                        // hitting return in the begining of a header will create empty header elements before the current one\n\t                        // instead, make \"<p><br></p>\" element, which are what happens if you hit return in an empty paragraph\n\t                        p = this.options.ownerDocument.createElement(\"p\");\n\t                        p.innerHTML = \"<br>\";\n\t                        node.previousElementSibling.parentNode.insertBefore(p, node);\n\t                        e.preventDefault();\n\t                    }\n\t                } else if (e.which === Util.keyCode.DELETE && node.nextElementSibling && node.previousElementSibling\n\t                // not in a header\n\t                 && !isHeader.test(tagName)\n\t                // in an empty tag\n\t                 && isEmpty.test(node.innerHTML)\n\t                // when the next tag *is* a header\n\t                 && isHeader.test(node.nextElementSibling.tagName)) {\n\t                    // hitting delete in an empty element preceding a header, ex:\n\t                    //  <p>[CURSOR]</p><h1>Header</h1>\n\t                    // Will cause the h1 to become a paragraph.\n\t                    // Instead, delete the paragraph node and move the cursor to the begining of the h1\n\t\n\t                    // remove node and move cursor to start of header\n\t                    range = document.createRange();\n\t                    sel = window.getSelection();\n\t\n\t                    range.setStart(node.nextElementSibling, 0);\n\t                    range.collapse(true);\n\t\n\t                    sel.removeAllRanges();\n\t                    sel.addRange(range);\n\t\n\t                    node.previousElementSibling.parentNode.removeChild(node);\n\t\n\t                    e.preventDefault();\n\t                }\n\t            },\n\t\n\t            initToolbar: function () {\n\t                if (this.toolbar) {\n\t                    return this;\n\t                }\n\t                this.toolbar = this.createToolbar();\n\t                this.keepToolbarAlive = false;\n\t                this.toolbarActions = this.toolbar.querySelector(\".medium-editor-toolbar-actions\");\n\t                this.anchorPreview = this.createAnchorPreview();\n\t\n\t                return this;\n\t            },\n\t\n\t            createToolbar: function () {\n\t                var toolbar = this.options.ownerDocument.createElement(\"div\");\n\t                toolbar.id = \"medium-editor-toolbar-\" + this.id;\n\t                toolbar.className = \"medium-editor-toolbar\";\n\t\n\t                if (this.options.staticToolbar) {\n\t                    toolbar.className += \" static-toolbar\";\n\t                } else {\n\t                    toolbar.className += \" stalker-toolbar\";\n\t                }\n\t\n\t                toolbar.appendChild(this.toolbarButtons());\n\t\n\t                // Add any forms that extensions may have\n\t                this.commands.forEach(function (extension) {\n\t                    if (extension.hasForm) {\n\t                        toolbar.appendChild(extension.getForm());\n\t                    }\n\t                });\n\t\n\t                this.options.elementsContainer.appendChild(toolbar);\n\t                return toolbar;\n\t            },\n\t\n\t            //TODO: actionTemplate\n\t            toolbarButtons: function () {\n\t                var ul = this.options.ownerDocument.createElement(\"ul\"),\n\t                    li,\n\t                    btn;\n\t\n\t                ul.id = \"medium-editor-toolbar-actions\" + this.id;\n\t                ul.className = \"medium-editor-toolbar-actions clearfix\";\n\t\n\t                this.commands.forEach((function (extension) {\n\t                    if (typeof extension.getButton === \"function\") {\n\t                        btn = extension.getButton(this);\n\t                        li = this.options.ownerDocument.createElement(\"li\");\n\t                        if (Util.isElement(btn)) {\n\t                            li.appendChild(btn);\n\t                        } else {\n\t                            li.innerHTML = btn;\n\t                        }\n\t                        ul.appendChild(li);\n\t                    }\n\t                }).bind(this));\n\t\n\t                return ul;\n\t            },\n\t\n\t            bindSelect: function () {\n\t                var i,\n\t                    blurHelper = (function (event) {\n\t                    // Do not close the toolbar when bluring the editable area and clicking into the anchor form\n\t                    if (event && event.type && event.type.toLowerCase() === \"blur\" && event.relatedTarget && Util.isDescendant(this.toolbar, event.relatedTarget)) {\n\t                        return false;\n\t                    }\n\t                    this.checkSelection();\n\t                }).bind(this),\n\t                    timeoutHelper = (function () {\n\t                    setTimeout((function () {\n\t                        this.checkSelection();\n\t                    }).bind(this), 0);\n\t                }).bind(this);\n\t\n\t                this.on(this.options.ownerDocument.documentElement, \"mouseup\", this.checkSelection.bind(this));\n\t\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    this.on(this.elements[i], \"keyup\", this.checkSelection.bind(this));\n\t                    this.on(this.elements[i], \"blur\", blurHelper);\n\t                    this.on(this.elements[i], \"click\", timeoutHelper);\n\t                }\n\t\n\t                return this;\n\t            },\n\t\n\t            bindDragDrop: function () {\n\t                var self = this,\n\t                    i,\n\t                    className,\n\t                    onDrag,\n\t                    onDrop,\n\t                    element;\n\t\n\t                if (!self.options.imageDragging) {\n\t                    return this;\n\t                }\n\t\n\t                className = \"medium-editor-dragover\";\n\t\n\t                onDrag = function (e) {\n\t                    e.preventDefault();\n\t                    e.dataTransfer.dropEffect = \"copy\";\n\t\n\t                    if (e.type === \"dragover\") {\n\t                        this.classList.add(className);\n\t                    } else {\n\t                        this.classList.remove(className);\n\t                    }\n\t                };\n\t\n\t                onDrop = function (e) {\n\t                    var files;\n\t                    e.preventDefault();\n\t                    e.stopPropagation();\n\t                    files = Array.prototype.slice.call(e.dataTransfer.files, 0);\n\t                    files.some(function (file) {\n\t                        if (file.type.match(\"image\")) {\n\t                            var fileReader, id;\n\t                            fileReader = new FileReader();\n\t                            fileReader.readAsDataURL(file);\n\t\n\t                            id = \"medium-img-\" + +new Date();\n\t                            Util.insertHTMLCommand(self.options.ownerDocument, \"<img class=\\\"medium-image-loading\\\" id=\\\"\" + id + \"\\\" />\");\n\t\n\t                            fileReader.onload = function () {\n\t                                var img = document.getElementById(id);\n\t                                if (img) {\n\t                                    img.removeAttribute(\"id\");\n\t                                    img.removeAttribute(\"class\");\n\t                                    img.src = fileReader.result;\n\t                                }\n\t                            };\n\t                        }\n\t                    });\n\t                    this.classList.remove(className);\n\t                };\n\t\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    element = this.elements[i];\n\t\n\t\n\t                    this.on(element, \"dragover\", onDrag);\n\t                    this.on(element, \"dragleave\", onDrag);\n\t                    this.on(element, \"drop\", onDrop);\n\t                }\n\t                return this;\n\t            },\n\t\n\t            stopSelectionUpdates: function () {\n\t                this.preventSelectionUpdates = true;\n\t            },\n\t\n\t            startSelectionUpdates: function () {\n\t                this.preventSelectionUpdates = false;\n\t            },\n\t\n\t            checkSelection: function () {\n\t                var newSelection, selectionElement;\n\t\n\t                if (!this.preventSelectionUpdates && this.keepToolbarAlive !== true && !this.options.disableToolbar) {\n\t                    newSelection = this.options.contentWindow.getSelection();\n\t                    if (!this.options.updateOnEmptySelection && newSelection.toString().trim() === \"\" || this.options.allowMultiParagraphSelection === false && this.multipleBlockElementsSelected() || Selection.selectionInContentEditableFalse(this.options.contentWindow)) {\n\t                        if (!this.options.staticToolbar) {\n\t                            this.hideToolbarActions();\n\t                        } else {\n\t                            this.showAndUpdateToolbar();\n\t                        }\n\t                    } else {\n\t                        selectionElement = Selection.getSelectionElement(this.options.contentWindow);\n\t                        if (!selectionElement || selectionElement.getAttribute(\"data-disable-toolbar\")) {\n\t                            if (!this.options.staticToolbar) {\n\t                                this.hideToolbarActions();\n\t                            }\n\t                        } else {\n\t                            this.checkSelectionElement(newSelection, selectionElement);\n\t                        }\n\t                    }\n\t                }\n\t                return this;\n\t            },\n\t\n\t            // Checks for existance of multiple block elements in the current selection\n\t            multipleBlockElementsSelected: function () {\n\t                /*jslint regexp: true*/\n\t                var selectionHtml = Selection.getSelectionHtml.call(this).replace(/<[\\S]+><\\/[\\S]+>/gim, \"\"),\n\t                    hasMultiParagraphs = selectionHtml.match(/<(p|h[1-6]|blockquote)[^>]*>/g);\n\t                /*jslint regexp: false*/\n\t\n\t                return !!hasMultiParagraphs && hasMultiParagraphs.length > 1;\n\t            },\n\t\n\t            checkSelectionElement: function (newSelection, selectionElement) {\n\t                var i,\n\t                    adjacentNode,\n\t                    offset = 0,\n\t                    newRange;\n\t                this.selection = newSelection;\n\t                this.selectionRange = this.selection.getRangeAt(0);\n\t\n\t                /*\n\t                * In firefox, there are cases (ie doubleclick of a word) where the selectionRange start\n\t                * will be at the very end of an element.  In other browsers, the selectionRange start\n\t                * would instead be at the very beginning of an element that actually has content.\n\t                * example:\n\t                *   <span>foo</span><span>bar</span>\n\t                *\n\t                * If the text 'bar' is selected, most browsers will have the selectionRange start at the beginning\n\t                * of the 'bar' span.  However, there are cases where firefox will have the selectionRange start\n\t                * at the end of the 'foo' span.  The contenteditable behavior will be ok, but if there are any\n\t                * properties on the 'bar' span, they won't be reflected accurately in the toolbar\n\t                * (ie 'Bold' button wouldn't be active)\n\t                *\n\t                * So, for cases where the selectionRange start is at the end of an element/node, find the next\n\t                * adjacent text node that actually has content in it, and move the selectionRange start there.\n\t                */\n\t                if (this.options.standardizeSelectionStart && this.selectionRange.startContainer.nodeValue && this.selectionRange.startOffset === this.selectionRange.startContainer.nodeValue.length) {\n\t                    adjacentNode = Util.findAdjacentTextNodeWithContent(Selection.getSelectionElement(this.options.contentWindow), this.selectionRange.startContainer, this.options.ownerDocument);\n\t                    if (adjacentNode) {\n\t                        offset = 0;\n\t                        while (adjacentNode.nodeValue.substr(offset, 1).trim().length === 0) {\n\t                            offset = offset + 1;\n\t                        }\n\t                        newRange = this.options.ownerDocument.createRange();\n\t                        newRange.setStart(adjacentNode, offset);\n\t                        newRange.setEnd(this.selectionRange.endContainer, this.selectionRange.endOffset);\n\t                        this.selection.removeAllRanges();\n\t                        this.selection.addRange(newRange);\n\t                        this.selectionRange = newRange;\n\t                    }\n\t                }\n\t\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    if (this.elements[i] === selectionElement) {\n\t                        this.showAndUpdateToolbar();\n\t                        return;\n\t                    }\n\t                }\n\t\n\t                if (!this.options.staticToolbar) {\n\t                    this.hideToolbarActions();\n\t                }\n\t            },\n\t\n\t            showAndUpdateToolbar: function () {\n\t                this.setToolbarButtonStates().setToolbarPosition().showToolbarDefaultActions();\n\t            },\n\t\n\t            setToolbarPosition: function () {\n\t                // document.documentElement for IE 9\n\t                var scrollTop = this.options.ownerDocument.documentElement && this.options.ownerDocument.documentElement.scrollTop || this.options.ownerDocument.body.scrollTop,\n\t                    selection = this.options.contentWindow.getSelection(),\n\t                    windowWidth = this.options.contentWindow.innerWidth,\n\t                    container = Selection.getSelectionElement(this.options.contentWindow),\n\t                    buttonHeight = 50,\n\t                    toolbarWidth,\n\t                    toolbarHeight,\n\t                    halfOffsetWidth,\n\t                    defaultLeft,\n\t                    containerRect,\n\t                    containerTop,\n\t                    containerCenter,\n\t                    range,\n\t                    boundary,\n\t                    middleBoundary,\n\t                    targetLeft;\n\t\n\t                // If there isn't a valid selection, bail\n\t                if (!container || !this.options.contentWindow.getSelection().focusNode) {\n\t                    return this;\n\t                }\n\t\n\t                // If the container isn't part of this medium-editor instance, bail\n\t                if (this.elements.indexOf(container) === -1) {\n\t                    return this;\n\t                }\n\t\n\t                // Calculate container dimensions\n\t                containerRect = container.getBoundingClientRect();\n\t                containerTop = containerRect.top + scrollTop;\n\t                containerCenter = containerRect.left + containerRect.width / 2;\n\t\n\t                // position the toolbar at left 0, so we can get the real width of the toolbar\n\t                this.toolbar.style.left = \"0\";\n\t                toolbarWidth = this.toolbar.offsetWidth;\n\t                toolbarHeight = this.toolbar.offsetHeight;\n\t                halfOffsetWidth = toolbarWidth / 2;\n\t                defaultLeft = this.options.diffLeft - halfOffsetWidth;\n\t\n\t                if (this.options.staticToolbar) {\n\t                    this.showToolbar();\n\t\n\t                    if (this.options.stickyToolbar) {\n\t                        // If it's beyond the height of the editor, position it at the bottom of the editor\n\t                        if (scrollTop > containerTop + container.offsetHeight - toolbarHeight) {\n\t                            this.toolbar.style.top = containerTop + container.offsetHeight - toolbarHeight + \"px\";\n\t                            this.toolbar.classList.remove(\"sticky-toolbar\");\n\t\n\t                            // Stick the toolbar to the top of the window\n\t                        } else if (scrollTop > containerTop - toolbarHeight) {\n\t                            this.toolbar.classList.add(\"sticky-toolbar\");\n\t                            this.toolbar.style.top = \"0px\";\n\t\n\t                            // Normal static toolbar position\n\t                        } else {\n\t                            this.toolbar.classList.remove(\"sticky-toolbar\");\n\t                            this.toolbar.style.top = containerTop - toolbarHeight + \"px\";\n\t                        }\n\t                    } else {\n\t                        this.toolbar.style.top = containerTop - toolbarHeight + \"px\";\n\t                    }\n\t\n\t                    if (this.options.toolbarAlign === \"left\") {\n\t                        targetLeft = containerRect.left;\n\t                    } else if (this.options.toolbarAlign === \"center\") {\n\t                        targetLeft = containerCenter - halfOffsetWidth;\n\t                    } else if (this.options.toolbarAlign === \"right\") {\n\t                        targetLeft = containerRect.right - toolbarWidth;\n\t                    }\n\t\n\t                    if (targetLeft < 0) {\n\t                        targetLeft = 0;\n\t                    } else if (targetLeft + toolbarWidth > windowWidth) {\n\t                        targetLeft = windowWidth - toolbarWidth;\n\t                    }\n\t\n\t                    this.toolbar.style.left = targetLeft + \"px\";\n\t                } else if (!selection.isCollapsed) {\n\t                    this.showToolbar();\n\t\n\t                    range = selection.getRangeAt(0);\n\t                    boundary = range.getBoundingClientRect();\n\t                    middleBoundary = (boundary.left + boundary.right) / 2;\n\t\n\t                    if (boundary.top < buttonHeight) {\n\t                        this.toolbar.classList.add(\"medium-toolbar-arrow-over\");\n\t                        this.toolbar.classList.remove(\"medium-toolbar-arrow-under\");\n\t                        this.toolbar.style.top = buttonHeight + boundary.bottom - this.options.diffTop + this.options.contentWindow.pageYOffset - toolbarHeight + \"px\";\n\t                    } else {\n\t                        this.toolbar.classList.add(\"medium-toolbar-arrow-under\");\n\t                        this.toolbar.classList.remove(\"medium-toolbar-arrow-over\");\n\t                        this.toolbar.style.top = boundary.top + this.options.diffTop + this.options.contentWindow.pageYOffset - toolbarHeight + \"px\";\n\t                    }\n\t                    if (middleBoundary < halfOffsetWidth) {\n\t                        this.toolbar.style.left = defaultLeft + halfOffsetWidth + \"px\";\n\t                    } else if (windowWidth - middleBoundary < halfOffsetWidth) {\n\t                        this.toolbar.style.left = windowWidth + defaultLeft - halfOffsetWidth + \"px\";\n\t                    } else {\n\t                        this.toolbar.style.left = defaultLeft + middleBoundary + \"px\";\n\t                    }\n\t                }\n\t\n\t                this.hideAnchorPreview();\n\t\n\t                return this;\n\t            },\n\t\n\t            setToolbarButtonStates: function () {\n\t                this.commands.forEach((function (extension) {\n\t                    if (typeof extension.isActive === \"function\") {\n\t                        extension.setInactive();\n\t                    }\n\t                }).bind(this));\n\t                this.checkActiveButtons();\n\t                return this;\n\t            },\n\t\n\t            checkActiveButtons: function () {\n\t                var elements = Array.prototype.slice.call(this.elements),\n\t                    manualStateChecks = [],\n\t                    queryState = null,\n\t                    parentNode,\n\t                    checkExtension = function (extension) {\n\t                    if (typeof extension.checkState === \"function\") {\n\t                        extension.checkState(parentNode);\n\t                    } else if (typeof extension.isActive === \"function\" && typeof extension.isAlreadyApplied === \"function\") {\n\t                        if (!extension.isActive() && extension.isAlreadyApplied(parentNode)) {\n\t                            extension.setActive();\n\t                        }\n\t                    }\n\t                };\n\t\n\t                if (!this.selectionRange) {\n\t                    return;\n\t                }\n\t                parentNode = Selection.getSelectedParentElement(this.selectionRange);\n\t\n\t                // Loop through all commands\n\t                this.commands.forEach(function (command) {\n\t                    // For those commands where we can use document.queryCommandState(), do so\n\t                    if (typeof command.queryCommandState === \"function\") {\n\t                        queryState = command.queryCommandState();\n\t                        // If queryCommandState returns a valid value, we can trust the browser\n\t                        // and don't need to do our manual checks\n\t                        if (queryState !== null) {\n\t                            if (queryState) {\n\t                                command.setActive();\n\t                            }\n\t                            return;\n\t                        }\n\t                    }\n\t                    // We can't use queryCommandState for this command, so add to manualStateChecks\n\t                    manualStateChecks.push(command);\n\t                });\n\t\n\t                // Climb up the DOM and do manual checks for whether a certain command is currently enabled for this node\n\t                while (parentNode.tagName !== undefined && Util.parentElements.indexOf(parentNode.tagName.toLowerCase) === -1) {\n\t                    manualStateChecks.forEach(checkExtension.bind(this));\n\t\n\t                    // we can abort the search upwards if we leave the contentEditable element\n\t                    if (elements.indexOf(parentNode) !== -1) {\n\t                        break;\n\t                    }\n\t                    parentNode = parentNode.parentNode;\n\t                }\n\t            },\n\t\n\t            setFirstAndLastButtons: function () {\n\t                var buttons = this.toolbar.querySelectorAll(\"button\");\n\t                if (buttons.length > 0) {\n\t                    buttons[0].className += \" \" + this.options.firstButtonClass;\n\t                    buttons[buttons.length - 1].className += \" \" + this.options.lastButtonClass;\n\t                }\n\t                return this;\n\t            },\n\t\n\t            // Wrapper around document.queryCommandState for checking whether an action has already\n\t            // been applied to the current selection\n\t            queryCommandState: function (action) {\n\t                var fullAction = /^full-(.+)$/gi,\n\t                    match,\n\t                    queryState = null;\n\t\n\t                // Actions starting with 'full-' need to be modified since this is a medium-editor concept\n\t                match = fullAction.exec(action);\n\t                if (match) {\n\t                    action = match[1];\n\t                }\n\t\n\t                try {\n\t                    queryState = this.options.ownerDocument.queryCommandState(action);\n\t                } catch (exc) {\n\t                    queryState = null;\n\t                }\n\t\n\t                return queryState;\n\t            },\n\t\n\t            execAction: function (action, opts) {\n\t                /*jslint regexp: true*/\n\t                var fullAction = /^full-(.+)$/gi,\n\t                    match,\n\t                    result;\n\t                /*jslint regexp: false*/\n\t\n\t                // Actions starting with 'full-' should be applied to to the entire contents of the editable element\n\t                // (ie full-bold, full-append-pre, etc.)\n\t                match = fullAction.exec(action);\n\t                if (match) {\n\t                    // Store the current selection to be restored after applying the action\n\t                    this.saveSelection();\n\t                    // Select all of the contents before calling the action\n\t                    this.selectAllContents();\n\t                    result = this.execActionInternal(match[1], opts);\n\t                    // Restore the previous selection\n\t                    this.restoreSelection();\n\t                } else {\n\t                    result = this.execActionInternal(action, opts);\n\t                }\n\t\n\t                this.checkSelection();\n\t                return result;\n\t            },\n\t\n\t            execActionInternal: function (action, opts) {\n\t                /*jslint regexp: true*/\n\t                var appendAction = /^append-(.+)$/gi,\n\t                    match;\n\t                /*jslint regexp: false*/\n\t\n\t                // Actions starting with 'append-' should attempt to format a block of text ('formatBlock') using a specific\n\t                // type of block element (ie append-blockquote, append-h1, append-pre, etc.)\n\t                match = appendAction.exec(action);\n\t                if (match) {\n\t                    return this.execFormatBlock(match[1]);\n\t                }\n\t\n\t                if (action === \"createLink\") {\n\t                    return this.createLink(opts);\n\t                }\n\t\n\t                if (action === \"image\") {\n\t                    return this.options.ownerDocument.execCommand(\"insertImage\", false, this.options.contentWindow.getSelection());\n\t                }\n\t\n\t                return this.options.ownerDocument.execCommand(action, false, null);\n\t            },\n\t\n\t            // TODO: move these two methods to selection.js\n\t            // http://stackoverflow.com/questions/15867542/range-object-get-selection-parent-node-chrome-vs-firefox\n\t            rangeSelectsSingleNode: function (range) {\n\t                var startNode = range.startContainer;\n\t                return startNode === range.endContainer && startNode.hasChildNodes() && range.endOffset === range.startOffset + 1;\n\t            },\n\t\n\t            getSelectedParentElement: function () {\n\t                var selectedParentElement = null,\n\t                    range = this.selectionRange;\n\t                if (this.rangeSelectsSingleNode(range) && range.startContainer.childNodes[range.startOffset].nodeType !== 3) {\n\t                    selectedParentElement = range.startContainer.childNodes[range.startOffset];\n\t                } else if (range.startContainer.nodeType === 3) {\n\t                    selectedParentElement = range.startContainer.parentNode;\n\t                } else {\n\t                    selectedParentElement = range.startContainer;\n\t                }\n\t                return selectedParentElement;\n\t            },\n\t\n\t            execFormatBlock: function (el) {\n\t                var selectionData = Selection.getSelectionData(this.selection.anchorNode);\n\t                // FF handles blockquote differently on formatBlock\n\t                // allowing nesting, we need to use outdent\n\t                // https://developer.mozilla.org/en-US/docs/Rich-Text_Editing_in_Mozilla\n\t                if (el === \"blockquote\" && selectionData.el && selectionData.el.parentNode.tagName.toLowerCase() === \"blockquote\") {\n\t                    return this.options.ownerDocument.execCommand(\"outdent\", false, null);\n\t                }\n\t                if (selectionData.tagName === el) {\n\t                    el = \"p\";\n\t                }\n\t                // When IE we need to add <> to heading elements and\n\t                //  blockquote needs to be called as indent\n\t                // http://stackoverflow.com/questions/10741831/execcommand-formatblock-headings-in-ie\n\t                // http://stackoverflow.com/questions/1816223/rich-text-editor-with-blockquote-function/1821777#1821777\n\t                if (Util.isIE) {\n\t                    if (el === \"blockquote\") {\n\t                        return this.options.ownerDocument.execCommand(\"indent\", false, el);\n\t                    }\n\t                    el = \"<\" + el + \">\";\n\t                }\n\t                return this.options.ownerDocument.execCommand(\"formatBlock\", false, el);\n\t            },\n\t\n\t            isToolbarDefaultActionsShown: function () {\n\t                return !!this.toolbarActions && this.toolbarActions.style.display === \"block\";\n\t            },\n\t\n\t            hideToolbarDefaultActions: function () {\n\t                if (this.toolbarActions && this.isToolbarDefaultActionsShown()) {\n\t                    this.commands.forEach(function (extension) {\n\t                        if (extension.onHide && typeof extension.onHide === \"function\") {\n\t                            extension.onHide();\n\t                        }\n\t                    });\n\t                    this.toolbarActions.style.display = \"none\";\n\t                }\n\t            },\n\t\n\t            showToolbarDefaultActions: function () {\n\t                this.hideExtensionForms();\n\t\n\t                if (this.toolbarActions && !this.isToolbarDefaultActionsShown()) {\n\t                    this.toolbarActions.style.display = \"block\";\n\t                }\n\t\n\t                this.keepToolbarAlive = false;\n\t                // Using setTimeout + options.delay because:\n\t                // We will actually be displaying the toolbar, which should be controlled by options.delay\n\t                this.delay((function () {\n\t                    this.showToolbar();\n\t                }).bind(this));\n\t\n\t                return this;\n\t            },\n\t\n\t            hideExtensionForms: function () {\n\t                // Hide all extension forms\n\t                this.commands.forEach(function (extension) {\n\t                    if (extension.hasForm && extension.isDisplayed()) {\n\t                        extension.hideForm();\n\t                    }\n\t                });\n\t            },\n\t\n\t            isToolbarShown: function () {\n\t                return this.toolbar && this.toolbar.classList.contains(\"medium-editor-toolbar-active\");\n\t            },\n\t\n\t            showToolbar: function () {\n\t                if (this.toolbar && !this.isToolbarShown()) {\n\t                    this.toolbar.classList.add(\"medium-editor-toolbar-active\");\n\t                    if (typeof this.options.onShowToolbar === \"function\") {\n\t                        this.options.onShowToolbar();\n\t                    }\n\t                }\n\t            },\n\t\n\t            hideToolbar: function () {\n\t                if (this.isToolbarShown()) {\n\t                    this.toolbar.classList.remove(\"medium-editor-toolbar-active\");\n\t                    if (typeof this.options.onHideToolbar === \"function\") {\n\t                        this.options.onHideToolbar();\n\t                    }\n\t                }\n\t            },\n\t\n\t            hideToolbarActions: function () {\n\t                this.commands.forEach(function (extension) {\n\t                    if (extension.onHide && typeof extension.onHide === \"function\") {\n\t                        extension.onHide();\n\t                    }\n\t                });\n\t                this.keepToolbarAlive = false;\n\t                this.hideToolbar();\n\t            },\n\t\n\t            selectAllContents: function () {\n\t                var range = this.options.ownerDocument.createRange(),\n\t                    sel = this.options.contentWindow.getSelection(),\n\t                    currNode = Selection.getSelectionElement(this.options.contentWindow);\n\t\n\t                if (currNode) {\n\t                    // Move to the lowest descendant node that still selects all of the contents\n\t                    while (currNode.children.length === 1) {\n\t                        currNode = currNode.children[0];\n\t                    }\n\t\n\t                    range.selectNodeContents(currNode);\n\t                    sel.removeAllRanges();\n\t                    sel.addRange(range);\n\t                }\n\t            },\n\t\n\t            // http://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n\t            // Tim Down\n\t            // TODO: move to selection.js and clean up old methods there\n\t            saveSelection: function () {\n\t                this.selectionState = null;\n\t\n\t                var selection = this.options.contentWindow.getSelection(),\n\t                    range,\n\t                    preSelectionRange,\n\t                    start,\n\t                    editableElementIndex = -1;\n\t\n\t                if (selection.rangeCount > 0) {\n\t                    range = selection.getRangeAt(0);\n\t                    preSelectionRange = range.cloneRange();\n\t\n\t                    // Find element current selection is inside\n\t                    this.elements.forEach(function (el, index) {\n\t                        if (el === range.startContainer || Util.isDescendant(el, range.startContainer)) {\n\t                            editableElementIndex = index;\n\t                            return false;\n\t                        }\n\t                    });\n\t\n\t                    if (editableElementIndex > -1) {\n\t                        preSelectionRange.selectNodeContents(this.elements[editableElementIndex]);\n\t                        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n\t                        start = preSelectionRange.toString().length;\n\t\n\t                        this.selectionState = {\n\t                            start: start,\n\t                            end: start + range.toString().length,\n\t                            editableElementIndex: editableElementIndex\n\t                        };\n\t                    }\n\t                }\n\t            },\n\t\n\t            // http://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n\t            // Tim Down\n\t            // TODO: move to selection.js and clean up old methods there\n\t            restoreSelection: function () {\n\t                if (!this.selectionState) {\n\t                    return;\n\t                }\n\t\n\t                var editableElement = this.elements[this.selectionState.editableElementIndex],\n\t                    charIndex = 0,\n\t                    range = this.options.ownerDocument.createRange(),\n\t                    nodeStack = [editableElement],\n\t                    node,\n\t                    foundStart = false,\n\t                    stop = false,\n\t                    i,\n\t                    sel,\n\t                    nextCharIndex;\n\t\n\t                range.setStart(editableElement, 0);\n\t                range.collapse(true);\n\t\n\t                node = nodeStack.pop();\n\t                while (!stop && node) {\n\t                    if (node.nodeType === 3) {\n\t                        nextCharIndex = charIndex + node.length;\n\t                        if (!foundStart && this.selectionState.start >= charIndex && this.selectionState.start <= nextCharIndex) {\n\t                            range.setStart(node, this.selectionState.start - charIndex);\n\t                            foundStart = true;\n\t                        }\n\t                        if (foundStart && this.selectionState.end >= charIndex && this.selectionState.end <= nextCharIndex) {\n\t                            range.setEnd(node, this.selectionState.end - charIndex);\n\t                            stop = true;\n\t                        }\n\t                        charIndex = nextCharIndex;\n\t                    } else {\n\t                        i = node.childNodes.length - 1;\n\t                        while (i >= 0) {\n\t                            nodeStack.push(node.childNodes[i]);\n\t                            i -= 1;\n\t                        }\n\t                    }\n\t                    if (!stop) {\n\t                        node = nodeStack.pop();\n\t                    }\n\t                }\n\t\n\t                sel = this.options.contentWindow.getSelection();\n\t                sel.removeAllRanges();\n\t                sel.addRange(range);\n\t            },\n\t\n\t            hideAnchorPreview: function () {\n\t                this.anchorPreview.classList.remove(\"medium-editor-anchor-preview-active\");\n\t            },\n\t\n\t            // TODO: break method\n\t            showAnchorPreview: function (anchorEl) {\n\t                if (this.anchorPreview.classList.contains(\"medium-editor-anchor-preview-active\") || anchorEl.getAttribute(\"data-disable-preview\")) {\n\t                    return true;\n\t                }\n\t\n\t                var self = this,\n\t                    buttonHeight = 40,\n\t                    boundary = anchorEl.getBoundingClientRect(),\n\t                    middleBoundary = (boundary.left + boundary.right) / 2,\n\t                    halfOffsetWidth,\n\t                    defaultLeft;\n\t\n\t                self.anchorPreview.querySelector(\"i\").textContent = anchorEl.attributes.href.value;\n\t                halfOffsetWidth = self.anchorPreview.offsetWidth / 2;\n\t                defaultLeft = self.options.diffLeft - halfOffsetWidth;\n\t\n\t                self.observeAnchorPreview(anchorEl);\n\t\n\t                self.anchorPreview.classList.add(\"medium-toolbar-arrow-over\");\n\t                self.anchorPreview.classList.remove(\"medium-toolbar-arrow-under\");\n\t                self.anchorPreview.style.top = Math.round(buttonHeight + boundary.bottom - self.options.diffTop + this.options.contentWindow.pageYOffset - self.anchorPreview.offsetHeight) + \"px\";\n\t                if (middleBoundary < halfOffsetWidth) {\n\t                    self.anchorPreview.style.left = defaultLeft + halfOffsetWidth + \"px\";\n\t                } else if (this.options.contentWindow.innerWidth - middleBoundary < halfOffsetWidth) {\n\t                    self.anchorPreview.style.left = this.options.contentWindow.innerWidth + defaultLeft - halfOffsetWidth + \"px\";\n\t                } else {\n\t                    self.anchorPreview.style.left = defaultLeft + middleBoundary + \"px\";\n\t                }\n\t\n\t                if (this.anchorPreview && !this.anchorPreview.classList.contains(\"medium-editor-anchor-preview-active\")) {\n\t                    this.anchorPreview.classList.add(\"medium-editor-anchor-preview-active\");\n\t                }\n\t\n\t                return this;\n\t            },\n\t\n\t            // TODO: break method\n\t            observeAnchorPreview: function (anchorEl) {\n\t                var self = this,\n\t                    lastOver = new Date().getTime(),\n\t                    over = true,\n\t                    stamp = function () {\n\t                    lastOver = new Date().getTime();\n\t                    over = true;\n\t                },\n\t                    unstamp = function (e) {\n\t                    if (!e.relatedTarget || !/anchor-preview/.test(e.relatedTarget.className)) {\n\t                        over = false;\n\t                    }\n\t                },\n\t                    interval_timer = setInterval(function () {\n\t                    if (over) {\n\t                        return true;\n\t                    }\n\t                    var durr = new Date().getTime() - lastOver;\n\t                    if (durr > self.options.anchorPreviewHideDelay) {\n\t                        // hide the preview 1/2 second after mouse leaves the link\n\t                        self.hideAnchorPreview();\n\t\n\t                        // cleanup\n\t                        clearInterval(interval_timer);\n\t                        self.off(self.anchorPreview, \"mouseover\", stamp);\n\t                        self.off(self.anchorPreview, \"mouseout\", unstamp);\n\t                        self.off(anchorEl, \"mouseover\", stamp);\n\t                        self.off(anchorEl, \"mouseout\", unstamp);\n\t                    }\n\t                }, 200);\n\t\n\t                this.on(self.anchorPreview, \"mouseover\", stamp);\n\t                this.on(self.anchorPreview, \"mouseout\", unstamp);\n\t                this.on(anchorEl, \"mouseover\", stamp);\n\t                this.on(anchorEl, \"mouseout\", unstamp);\n\t            },\n\t\n\t            createAnchorPreview: function () {\n\t                var self = this,\n\t                    anchorPreview = this.options.ownerDocument.createElement(\"div\");\n\t\n\t                anchorPreview.id = \"medium-editor-anchor-preview-\" + this.id;\n\t                anchorPreview.className = \"medium-editor-anchor-preview\";\n\t                anchorPreview.innerHTML = this.anchorPreviewTemplate();\n\t                this.options.elementsContainer.appendChild(anchorPreview);\n\t\n\t                this.on(anchorPreview, \"click\", function () {\n\t                    self.anchorPreviewClickHandler();\n\t                });\n\t\n\t                return anchorPreview;\n\t            },\n\t\n\t            anchorPreviewTemplate: function () {\n\t                return \"<div class=\\\"medium-editor-toolbar-anchor-preview\\\" id=\\\"medium-editor-toolbar-anchor-preview\\\">\" + \"    <i class=\\\"medium-editor-toolbar-anchor-preview-inner\\\"></i>\" + \"</div>\";\n\t            },\n\t\n\t            anchorPreviewClickHandler: function (event) {\n\t                var range,\n\t                    sel,\n\t                    anchorExtension = this.getExtensionByName(\"anchor\");\n\t\n\t                if (anchorExtension && this.activeAnchor) {\n\t                    range = this.options.ownerDocument.createRange();\n\t                    range.selectNodeContents(this.activeAnchor);\n\t\n\t                    sel = this.options.contentWindow.getSelection();\n\t                    sel.removeAllRanges();\n\t                    sel.addRange(range);\n\t                    // Using setTimeout + options.delay because:\n\t                    // We may actually be displaying the anchor form, which should be controlled by options.delay\n\t                    this.delay((function () {\n\t                        if (this.activeAnchor) {\n\t                            anchorExtension.showForm(this.activeAnchor.attributes.href.value);\n\t                        }\n\t                        this.keepToolbarAlive = false;\n\t                    }).bind(this));\n\t                }\n\t\n\t                this.hideAnchorPreview();\n\t            },\n\t\n\t            editorAnchorObserver: function (e) {\n\t                var self = this,\n\t                    overAnchor = true,\n\t                    leaveAnchor = function () {\n\t                    // mark the anchor as no longer hovered, and stop listening\n\t                    overAnchor = false;\n\t                    self.off(self.activeAnchor, \"mouseout\", leaveAnchor);\n\t                };\n\t\n\t                if (e.target && e.target.tagName.toLowerCase() === \"a\") {\n\t                    // Detect empty href attributes\n\t                    // The browser will make href=\"\" or href=\"#top\"\n\t                    // into absolute urls when accessed as e.targed.href, so check the html\n\t                    if (!/href=[\"']\\S+[\"']/.test(e.target.outerHTML) || /href=[\"']#\\S+[\"']/.test(e.target.outerHTML)) {\n\t                        return true;\n\t                    }\n\t\n\t                    // only show when hovering on anchors\n\t                    if (this.isToolbarShown()) {\n\t                        // only show when toolbar is not present\n\t                        return true;\n\t                    }\n\t                    this.activeAnchor = e.target;\n\t                    this.on(this.activeAnchor, \"mouseout\", leaveAnchor);\n\t                    // Using setTimeout + options.delay because:\n\t                    // - We're going to show the anchor preview according to the configured delay\n\t                    //   if the mouse has not left the anchor tag in that time\n\t                    this.delay(function () {\n\t                        if (overAnchor) {\n\t                            self.showAnchorPreview(e.target);\n\t                        }\n\t                    });\n\t                }\n\t            },\n\t\n\t            bindAnchorPreview: function (index) {\n\t                var i,\n\t                    self = this;\n\t                this.editorAnchorObserverWrapper = function (e) {\n\t                    self.editorAnchorObserver(e);\n\t                };\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    this.on(this.elements[i], \"mouseover\", this.editorAnchorObserverWrapper);\n\t                }\n\t                return this;\n\t            },\n\t\n\t            createLink: function (opts) {\n\t                var customEvent, i;\n\t\n\t                if (opts.url && opts.url.trim().length > 0) {\n\t                    this.options.ownerDocument.execCommand(\"createLink\", false, opts.url);\n\t\n\t                    if (this.options.targetBlank || opts.target === \"_blank\") {\n\t                        Util.setTargetBlank(Selection.getSelectionStart(this.options.ownerDocument));\n\t                    }\n\t\n\t                    if (opts.buttonClass) {\n\t                        this.setButtonClass(opts.buttonClass);\n\t                    }\n\t                }\n\t\n\t                if (this.options.targetBlank || opts.target === \"_blank\" || opts.buttonClass) {\n\t                    customEvent = this.options.ownerDocument.createEvent(\"HTMLEvents\");\n\t                    customEvent.initEvent(\"input\", true, true, this.options.contentWindow);\n\t                    for (i = 0; i < this.elements.length; i += 1) {\n\t                        this.elements[i].dispatchEvent(customEvent);\n\t                    }\n\t                }\n\t            },\n\t\n\t            setButtonClass: function (buttonClass) {\n\t                var el = Selection.getSelectionStart(this.options.ownerDocument),\n\t                    classes = buttonClass.split(\" \"),\n\t                    i,\n\t                    j;\n\t                if (el.tagName.toLowerCase() === \"a\") {\n\t                    for (j = 0; j < classes.length; j += 1) {\n\t                        el.classList.add(classes[j]);\n\t                    }\n\t                } else {\n\t                    el = el.getElementsByTagName(\"a\");\n\t                    for (i = 0; i < el.length; i += 1) {\n\t                        for (j = 0; j < classes.length; j += 1) {\n\t                            el[i].classList.add(classes[j]);\n\t                        }\n\t                    }\n\t                }\n\t            },\n\t\n\t            positionToolbarIfShown: function () {\n\t                if (this.isToolbarShown()) {\n\t                    this.setToolbarPosition();\n\t                }\n\t            },\n\t\n\t            bindWindowActions: function () {\n\t                var self = this;\n\t\n\t                // Add a scroll event for sticky toolbar\n\t                if (this.options.staticToolbar && this.options.stickyToolbar) {\n\t                    // On scroll, re-position the toolbar\n\t                    this.on(this.options.contentWindow, \"scroll\", function () {\n\t                        self.positionToolbarIfShown();\n\t                    }, true);\n\t                }\n\t\n\t                this.on(this.options.contentWindow, \"resize\", function () {\n\t                    self.handleResize();\n\t                });\n\t\n\t                this.bindBlur();\n\t\n\t                return this;\n\t            },\n\t\n\t            activate: function () {\n\t                if (this.isActive) {\n\t                    return;\n\t                }\n\t\n\t                this.setup();\n\t            },\n\t\n\t            // TODO: break method\n\t            deactivate: function () {\n\t                var i;\n\t                if (!this.isActive) {\n\t                    return;\n\t                }\n\t                this.isActive = false;\n\t\n\t                if (this.toolbar !== undefined) {\n\t                    this.options.elementsContainer.removeChild(this.anchorPreview);\n\t                    this.options.elementsContainer.removeChild(this.toolbar);\n\t                    delete this.toolbar;\n\t                    delete this.anchorPreview;\n\t                }\n\t\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    this.elements[i].removeAttribute(\"contentEditable\");\n\t                    this.elements[i].removeAttribute(\"data-medium-element\");\n\t                }\n\t\n\t                this.commands.forEach((function (extension) {\n\t                    if (typeof extension.deactivate === \"function\") {\n\t                        extension.deactivate();\n\t                    }\n\t                }).bind(this));\n\t\n\t                this.removeAllEvents();\n\t            },\n\t\n\t            bindPaste: function () {\n\t                var i,\n\t                    self = this;\n\t                this.pasteWrapper = function (e) {\n\t                    pasteHandler.handlePaste(this, e, self.options);\n\t                };\n\t                for (i = 0; i < this.elements.length; i += 1) {\n\t                    this.on(this.elements[i], \"paste\", this.pasteWrapper);\n\t                }\n\t                return this;\n\t            },\n\t\n\t            setPlaceholders: function () {\n\t                if (!this.options.disablePlaceholders && this.elements && this.elements.length) {\n\t                    this.elements.forEach((function (el) {\n\t                        this.activatePlaceholder(el);\n\t                        this.on(el, \"blur\", this.placeholderWrapper.bind(this));\n\t                        this.on(el, \"keypress\", this.placeholderWrapper.bind(this));\n\t                    }).bind(this));\n\t                }\n\t\n\t                return this;\n\t            },\n\t\n\t            cleanPaste: function (text) {\n\t                pasteHandler.cleanPaste(text, this.options);\n\t            },\n\t\n\t            pasteHTML: function (html) {\n\t                pasteHandler.pasteHTML(html, this.options.ownerDocument);\n\t            }\n\t        };\n\t    })();\n\t\n\t    return MediumEditor;\n\t})());\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Field = __webpack_require__(11);\n\tvar Player = __webpack_require__(13);\n\tvar React = __webpack_require__(1);\n\tvar Types = React.PropTypes;\n\t\n\tvar Editor = React.createClass({\n\t  displayName: \"Editor\",\n\t\n\t\n\t  propTypes: {\n\t    src: Types.string,\n\t    onChange: Types.func.isRequired\n\t  },\n\t\n\t  render: function render() {\n\t    var video_id = this.props.video_id;\n\t\n\t\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-youtube\" },\n\t      React.createElement(Player, { video_id: video_id }),\n\t      React.createElement(\n\t        \"fieldset\",\n\t        { className: \"col-youtube-fieldset\" },\n\t        React.createElement(Field, { label: \"YouTube Video ID\", value: video_id, name: \"youtube_video_id\", onChange: this._onChange })\n\t      )\n\t    );\n\t  },\n\t\n\t  _onChange: function _onChange(e) {\n\t    this.props.onChange({ video_id: e.currentTarget.value });\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Editor;\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/**\n\t * Image Colonel Kurtz Addon\n\t * This component adds a basic image block type, including a\n\t * src, caption, and credit\n\t */\n\t\n\tvar Editor = __webpack_require__(37);\n\tvar Previewer = __webpack_require__(39);\n\tvar React = __webpack_require__(1);\n\t\n\t__webpack_require__(66);\n\t\n\tvar YouTube = {\n\t\n\t  defaultContent: function defaultContent() {\n\t    return { video_id: \"\" };\n\t  },\n\t\n\t  renderEditor: function renderEditor() {\n\t    return React.createElement(Editor, _extends({ onChange: this.setContent }, this.state.content));\n\t  },\n\t\n\t  renderPreviewer: function renderPreviewer() {\n\t    return React.createElement(Previewer, this.state.content);\n\t  }\n\t\n\t};\n\t\n\tmodule.exports = YouTube;\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar React = __webpack_require__(1);\n\tvar Player = __webpack_require__(13);\n\t\n\tvar Previewer = React.createClass({\n\t  displayName: \"Previewer\",\n\t\n\t\n\t  render: function render() {\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-youtube\" },\n\t      React.createElement(Player, { src: this.props.src })\n\t    );\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Previewer;\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t    Medium: __webpack_require__(34),\n\t    Image: __webpack_require__(31),\n\t    YouTube: __webpack_require__(38)\n\t};\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar BlockType = __webpack_require__(7);\n\tvar Button = __webpack_require__(9);\n\tvar CreateBlock = __webpack_require__(14);\n\tvar React = __webpack_require__(1);\n\t\n\tvar AddBlock = React.createClass({\n\t  displayName: \"AddBlock\",\n\t\n\t\n\t  getInitialState: function getInitialState() {\n\t    return BlockType.find(this.props.type);\n\t  },\n\t\n\t  render: function render() {\n\t    var _state = this.state;\n\t    var icon = _state.icon;\n\t    var id = _state.id;\n\t    var label = _state.label;\n\t\n\t\n\t    return React.createElement(\n\t      Button,\n\t      { \"aria-label\": label, className: \"col-btn-icon\", onClick: this._onClick },\n\t      React.createElement(\"img\", { src: icon, alt: id, \"aria-hidden\": \"true\" })\n\t    );\n\t  },\n\t\n\t  _onClick: function _onClick(e) {\n\t    var _props = this.props;\n\t    var block = _props.block;\n\t    var position = _props.position;\n\t    var type = _props.type;\n\t\n\t\n\t    CreateBlock({\n\t      content: null,\n\t      parent: block,\n\t      type: type\n\t    }, position);\n\t\n\t    e.preventDefault();\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = AddBlock;\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * This is the root component that contains sections for\n\t * toggling between viewing modes and viewing managed content\n\t *\n\t * @flow\n\t */\n\t\n\tvar ContentSection = __webpack_require__(43);\n\tvar EditorStore = __webpack_require__(25);\n\tvar Modes = __webpack_require__(3);\n\tvar ModeSelection = __webpack_require__(46);\n\tvar React = __webpack_require__(1);\n\tvar Stateful = __webpack_require__(8);\n\tvar Strings = __webpack_require__(23);\n\tvar fullscreen = __webpack_require__(55);\n\t\n\tvar App = React.createClass({\n\t  displayName: \"App\",\n\t\n\t\n\t  mixins: [Stateful],\n\t\n\t  getState: function getState() {\n\t    return {\n\t      editor: EditorStore.find(this.props.editorId)\n\t    };\n\t  },\n\t\n\t  fullscreen: (function (_fullscreen) {\n\t    var _fullscreenWrapper = function fullscreen() {\n\t      return _fullscreen.apply(this, arguments);\n\t    };\n\t\n\t    _fullscreenWrapper.toString = function () {\n\t      return _fullscreen.toString();\n\t    };\n\t\n\t    return _fullscreenWrapper;\n\t  })(function () {\n\t    fullscreen(this.getDOMNode());\n\t  }),\n\t\n\t  render: function render() {\n\t    var editor = this.state.editor;\n\t\n\t\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"colonel\" },\n\t      React.createElement(ModeSelection, { editor: editor }),\n\t      React.createElement(ContentSection, { editor: editor }),\n\t      React.createElement(\n\t        \"button\",\n\t        { type: \"button\", \"aria-label\": Strings.fullscreen, className: \"col-fullscreen\", onClick: this._onFullscreenClick },\n\t        \"Fullscreen\"\n\t      )\n\t    );\n\t  },\n\t\n\t  _onFullscreenClick: function _onFullscreenClick(e) {\n\t    e.preventDefault();\n\t    this.fullscreen();\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = App;\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _defineProperty = function (obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); };\n\t\n\t/* @flow */\n\t\n\tvar React = __webpack_require__(1);\n\tvar Modes = __webpack_require__(3);\n\t\n\tvar _types = (function () {\n\t  var _types2 = {};\n\t\n\t  _defineProperty(_types2, Modes.EDIT_MODE, __webpack_require__(44));\n\t\n\t  _defineProperty(_types2, Modes.PREVIEW_MODE, __webpack_require__(48));\n\t\n\t  return _types2;\n\t})();\n\t\n\tvar ContentSection = React.createClass({\n\t  displayName: \"ContentSection\",\n\t\n\t\n\t  render: function render() {\n\t    var editor = this.props.editor;\n\t    var block = editor.block;\n\t\n\t    return React.createElement(_types[editor.mode], { block: block, editor: editor });\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = ContentSection;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow weak */\n\tvar Animation = __webpack_require__(29);\n\tvar BlockMenu = __webpack_require__(22);\n\tvar EditorBlock = __webpack_require__(45);\n\tvar HasBlocks = __webpack_require__(5);\n\tvar React = __webpack_require__(1);\n\t\n\tvar Editor = React.createClass({\n\t  displayName: \"Editor\",\n\t\n\t\n\t  mixins: [HasBlocks],\n\t\n\t  getBlock: function getBlock(block) {\n\t    return React.createElement(EditorBlock, { key: block.id, block: block, editor: this.props.editor });\n\t  },\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var block = _props.block;\n\t    var editor = _props.editor;\n\t\n\t\n\t    return React.createElement(\n\t      Animation,\n\t      { component: \"div\", className: \"col-content\", transitionName: \"col-block\" },\n\t      React.createElement(BlockMenu, { key: \"block_menu\", block: block, editor: editor }),\n\t      this.state.blocks.map(this.getBlock)\n\t    );\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Editor;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\tvar Animation = __webpack_require__(29);\n\tvar Block = __webpack_require__(21);\n\tvar BlockMenu = __webpack_require__(22);\n\tvar HasBlocks = __webpack_require__(5);\n\tvar Orderable = __webpack_require__(47);\n\tvar React = __webpack_require__(1);\n\tvar Toolbar = __webpack_require__(51);\n\t\n\tvar EditorBlock = React.createClass({\n\t  displayName: \"EditorBlock\",\n\t  mixins: [HasBlocks],\n\t\n\t  getBlock: function getBlock(block) {\n\t    return React.createElement(EditorBlock, { key: block.id, block: block, editor: this.props.editor });\n\t  },\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var block = _props.block;\n\t    var editor = _props.editor;\n\t\n\t\n\t    return React.createElement(\n\t      \"div\",\n\t      null,\n\t      React.createElement(\n\t        Orderable,\n\t        { block: block },\n\t        React.createElement(BlockMenu, { ref: \"prepend\", block: block, editor: editor, position: block.parent }),\n\t        React.createElement(Block, { block: block, mode: editor.mode }),\n\t        React.createElement(\n\t          Animation,\n\t          { component: \"div\", className: \"col-blocks\", transitionName: \"col-block\" },\n\t          this.state.blocks.map(this.getBlock)\n\t        ),\n\t        React.createElement(Toolbar, { block: block })\n\t      ),\n\t      React.createElement(BlockMenu, { ref: \"append\", block: block.parent, editor: editor, position: block })\n\t    );\n\t  }\n\t});\n\t\n\tmodule.exports = EditorBlock;\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar Button = __webpack_require__(9);\n\tvar React = __webpack_require__(1);\n\tvar Types = React.PropTypes;\n\tvar UpdateEditor = __webpack_require__(20);\n\tvar modes = __webpack_require__(3);\n\tvar Pure = __webpack_require__(24);\n\t\n\tvar ModeSelection = React.createClass({\n\t  displayName: \"ModeSelection\",\n\t  mixins: [Pure],\n\t\n\t  propType: {\n\t    editor: Types.object.isRequired,\n\t    modes: Types.object\n\t  },\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return { modes: modes };\n\t  },\n\t\n\t  getTab: function getTab(key) {\n\t    var _this = this;\n\t    var _props = this.props;\n\t    var editor = _props.editor;\n\t    var modes = _props.modes;\n\t\n\t\n\t    var props = {\n\t      className: \"col-tabs-btn\",\n\t      disabled: editor.mode === modes[key],\n\t      onClick: function (e) {\n\t        return _this._onModeClick(e, modes[key]);\n\t      }\n\t    };\n\t\n\t    return React.createElement(\n\t      \"li\",\n\t      { key: key, className: \"col-tabs-list-item\", role: \"tab\" },\n\t      React.createElement(\n\t        Button,\n\t        props,\n\t        key.replace(\"_\", \" \")\n\t      )\n\t    );\n\t  },\n\t\n\t  getTabs: function getTabs() {\n\t    return Object.keys(this.props.modes).map(this.getTab);\n\t  },\n\t\n\t  render: function render() {\n\t    return this.props.editor.preview ? React.createElement(\n\t      \"nav\",\n\t      { role: \"navigation\", className: \"col-tabs\" },\n\t      React.createElement(\n\t        \"ul\",\n\t        { className: \"col-tabs-list\", role: \"tablist\" },\n\t        this.getTabs()\n\t      )\n\t    ) : null;\n\t  },\n\t\n\t  _onModeClick: function _onModeClick(e, mode) {\n\t    e.preventDefault();\n\t    UpdateEditor(this.props.editor.id, { mode: mode });\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = ModeSelection;\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\tvar Dragon = __webpack_require__(61);\n\tvar MoveBlock = __webpack_require__(16);\n\tvar React = __webpack_require__(1);\n\t\n\tvar Orderable = React.createClass({\n\t  displayName: \"Orderable\",\n\t\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var block = _props.block;\n\t    var children = _props.children;\n\t\n\t\n\t    return React.createElement(\n\t      Dragon,\n\t      { className: \"col-block\", message: block.id, onDrop: this._onDrop },\n\t      children\n\t    );\n\t  },\n\t\n\t  _onDrop: function _onDrop(fromId) {\n\t    MoveBlock(fromId, this.props.block.id);\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Orderable;\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar BlockStore = __webpack_require__(6);\n\tvar HasBlocks = __webpack_require__(5);\n\tvar PreviewerBlock = __webpack_require__(49);\n\tvar React = __webpack_require__(1);\n\t\n\tvar Previewer = React.createClass({\n\t  displayName: \"Previewer\",\n\t\n\t\n\t  mixins: [HasBlocks],\n\t\n\t  getBlock: function getBlock(block) {\n\t    return React.createElement(PreviewerBlock, { key: block.id, block: block, editor: this.props.editor });\n\t  },\n\t\n\t  render: function render() {\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-blocks\" },\n\t      this.state.blocks.map(this.getBlock)\n\t    );\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Previewer;\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar Block = __webpack_require__(21);\n\tvar HasBlocks = __webpack_require__(5);\n\tvar React = __webpack_require__(1);\n\t\n\tvar PreviewerBlock = React.createClass({\n\t  displayName: \"PreviewerBlock\",\n\t\n\t\n\t  mixins: [HasBlocks],\n\t\n\t  getBlock: function getBlock(block) {\n\t    return React.createElement(PreviewerBlock, { key: block.id, block: block, editor: this.props.editor });\n\t  },\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var block = _props.block;\n\t    var editor = _props.editor;\n\t\n\t\n\t    return React.createElement(\n\t      \"div\",\n\t      null,\n\t      React.createElement(Block, { block: block, mode: editor.mode }),\n\t      this.state.blocks.map(this.getBlock)\n\t    );\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = PreviewerBlock;\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar Button = __webpack_require__(9);\n\tvar DestroyBlock = __webpack_require__(15);\n\tvar Strings = __webpack_require__(23);\n\tvar React = __webpack_require__(1);\n\t\n\tvar RemoveBlock = React.createClass({\n\t  displayName: \"RemoveBlock\",\n\t\n\t\n\t  render: function render() {\n\t    return React.createElement(\n\t      Button,\n\t      { \"aria-label\": Strings.remove, className: \"col-btn-remove\", onClick: this._onClick },\n\t      \"×\"\n\t    );\n\t  },\n\t\n\t  _onClick: function _onClick(e) {\n\t    e.preventDefault();\n\t    DestroyBlock(this.props.block.id);\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = RemoveBlock;\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* @flow */\n\t\n\tvar React = __webpack_require__(1);\n\tvar RemoveBlock = __webpack_require__(50);\n\t\n\tvar Toolbar = React.createClass({\n\t  displayName: \"Toolbar\",\n\t\n\t\n\t  render: function render() {\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-toolbar\" },\n\t      React.createElement(RemoveBlock, { block: this.props.block })\n\t    );\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Toolbar;\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/* Begin: Common Block Type Interface\n\t *\n\t * Each block type component must include the BlockType mixin and implement:\n\t * - defaultContent()\n\t * - renderEditor()\n\t * - renderPreviewer()\n\t *\n\t * Calls to setContent() update both this component's state as well as\n\t * the block instance's content.\n\t *\n\t * @flow\n\t */\n\t\n\tvar React = __webpack_require__(1);\n\tvar Modes = __webpack_require__(3);\n\tvar invariant = __webpack_require__(4);\n\t\n\tvar BlockType = {\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      mode: Modes.EDIT_MODE\n\t    };\n\t  },\n\t\n\t  getInitialState: function getInitialState() {\n\t    invariant(this.defaultContent, \"BlockType mixin requires `defaultContent` implementation.\");\n\t\n\t    return {\n\t      content: this.props.initialContent || this.defaultContent()\n\t    };\n\t  },\n\t\n\t  setContent: function setContent(params) {\n\t    var content = _extends({}, this.state.content, params);\n\t\n\t    this.setState({ content: content }, function () {\n\t      this.props.updateContent(this.state.content);\n\t    });\n\t  },\n\t\n\t  editMode: function editMode() {\n\t    return this.props.mode === Modes.EDIT_MODE;\n\t  },\n\t\n\t  render: function render() {\n\t    invariant(this.renderEditor, \"BlockType mixin requires `renderEditor` implementation.\");\n\t    invariant(this.renderPreviewer, \"BlockType mixin requires `renderPreviewer` implementation.\");\n\t\n\t    return this.editMode() ? this.renderEditor() : this.renderPreviewer();\n\t  }\n\t\n\t};\n\t\n\tmodule.exports = BlockType;\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _prototypeProperties = function (child, staticProps, instanceProps) { if (staticProps) Object.defineProperties(child, staticProps); if (instanceProps) Object.defineProperties(child.prototype, instanceProps); };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\t/* @flow */\n\tvar uid = __webpack_require__(27);\n\t\n\tvar Block = (function () {\n\t  function Block(params) {\n\t    _classCallCheck(this, Block);\n\t\n\t    this.id = uid();\n\t    this.content = params.content || null;\n\t    this.parent = params.parent;\n\t    this.type = params.type;\n\t  }\n\t\n\t  _prototypeProperties(Block, null, {\n\t    toJSON: {\n\t      value: function toJSON() {\n\t        var BlockStore = __webpack_require__(6);\n\t\n\t        return {\n\t          blocks: BlockStore.childrenFor(this).map(function (i) {\n\t            return i.toJSON();\n\t          }),\n\t          content: this.content,\n\t          type: this.type\n\t        };\n\t      },\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t\n\t  return Block;\n\t})();\n\t\n\tmodule.exports = Block;\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\t/**\n\t * This utility adds a new block type to ColonelKurtz. If not given a\n\t * valid React element, it produces one using ./createBlock\n\t *\n\t * @flow\n\t */\n\t\n\tvar CreateBlockType = __webpack_require__(18);\n\tvar React = __webpack_require__(1);\n\tvar createBlock = __webpack_require__(26);\n\t\n\tmodule.exports = function (options) {\n\t  var component = options.component;\n\t\n\t  if (React.isValidElement(component) === false) {\n\t    component = createBlock(component);\n\t  }\n\t\n\t  CreateBlockType(_extends({}, options, { component: component }));\n\t};\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t// See https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode\n\t\n\tmodule.exports = function (el) {\n\t  if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {\n\t    if (el.requestFullscreen) {\n\t      el.requestFullscreen();\n\t    } else if (el.msRequestFullscreen) {\n\t      el.msRequestFullscreen();\n\t    } else if (el.mozRequestFullScreen) {\n\t      el.mozRequestFullScreen();\n\t    } else if (el.webkitRequestFullscreen) {\n\t      el.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n\t    }\n\t  } else {\n\t    if (document.exitFullscreen) {\n\t      document.exitFullscreen();\n\t    } else if (document.msExitFullscreen) {\n\t      document.msExitFullscreen();\n\t    } else if (document.mozCancelFullScreen) {\n\t      document.mozCancelFullScreen();\n\t    } else if (document.webkitExitFullscreen) {\n\t      document.webkitExitFullscreen();\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Given a root block list, this function will populate\n\t * an editor with content\n\t */\n\t\n\tvar BlockStore = __webpack_require__(6);\n\t\n\tmodule.exports = function seed(parent, blocks) {\n\t  return BlockStore._seed(parent, blocks);\n\t};\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (c) 2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t */\n\t\n\tmodule.exports.Dispatcher = __webpack_require__(58)\n\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright (c) 2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule Dispatcher\n\t * @typechecks\n\t */\n\t\n\t\"use strict\";\n\t\n\tvar invariant = __webpack_require__(59);\n\t\n\tvar _lastID = 1;\n\tvar _prefix = 'ID_';\n\t\n\t/**\n\t * Dispatcher is used to broadcast payloads to registered callbacks. This is\n\t * different from generic pub-sub systems in two ways:\n\t *\n\t *   1) Callbacks are not subscribed to particular events. Every payload is\n\t *      dispatched to every registered callback.\n\t *   2) Callbacks can be deferred in whole or part until other callbacks have\n\t *      been executed.\n\t *\n\t * For example, consider this hypothetical flight destination form, which\n\t * selects a default city when a country is selected:\n\t *\n\t *   var flightDispatcher = new Dispatcher();\n\t *\n\t *   // Keeps track of which country is selected\n\t *   var CountryStore = {country: null};\n\t *\n\t *   // Keeps track of which city is selected\n\t *   var CityStore = {city: null};\n\t *\n\t *   // Keeps track of the base flight price of the selected city\n\t *   var FlightPriceStore = {price: null}\n\t *\n\t * When a user changes the selected city, we dispatch the payload:\n\t *\n\t *   flightDispatcher.dispatch({\n\t *     actionType: 'city-update',\n\t *     selectedCity: 'paris'\n\t *   });\n\t *\n\t * This payload is digested by `CityStore`:\n\t *\n\t *   flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'city-update') {\n\t *       CityStore.city = payload.selectedCity;\n\t *     }\n\t *   });\n\t *\n\t * When the user selects a country, we dispatch the payload:\n\t *\n\t *   flightDispatcher.dispatch({\n\t *     actionType: 'country-update',\n\t *     selectedCountry: 'australia'\n\t *   });\n\t *\n\t * This payload is digested by both stores:\n\t *\n\t *    CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'country-update') {\n\t *       CountryStore.country = payload.selectedCountry;\n\t *     }\n\t *   });\n\t *\n\t * When the callback to update `CountryStore` is registered, we save a reference\n\t * to the returned token. Using this token with `waitFor()`, we can guarantee\n\t * that `CountryStore` is updated before the callback that updates `CityStore`\n\t * needs to query its data.\n\t *\n\t *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'country-update') {\n\t *       // `CountryStore.country` may not be updated.\n\t *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n\t *       // `CountryStore.country` is now guaranteed to be updated.\n\t *\n\t *       // Select the default city for the new country\n\t *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n\t *     }\n\t *   });\n\t *\n\t * The usage of `waitFor()` can be chained, for example:\n\t *\n\t *   FlightPriceStore.dispatchToken =\n\t *     flightDispatcher.register(function(payload) {\n\t *       switch (payload.actionType) {\n\t *         case 'country-update':\n\t *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n\t *           FlightPriceStore.price =\n\t *             getFlightPriceStore(CountryStore.country, CityStore.city);\n\t *           break;\n\t *\n\t *         case 'city-update':\n\t *           FlightPriceStore.price =\n\t *             FlightPriceStore(CountryStore.country, CityStore.city);\n\t *           break;\n\t *     }\n\t *   });\n\t *\n\t * The `country-update` payload will be guaranteed to invoke the stores'\n\t * registered callbacks in order: `CountryStore`, `CityStore`, then\n\t * `FlightPriceStore`.\n\t */\n\t\n\t  function Dispatcher() {\n\t    this.$Dispatcher_callbacks = {};\n\t    this.$Dispatcher_isPending = {};\n\t    this.$Dispatcher_isHandled = {};\n\t    this.$Dispatcher_isDispatching = false;\n\t    this.$Dispatcher_pendingPayload = null;\n\t  }\n\t\n\t  /**\n\t   * Registers a callback to be invoked with every dispatched payload. Returns\n\t   * a token that can be used with `waitFor()`.\n\t   *\n\t   * @param {function} callback\n\t   * @return {string}\n\t   */\n\t  Dispatcher.prototype.register=function(callback) {\n\t    var id = _prefix + _lastID++;\n\t    this.$Dispatcher_callbacks[id] = callback;\n\t    return id;\n\t  };\n\t\n\t  /**\n\t   * Removes a callback based on its token.\n\t   *\n\t   * @param {string} id\n\t   */\n\t  Dispatcher.prototype.unregister=function(id) {\n\t    invariant(\n\t      this.$Dispatcher_callbacks[id],\n\t      'Dispatcher.unregister(...): `%s` does not map to a registered callback.',\n\t      id\n\t    );\n\t    delete this.$Dispatcher_callbacks[id];\n\t  };\n\t\n\t  /**\n\t   * Waits for the callbacks specified to be invoked before continuing execution\n\t   * of the current callback. This method should only be used by a callback in\n\t   * response to a dispatched payload.\n\t   *\n\t   * @param {array<string>} ids\n\t   */\n\t  Dispatcher.prototype.waitFor=function(ids) {\n\t    invariant(\n\t      this.$Dispatcher_isDispatching,\n\t      'Dispatcher.waitFor(...): Must be invoked while dispatching.'\n\t    );\n\t    for (var ii = 0; ii < ids.length; ii++) {\n\t      var id = ids[ii];\n\t      if (this.$Dispatcher_isPending[id]) {\n\t        invariant(\n\t          this.$Dispatcher_isHandled[id],\n\t          'Dispatcher.waitFor(...): Circular dependency detected while ' +\n\t          'waiting for `%s`.',\n\t          id\n\t        );\n\t        continue;\n\t      }\n\t      invariant(\n\t        this.$Dispatcher_callbacks[id],\n\t        'Dispatcher.waitFor(...): `%s` does not map to a registered callback.',\n\t        id\n\t      );\n\t      this.$Dispatcher_invokeCallback(id);\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Dispatches a payload to all registered callbacks.\n\t   *\n\t   * @param {object} payload\n\t   */\n\t  Dispatcher.prototype.dispatch=function(payload) {\n\t    invariant(\n\t      !this.$Dispatcher_isDispatching,\n\t      'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.'\n\t    );\n\t    this.$Dispatcher_startDispatching(payload);\n\t    try {\n\t      for (var id in this.$Dispatcher_callbacks) {\n\t        if (this.$Dispatcher_isPending[id]) {\n\t          continue;\n\t        }\n\t        this.$Dispatcher_invokeCallback(id);\n\t      }\n\t    } finally {\n\t      this.$Dispatcher_stopDispatching();\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Is this Dispatcher currently dispatching.\n\t   *\n\t   * @return {boolean}\n\t   */\n\t  Dispatcher.prototype.isDispatching=function() {\n\t    return this.$Dispatcher_isDispatching;\n\t  };\n\t\n\t  /**\n\t   * Call the callback stored with the given id. Also do some internal\n\t   * bookkeeping.\n\t   *\n\t   * @param {string} id\n\t   * @internal\n\t   */\n\t  Dispatcher.prototype.$Dispatcher_invokeCallback=function(id) {\n\t    this.$Dispatcher_isPending[id] = true;\n\t    this.$Dispatcher_callbacks[id](this.$Dispatcher_pendingPayload);\n\t    this.$Dispatcher_isHandled[id] = true;\n\t  };\n\t\n\t  /**\n\t   * Set up bookkeeping needed when dispatching.\n\t   *\n\t   * @param {object} payload\n\t   * @internal\n\t   */\n\t  Dispatcher.prototype.$Dispatcher_startDispatching=function(payload) {\n\t    for (var id in this.$Dispatcher_callbacks) {\n\t      this.$Dispatcher_isPending[id] = false;\n\t      this.$Dispatcher_isHandled[id] = false;\n\t    }\n\t    this.$Dispatcher_pendingPayload = payload;\n\t    this.$Dispatcher_isDispatching = true;\n\t  };\n\t\n\t  /**\n\t   * Clear bookkeeping used for dispatching.\n\t   *\n\t   * @internal\n\t   */\n\t  Dispatcher.prototype.$Dispatcher_stopDispatching=function() {\n\t    this.$Dispatcher_pendingPayload = null;\n\t    this.$Dispatcher_isDispatching = false;\n\t  };\n\t\n\t\n\tmodule.exports = Dispatcher;\n\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (c) 2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule invariant\n\t */\n\t\n\t\"use strict\";\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar invariant = function(condition, format, a, b, c, d, e, f) {\n\t  if (false) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error(\n\t        'Minified exception occurred; use the non-minified dev environment ' +\n\t        'for the full error message and additional helpful warnings.'\n\t      );\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(\n\t        'Invariant Violation: ' +\n\t        format.replace(/%s/g, function() { return args[argIndex++]; })\n\t      );\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\t\n\tmodule.exports = invariant;\n\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013 Facebook, Inc.\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tfunction cx(classNames) {\n\t  var names = '';\n\t\n\t  if (typeof classNames == 'object') {\n\t    for (var name in classNames) {\n\t      if (!classNames.hasOwnProperty(name) || !classNames[name]) {\n\t        continue;\n\t      }\n\t      names += name + ' ';\n\t    }\n\t  } else {\n\t    for (var i = 0; i < arguments.length; i++) {\n\t      // We should technically exclude 0 too, but for the sake of backward\n\t      // compat we'll keep it (for now)\n\t      if (arguments[i] == null) {\n\t        continue;\n\t      }\n\t      names += arguments[i] + ' ';\n\t    }\n\t  }\n\t\n\t  return names.trim();\n\t}\n\t\n\tmodule.exports = cx;\n\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = _interopRequire(__webpack_require__(1));\n\t\n\tvar cx = _interopRequire(__webpack_require__(60));\n\t\n\tvar Dragon = React.createClass({\n\t  displayName: \"Dragon\",\n\t\n\t\n\t  propTypes: {\n\t    onDrop: React.PropTypes.func.isRequired\n\t  },\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      allow: \"all\",\n\t      className: \"\",\n\t      effect: \"copy\",\n\t      element: \"div\",\n\t      message: {}\n\t    };\n\t  },\n\t\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      draggable: true,\n\t      dragging: false,\n\t      droppable: false\n\t    };\n\t  },\n\t\n\t  render: function render() {\n\t    var dragging = this.state.dragging;\n\t    var draggable = this.state.draggable;\n\t    var droppable = this.state.droppable;\n\t    var className = this.props.className;\n\t    var children = this.props.children;\n\t    var element = this.props.element;\n\t    var onDrop = this.props.onDrop;\n\t    var message = this.props.message;\n\t    var allow = this.props.allow;\n\t    var effect = this.props.effect;\n\t    var safe = _objectWithoutProperties(this.props, [\"className\", \"children\", \"element\", \"onDrop\", \"message\", \"allow\", \"effect\"]);\n\t\n\t    var modifiers = cx({\n\t      \"dragon-dragging\": dragging,\n\t      \"dragon-droppable\": droppable\n\t    });\n\t\n\t    return React.createElement(element, _extends({\n\t      className: cx(\"dragon\", cx(className), modifiers),\n\t      draggable: draggable,\n\t      onBlur: this._handle({ draggable: true }),\n\t      onFocus: this._handle({ draggable: false }),\n\t      onDragEnd: this._handle({ droppable: false, dragging: false }, true),\n\t      onDragLeave: this._handle({ droppable: false }, true),\n\t      onDragOver: this._handle({ droppable: true }, true),\n\t      onDragStart: this._onDragStart,\n\t      onDrop: this._onDrop }, safe), children);\n\t  },\n\t\n\t  _handle: function _handle(state, prevent) {\n\t    var _this = this;\n\t    return function (event) {\n\t      if (prevent) event.preventDefault();\n\t      _this.setState(state);\n\t    };\n\t  },\n\t\n\t  _onDragStart: function _onDragStart(e) {\n\t    var effect = this.props.effect;\n\t    var allow = this.props.allow;\n\t    var message = this.props.message;\n\t\n\t\n\t    e.dataTransfer.setData(\"text/plain\", JSON.stringify(message));\n\t    e.dataTransfer.dropEffect = effect;\n\t    e.dataTransfer.effectAllowed = allow;\n\t\n\t    this.setState({ dragging: true });\n\t  },\n\t\n\t  _onDrop: function _onDrop(e) {\n\t    e.preventDefault();\n\t\n\t    var message = JSON.parse(e.dataTransfer.getData(\"text/plain\"));\n\t    var receiver = this.props.message;\n\t\n\t    this.props.onDrop(message, receiver);\n\t\n\t    this.setState({ droppable: false, dragging: false });\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Dragon;\n\t\n\t//# sourceMappingURL=dragon.js.map\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright 2013-2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule keyMirror\n\t * @typechecks static-only\n\t */\n\t\n\t\"use strict\";\n\t\n\tvar invariant = __webpack_require__(4);\n\t\n\t/**\n\t * Constructs an enumeration with keys equal to their value.\n\t *\n\t * For example:\n\t *\n\t *   var COLORS = keyMirror({blue: null, red: null});\n\t *   var myColor = COLORS.blue;\n\t *   var isColorValid = !!COLORS[myColor];\n\t *\n\t * The last line could not be performed if the values of the generated enum were\n\t * not equal to their keys.\n\t *\n\t *   Input:  {key1: val1, key2: val2}\n\t *   Output: {key1: key1, key2: key2}\n\t *\n\t * @param {object} obj\n\t * @return {object}\n\t */\n\tvar keyMirror = function(obj) {\n\t  var ret = {};\n\t  var key;\n\t  (\"production\" !== process.env.NODE_ENV ? invariant(\n\t    obj instanceof Object && !Array.isArray(obj),\n\t    'keyMirror(...): Argument must be an object.'\n\t  ) : invariant(obj instanceof Object && !Array.isArray(obj)));\n\t  for (key in obj) {\n\t    if (!obj.hasOwnProperty(key)) {\n\t      continue;\n\t    }\n\t    ret[key] = key;\n\t  }\n\t  return ret;\n\t};\n\t\n\tmodule.exports = keyMirror;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(28)))\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013-2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule shallowEqual\n\t */\n\t\n\t\"use strict\";\n\t\n\t/**\n\t * Performs equality by iterating through keys on an object and returning\n\t * false when any key has values which are not strictly equal between\n\t * objA and objB. Returns true when the values of all keys are strictly equal.\n\t *\n\t * @return {boolean}\n\t */\n\tfunction shallowEqual(objA, objB) {\n\t  if (objA === objB) {\n\t    return true;\n\t  }\n\t  var key;\n\t  // Test for A's keys different from B.\n\t  for (key in objA) {\n\t    if (objA.hasOwnProperty(key) &&\n\t        (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {\n\t      return false;\n\t    }\n\t  }\n\t  // Test for B's keys missing from A.\n\t  for (key in objB) {\n\t    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {\n\t      return false;\n\t    }\n\t  }\n\t  return true;\n\t}\n\t\n\tmodule.exports = shallowEqual;\n\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ])\n\n\n/** WEBPACK FOOTER **\n ** colonel-kurtz.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7d02062c43070cb2cbf1\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _prototypeProperties = function (child, staticProps, instanceProps) { if (staticProps) Object.defineProperties(child, staticProps); if (instanceProps) Object.defineProperties(child.prototype, instanceProps); };\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n/**\n * Colonel Kurts\n * A custom block editor\n * @flow\n */\n\nvar App = require(\"components/app\");\nvar Diode = require(\"diode\");\nvar EditorCreate = require(\"actions/editor/create\");\nvar EditorStore = require(\"stores/editor_store\");\nvar React = require(\"react\");\nvar seed = require(\"utils/seed\");\nvar uid = require(\"utils/uid\");\n\nrequire(\"style/colonel\");\n\nvar ColonelKurtz = (function () {\n  function ColonelKurtz(config) {\n    var _this = this;\n    _classCallCheck(this, ColonelKurtz);\n\n    this.id = uid();\n    this.el = config.el;\n    this._callbacks = [];\n\n    EditorCreate(_extends({\n      id: this.id,\n      block: seed(undefined, config.seed || []) }, config));\n\n    Diode.subscribe(function () {\n      return _this.simulateChange();\n    });\n\n    setTimeout(this.simulateChange.bind(this), 10);\n  }\n\n  _prototypeProperties(ColonelKurtz, null, {\n    render: {\n      value: function render() {\n        React.render(this._rootComponent(), this._getDomElement());\n        return this;\n      },\n      writable: true,\n      configurable: true\n    },\n    simulateChange: {\n      value: function simulateChange() {\n        this._runCallbacks();\n      },\n      writable: true,\n      configurable: true\n    },\n    addCallback: {\n      value: function addCallback(callback) {\n        this._callbacks = this._callbacks.concat(callback);\n      },\n      writable: true,\n      configurable: true\n    },\n    removeCallback: {\n      value: function removeCallback(callback) {\n        this._callbacks = this._callbacks.filter(function (c) {\n          return c !== callback;\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    toJSON: {\n      value: function toJSON() {\n        return EditorStore.find(this.id).block.toJSON().blocks;\n      },\n      writable: true,\n      configurable: true\n    },\n    toHtml: {\n      value: function toHtml() {\n        var json = this.toJSON(),\n            html = \"\";\n        json.forEach(function (block) {\n          html += block.content.html;\n        });\n\n        return html;\n      },\n      writable: true,\n      configurable: true\n    },\n    _rootComponent: {\n\n      // Private\n\n      value: function _rootComponent() {\n        return React.createElement(App, { editorId: this.id });\n      },\n      writable: true,\n      configurable: true\n    },\n    _getDomElement: {\n      value: function _getDomElement() {\n        return this.el;\n      },\n      writable: true,\n      configurable: true\n    },\n    _runCallbacks: {\n      value: function _runCallbacks() {\n        var json = this.toJSON();\n\n        this._callbacks.forEach(function (callback) {\n          callback(json);\n        });\n      },\n      writable: true,\n      configurable: true\n    }\n  });\n\n  return ColonelKurtz;\n})();\n\nColonelKurtz.addons = require(\"./addons\");\nColonelKurtz.createBlock = require(\"./utils/createBlock\");\nColonelKurtz.addBlockType = require(\"./utils/addBlockType\");\n\nmodule.exports = ColonelKurtz;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 1\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks.\n *\n * This is different from generic pub-sub systems in two ways:\n *\n * - Callbacks are not subscribed to particular events. Every payload is dispatched to every registered callback.\n * - Callbacks can be deferred in whole or part until other callbacks have been executed.\n *\n * See http://facebook.github.io/flux/docs/dispatcher.html\n */\n\nvar Dispatcher = require(\"flux\").Dispatcher;\n\nmodule.exports = new Dispatcher();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/dispatcher/index.js\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\n\nvar KeyMirror = require(\"react/lib/keyMirror\");\n\nmodule.exports = KeyMirror({\n  EDIT_MODE: null,\n  PREVIEW_MODE: null\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/constants/mode_constants.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (\"production\" !== process.env.NODE_ENV) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/lib/invariant.js\n ** module id = 4\n ** module chunks = 0\n **/","\"use strict\";\n\nvar BlockStore = require(\"stores/block_store\");\nvar React = require(\"react\");\nvar Stateful = require(\"diode/stateful\");\n\nmodule.exports = {\n  mixins: [Stateful],\n\n  propTypes: {\n    block: React.PropTypes.any.isRequired\n  },\n\n  getState: function getState() {\n    return {\n      blocks: BlockStore.childrenFor(this.props.block)\n    };\n  }\n\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/mixins/hasBlocks.js\n ** module id = 5\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/* @flow */\n\nvar Diode = require(\"diode\");\nvar Block = require(\"../models/block\");\nvar Dispatcher = require(\"../dispatcher\");\nvar invariant = require(\"react/lib/invariant\");\n\nvar _blocks = [];\n\nvar BlockStore = {\n\n  childrenFor: function childrenFor(block) {\n    return _blocks.filter(function (b) {\n      return b.parent === block;\n    });\n  },\n\n  all: function all() {\n    return _blocks;\n  },\n\n  last: function last() {\n    return _blocks[_blocks.length - 1];\n  },\n\n  find: function find(id) {\n    var block = _blocks.filter(function (b) {\n      return b.id === id;\n    })[0];\n\n    invariant(block, \"Unable to find block with id of %s\", id);\n\n    return block;\n  },\n\n  _create: function _create(_ref, position) {\n    var content = _ref.content;\n    var type = _ref.type;\n    var parent = _ref.parent;\n    var block = new Block({ content: content, type: type, parent: parent });\n\n    if (position instanceof Block) {\n      position = BlockStore._indexOf(position.id) + 1;\n    } else if (position == void 0) {\n      position = _blocks.length;\n    }\n\n    _blocks.splice(position, 0, block);\n\n    Diode.publish();\n\n    return block;\n  },\n\n  _destroy: function _destroy(id) {\n    _blocks = _blocks.filter(function (node) {\n      for (var n = node; n; n = n.parent) {\n        if (n.id == id) return false;\n      }\n\n      return true;\n    });\n\n    Diode.publish();\n  },\n\n  _update: function _update(id, content) {\n    var block = BlockStore.find(id);\n\n    block.content = _extends({}, block.content, content);\n\n    Diode.publish();\n  },\n\n  _indexOf: function _indexOf(id) {\n    return _blocks.indexOf(BlockStore.find(id));\n  },\n\n  _move: function _move(fromId, toId) {\n    var from = BlockStore._indexOf(fromId);\n    var to = BlockStore._indexOf(toId);\n\n    _blocks.splice(to, 0, _blocks.splice(from, 1)[0]);\n\n    Diode.publish();\n  },\n\n  _seed: function _seed() {\n    var parent = arguments[0] === undefined ? BlockStore._create({}) : arguments[0];\n    var items = arguments[1] === undefined ? [] : arguments[1];\n    for (var _iterator = items[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      var _step$value = _step.value;\n      var blocks = _step$value.blocks;\n      var content = _step$value.content;\n      var type = _step$value.type;\n      BlockStore._seed(BlockStore._create({ content: content, parent: parent, type: type }), blocks);\n    }\n\n    return parent;\n  },\n\n  dispatchToken: Dispatcher.register(function (action) {\n    switch (action.type) {\n\n      case require(\"actions/block/create\"):\n        BlockStore._create(action.params, action.position);\n        break;\n\n      case require(\"actions/block/destroy\"):\n        BlockStore._destroy(action.id);\n        break;\n\n      case require(\"actions/block/update\"):\n        BlockStore._update(action.id, action.content);\n        break;\n\n      case require(\"actions/block/move\"):\n        BlockStore._move(action.fromId, action.toId);\n        break;\n    }\n  })\n\n};\n\nmodule.exports = BlockStore;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/stores/block_store.js\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/* @flow */\n\nvar Dispatcher = require(\"../dispatcher\");\nvar React = require(\"react\");\nvar invariant = require(\"react/lib/invariant\");\n\nvar _blockTypes = [];\nvar _defaults = {\n  icon: null,\n  types: null\n};\n\nvar BlockTypeStore = {\n\n  keys: function keys() {\n    return _blockTypes.map(function (b) {\n      return b.id;\n    });\n  },\n\n  find: function find(id) {\n    var type = _blockTypes.filter(function (b) {\n      return b.id === id;\n    })[0];\n\n    invariant(type, \"Unable to find block type with an id of %s\");\n\n    return type;\n  },\n\n  _create: function _create(params) {\n    var record = _extends({}, _defaults, params);\n\n    invariant(record.id, \"BlockType must have an identifier\");\n\n    _blockTypes = _blockTypes.concat(record);\n  },\n\n  _remove: function _remove(id) {\n    _blockTypes = _blockTypes.filter(function (i) {\n      return i.id !== id;\n    });\n  },\n\n  dispatchToken: Dispatcher.register(function (action) {\n    switch (action.type) {\n\n      case require(\"../actions/block_type/create\"):\n        BlockTypeStore._create(action.params);\n        break;\n\n    }\n  })\n\n};\n\nmodule.exports = BlockTypeStore;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/stores/block_type_store.js\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"diode/stateful\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"diode/stateful\"\n ** module id = 8\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\nvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\nvar React = _interopRequire(require(\"react\"));\n\nvar Button = React.createClass({\n  displayName: \"Button\",\n\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      tagName: \"button\",\n      type: \"button\"\n    };\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var children = _props.children;\n    var tagName = _props.tagName;\n    var attrs = _objectWithoutProperties(_props, [\"children\", \"tagName\"]);\n\n    return React.createElement(tagName, attrs, [children]);\n  }\n});\n\nmodule.exports = Button;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/ui/button.js\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = require(\"diode\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"diode\"\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require(\"react\");\n\nvar Field = React.createClass({\n  displayName: \"Field\",\n\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      type: \"text\"\n    };\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var label = _props.label;\n    var name = _props.name;\n    var type = _props.type;\n    var props = _objectWithoutProperties(_props, [\"label\", \"name\", \"type\"]);\n\n    return React.createElement(\n      \"div\",\n      { className: \"col-img-field\" },\n      React.createElement(\n        \"label\",\n        { className: \"col-img-label\", htmlFor: name || this.props.id },\n        label\n      ),\n      React.createElement(\"input\", _extends({ className: \"col-img-input\", type: type }, props, { name: name || this.props.id }))\n    );\n  }\n\n});\n\nmodule.exports = Field;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/common/field.js\n ** module id = 11\n ** module chunks = 0\n **/","\"use strict\";\n\nvar React = require(\"react\");\n\nvar Graphic = React.createClass({\n  displayName: \"Graphic\",\n\n\n  getCaption: function getCaption() {\n    var caption = this.props.caption;\n\n    return caption ? React.createElement(\n      \"figcaption\",\n      { className: \"col-img-caption\" },\n      caption\n    ) : null;\n  },\n\n  render: function render() {\n    var src = this.props.src;\n\n\n    return src ? React.createElement(\n      \"figure\",\n      { className: \"col-img-figure\" },\n      React.createElement(\"img\", { className: \"col-img-graphic\", src: src, alt: \"\" }),\n      this.getCaption()\n    ) : null;\n  }\n\n});\n\nmodule.exports = Graphic;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/graphic.js\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\n\nvar React = require(\"react\");\n\nvar _baseUrl = \"https://www.youtube.com/embed/\";\n\nvar Player = React.createClass({\n  displayName: \"Player\",\n\n\n  render: function render() {\n    var video_id = this.props.video_id;\n\n\n    return video_id ? React.createElement(\n      \"div\",\n      { className: \"col-youtube-player\" },\n      React.createElement(\"iframe\", { className: \"col-youtube-frame\", src: _baseUrl + video_id, frameBorder: \"0\", allowFullScreen: true })\n    ) : null;\n  } });\n\nmodule.exports = Player;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/player.js\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\nvar Dispatcher = require(\"dispatcher\");\n\nmodule.exports = function CreateBlock(params, position) {\n  Dispatcher.dispatch({ type: CreateBlock, params: params, position: position });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/actions/block/create.js\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\nvar Dispatcher = require(\"dispatcher\");\n\nmodule.exports = function DestroyBlock(id) {\n  Dispatcher.dispatch({ type: DestroyBlock, id: id });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/actions/block/destroy.js\n ** module id = 15\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\nvar Dispatcher = require(\"dispatcher\");\n\nmodule.exports = function MoveBlock(fromId, toId) {\n  Dispatcher.dispatch({ type: MoveBlock, fromId: fromId, toId: toId });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/actions/block/move.js\n ** module id = 16\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\nvar Dispatcher = require(\"dispatcher\");\n\nmodule.exports = function UpdateBlock(id, content) {\n  Dispatcher.dispatch({ type: UpdateBlock, id: id, content: content });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/actions/block/update.js\n ** module id = 17\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar Dispatcher = require(\"../../dispatcher\");\n\nmodule.exports = function CreateBlockType(params) {\n  Dispatcher.dispatch({ type: CreateBlockType, params: params });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/actions/block_type/create.js\n ** module id = 18\n ** module chunks = 0\n **/","\"use strict\";\n\nvar Dispatcher = require(\"../../dispatcher\");\n\nmodule.exports = function CreateEditor(params) {\n  Dispatcher.dispatch({ type: CreateEditor, params: params });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/actions/editor/create.js\n ** module id = 19\n ** module chunks = 0\n **/","\"use strict\";\n\nvar Dispatcher = require(\"../../dispatcher\");\n\nmodule.exports = function UpdateEditor(id, params) {\n  Dispatcher.dispatch({ type: UpdateEditor, id: id, params: params });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/actions/editor/update.js\n ** module id = 20\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/* @flow */\n\nvar BlockType = require(\"../stores/block_type_store\");\nvar Pure = require(\"../mixins/pure\");\nvar Stateful = require(\"diode/stateful\");\nvar React = require(\"react\");\nvar UpdateBlock = require(\"../actions/block/update\");\n\nvar Block = React.createClass({\n  displayName: \"Block\",\n  mixins: [Stateful, Pure],\n\n  propTypes: {\n    block: React.PropTypes.any.isRequired\n  },\n\n  getState: function getState() {\n    return BlockType.find(this.props.block.type);\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var block = _props.block;\n    var props = _objectWithoutProperties(_props, [\"block\"]);\n\n    var Component = this.state.component;\n\n\n    return React.createElement(Component, _extends({ initialContent: block.content, updateContent: this._onUpdateContent }, props));\n  },\n\n  _onUpdateContent: function _onUpdateContent(content) {\n    UpdateBlock(this.props.block.id, content);\n  }\n\n});\n\nmodule.exports = Block;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/block.js\n ** module id = 21\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar AddBlock = require(\"./add_block\");\nvar BlockType = require(\"../stores/block_type_store\");\nvar React = require(\"react\");\nvar Stateful = require(\"diode/stateful\");\n\nvar BlockMenu = React.createClass({\n  displayName: \"BlockMenu\",\n  mixins: [Stateful],\n\n  propTypes: {\n    editor: React.PropTypes.any.isRequired\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      position: 0\n    };\n  },\n\n  getState: function getState() {\n    var _props = this.props;\n    var editor = _props.editor;\n    var block = _props.block;\n\n\n    // If there is a given block, then use the accepted types provided by that definition\n    // Otherwise, fallback to the editor.\n    return {\n      types: block.type ? BlockType.find(block.type).types : editor.types\n    };\n  },\n\n  getButton: function getButton(type) {\n    var _props = this.props;\n    var block = _props.block;\n    var position = _props.position;\n\n\n    return React.createElement(AddBlock, { key: type, type: type, block: block, position: position });\n  },\n\n  getNavigation: function getNavigation() {\n    return React.createElement(\n      \"nav\",\n      { className: \"col-menu\", role: \"navigation\" },\n      this.state.types.map(this.getButton)\n    );\n  },\n\n  render: function render() {\n    return this.state.types ? this.getNavigation() : null;\n  } });\n\nmodule.exports = BlockMenu;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/block_menu.js\n ** module id = 22\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = {\n  remove: \"Remove this block\",\n  fullscreen: \"Toggle fullscreen mode\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/constants/strings.js\n ** module id = 23\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @providesModule ReactComponentWithPureRenderMixin\n */\n\n\"use strict\";\n\nvar shallowEqual = require(\"react/lib/shallowEqual\");\n\n/**\n * If your React component's render function is \"pure\", e.g. it will render the\n * same result given the same props and state, provide this Mixin for a\n * considerable performance boost.\n *\n * Most React components have pure render functions.\n *\n * Example:\n *\n *   var ReactComponentWithPureRenderMixin =\n *     require('ReactComponentWithPureRenderMixin');\n *   React.createClass({\n *     mixins: [ReactComponentWithPureRenderMixin],\n *\n *     render: function() {\n *       return <div className={this.props.className}>foo</div>;\n *     }\n *   });\n *\n * Note: This only checks shallow equality for props and state. If these contain\n * complex data structures this mixin may have false-negatives for deeper\n * differences. Only mixin to components which have simple props and state, or\n * use `forceUpdate()` when you know deep data structures have changed.\n */\nvar ReactComponentWithPureRenderMixin = {\n  shouldComponentUpdate: function (nextProps, nextState) {\n    return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n  }\n};\n\nmodule.exports = ReactComponentWithPureRenderMixin;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/mixins/pure.js\n ** module id = 24\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar BlockType = require(\"stores/block_type_store\");\nvar Diode = require(\"diode\");\nvar Dispatcher = require(\"dispatcher\");\nvar Modes = require(\"constants/mode_constants\");\nvar invariant = require(\"react/lib/invariant\");\n\nvar _editors = [];\nvar getDefaults = function () {\n  return {\n    mode: Modes.EDIT_MODE,\n    types: BlockType.keys(),\n    preview: true\n  };\n};\n\nvar EditorStore = {\n\n  find: function find(id, safe) {\n    var editor = _editors.filter(function (block) {\n      return block.id === id;\n    })[0];\n\n    if (!safe) {\n      invariant(editor, \"Unable to find editor with an id of %s\", id);\n    }\n\n    return editor;\n  },\n\n  _create: function _create(params) {\n    var editor = _extends({}, getDefaults(), params);\n\n    invariant(Modes[editor.mode], \"Unacceptable mode for editor: \" + editor.mode);\n    invariant(!EditorStore.find(editor.id, true), \"Editors must have a unique identifier\");\n\n    _editors = _editors.concat(editor);\n\n    Diode.publish();\n  },\n\n  _update: function _update(id, params) {\n    var editor = EditorStore.find(id);\n    var index = _editors.indexOf(editor);\n\n    _editors = _editors.concat();\n    _editors[index] = _extends({}, getDefaults(), editor, params);\n\n    Diode.publish();\n  },\n\n  dispatchToken: Dispatcher.register(function (action) {\n    switch (action.type) {\n\n      case require(\"actions/editor/create\"):\n        EditorStore._create(action.params);\n        break;\n\n      case require(\"actions/editor/update\"):\n        EditorStore._update(action.id, action.params);\n        break;\n    }\n  })\n\n};\n\nmodule.exports = EditorStore;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/stores/editor_store.js\n ** module id = 25\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * This utility takes an object and mixes in the required boilerplate\n * needed to integrate it into ColonelKurtz.\n *\n * @flow\n */\n\nvar React = require(\"react\");\nvar BlockType = require(\"../mixins/block_type\");\n\nmodule.exports = function (spec) {\n  var mixins = spec.mixins || [];\n\n  if (mixins.indexOf(BlockType) < 0) {\n    mixins = mixins.concat(BlockType);\n  }\n\n  return React.createClass(_extends({}, spec, { React: React, mixins: mixins }));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/createBlock.js\n ** module id = 26\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar uidCounter = 0;\n\nvar uid = function () {\n  return uidCounter += 1;\n};\n\nmodule.exports = uid;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/uid.js\n ** module id = 27\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canMutationObserver = typeof window !== 'undefined'\n    && window.MutationObserver;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    var queue = [];\n\n    if (canMutationObserver) {\n        var hiddenDiv = document.createElement(\"div\");\n        var observer = new MutationObserver(function () {\n            var queueList = queue.slice();\n            queue.length = 0;\n            queueList.forEach(function (fn) {\n                fn();\n            });\n        });\n\n        observer.observe(hiddenDiv, { attributes: true });\n\n        return function nextTick(fn) {\n            if (!queue.length) {\n                hiddenDiv.setAttribute('yes', 'no');\n            }\n            queue.push(fn);\n        };\n    }\n\n    if (canPost) {\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = require(\"react/lib/ReactCSSTransitionGroup\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react/lib/ReactCSSTransitionGroup\"\n ** module id = 29\n ** module chunks = 0\n **/","\"use strict\";\n\nvar Field = require(\"../common/field\");\nvar Graphic = require(\"./graphic\");\nvar React = require(\"react\");\nvar Types = React.PropTypes;\n\nvar Editor = React.createClass({\n  displayName: \"Editor\",\n\n\n  propTypes: {\n    src: Types.string,\n    caption: Types.string,\n    attribution: Types.string,\n    onChange: Types.func.isRequired\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var src = _props.src;\n    var caption = _props.caption;\n    var attribution = _props.attribution;\n\n\n    return React.createElement(\n      \"div\",\n      { className: \"col-img\" },\n      React.createElement(Graphic, this.props),\n      React.createElement(\n        \"fieldset\",\n        { className: \"col-img-fieldset\" },\n        React.createElement(Field, { label: \"Image Source\", type: \"url\", value: src, name: \"image_src\", onChange: this._onSrcChange }),\n        React.createElement(Field, { label: \"Caption\", type: \"text\", value: caption, name: \"image_caption\", onChange: this._onCaptionChange }),\n        React.createElement(Field, { label: \"Attribution\", type: \"text\", value: attribution, name: \"image_attribution\", onChange: this._onAttributionChange })\n      )\n    );\n  },\n\n  _onSrcChange: function _onSrcChange(e) {\n    this.props.onChange({ src: e.currentTarget.value });\n  },\n\n  _onCaptionChange: function _onCaptionChange(e) {\n    this.props.onChange({ caption: e.currentTarget.value });\n  },\n\n  _onAttributionChange: function _onAttributionChange(e) {\n    this.props.onChange({ attribution: e.currentTarget.value });\n  }\n\n});\n\nmodule.exports = Editor;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/editor.js\n ** module id = 30\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * Image Colonel Kurtz Addon\n * This component adds a basic image block type, including a\n * src, caption, and credit\n */\n\nvar Editor = require(\"./editor\");\nvar Previewer = require(\"./previewer\");\nvar React = require(\"react\");\n\nrequire(\"./style\");\n\nvar Image = {\n\n  defaultContent: function defaultContent() {\n    return { src: \"\", caption: \"\", attribution: \"\" };\n  },\n\n  renderEditor: function renderEditor() {\n    return React.createElement(Editor, _extends({ onChange: this.setContent }, this.state.content));\n  },\n\n  renderPreviewer: function renderPreviewer() {\n    return React.createElement(Previewer, this.state.content);\n  }\n\n};\n\nmodule.exports = Image;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/index.js\n ** module id = 31\n ** module chunks = 0\n **/","\"use strict\";\n\nvar React = require(\"react\");\nvar Graphic = require(\"./graphic\");\n\nvar Previewer = React.createClass({\n  displayName: \"Previewer\",\n\n\n  render: function render() {\n    return React.createElement(Graphic, this.props);\n  }\n\n});\n\nmodule.exports = Previewer;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/previewer.js\n ** module id = 32\n ** module chunks = 0\n **/","\"use strict\";\n\nvar MediumEditor = require(\"./vendor/medium-editor\");\nvar React = require(\"react\");\nvar Types = React.PropTypes;\n\nvar Editor = React.createClass({\n  displayName: \"Editor\",\n\n\n  propTypes: {\n    html: Types.string.isRequired,\n    onBlur: Types.func.isRequired\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      options: {\n        buttons: [\"header1\", \"header2\", \"bold\", \"italic\", \"underline\", \"anchor\", \"quote\", \"unorderedlist\", \"orderedlist\"],\n        firstHeader: \"h1\",\n        secondHeader: \"h2\",\n        diffLeft: 0,\n        diffTop: -10,\n        disableDoubleReturn: true\n      }\n    };\n  },\n\n  shouldComponentUpdate: function shouldComponentUpdate(props, state) {\n    return false;\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.setState({\n      editor: new MediumEditor(this.refs.editor.getDOMNode(), this.props.options)\n    });\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    this.state.editor.deactivate();\n  },\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"col-block-medium\" },\n      React.createElement(\"div\", { className: \"col-medium\", onBlur: this._onBlur, role: \"textarea\", \"aria-multiline\": \"true\", ref: \"editor\", dangerouslySetInnerHTML: { __html: this.props.html } })\n    );\n  },\n\n  _onBlur: function _onBlur() {\n    var editor = this.refs.editor.getDOMNode();\n\n    this.props.onBlur({\n      text: editor.textContent,\n      html: editor.innerHTML\n    });\n  }\n\n});\n\nmodule.exports = Editor;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/editor.js\n ** module id = 33\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * This component adds a medium.com-like rich text editor block type.\n *\n * Source for this component can be found here:\n * https://github.com/daviferreira/medium-editor\n */\n\nvar Editor = require(\"./editor\");\nvar Previewer = require(\"./previewer\");\nvar React = require(\"react\");\n\nrequire(\"./style\");\n\nvar Medium = {\n\n  defaultContent: function defaultContent() {\n    return { html: \"\", text: \"\" };\n  },\n\n  renderEditor: function renderEditor() {\n    return React.createElement(Editor, _extends({ onBlur: this.setContent }, this.state.content));\n  },\n\n  renderPreviewer: function renderPreviewer() {\n    return React.createElement(Previewer, this.state.content);\n  }\n\n};\n\nmodule.exports = Medium;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/index.js\n ** module id = 34\n ** module chunks = 0\n **/","\"use strict\";\n\nvar React = require(\"react\");\n\nvar Previewer = React.createClass({\n  displayName: \"Previewer\",\n\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"col-block-content\" },\n      React.createElement(\"div\", { className: \"col-medium-preview\", dangerouslySetInnerHTML: { __html: this.props.html } })\n    );\n  }\n\n});\n\nmodule.exports = Previewer;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/previewer.js\n ** module id = 35\n ** module chunks = 0\n **/","\"use strict\";\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\n// Full polyfill for browsers with no classList support\nif (!(\"classList\" in document.createElement(\"_\"))) {\n    (function (view) {\n        \"use strict\";\n\n        if (!(\"Element\" in view)) return;\n\n        var classListProp = \"classList\",\n            protoProp = \"prototype\",\n            elemCtrProto = view.Element[protoProp],\n            objCtr = Object,\n            strTrim = String[protoProp].trim || function () {\n            return this.replace(/^\\s+|\\s+$/g, \"\");\n        },\n            arrIndexOf = Array[protoProp].indexOf || function (item) {\n            var i = 0,\n                len = this.length;\n            for (; i < len; i++) {\n                if (i in this && this[i] === item) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n        // Vendors: please allow content code to instantiate DOMExceptions\n        ,\n            DOMEx = function (type, message) {\n            this.name = type;\n            this.code = DOMException[type];\n            this.message = message;\n        },\n            checkTokenAndGetIndex = function (classList, token) {\n            if (token === \"\") {\n                throw new DOMEx(\"SYNTAX_ERR\", \"An invalid or illegal string was specified\");\n            }\n            if (/\\s/.test(token)) {\n                throw new DOMEx(\"INVALID_CHARACTER_ERR\", \"String contains an invalid character\");\n            }\n            return arrIndexOf.call(classList, token);\n        },\n            ClassList = function (elem) {\n            var trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\"),\n                classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : [],\n                i = 0,\n                len = classes.length;\n            for (; i < len; i++) {\n                this.push(classes[i]);\n            }\n            this._updateClassName = function () {\n                elem.setAttribute(\"class\", this.toString());\n            };\n        },\n            classListProto = ClassList[protoProp] = [],\n            classListGetter = function () {\n            return new ClassList(this);\n        };\n        // Most DOMException implementations don't allow calling DOMException's toString()\n        // on non-DOMExceptions. Error's toString() is sufficient here.\n        DOMEx[protoProp] = Error[protoProp];\n        classListProto.item = function (i) {\n            return this[i] || null;\n        };\n        classListProto.contains = function (token) {\n            token += \"\";\n            return checkTokenAndGetIndex(this, token) !== -1;\n        };\n        classListProto.add = function () {\n            var tokens = arguments,\n                i = 0,\n                l = tokens.length,\n                token,\n                updated = false;\n            do {\n                token = tokens[i] + \"\";\n                if (checkTokenAndGetIndex(this, token) === -1) {\n                    this.push(token);\n                    updated = true;\n                }\n            } while (++i < l);\n\n            if (updated) {\n                this._updateClassName();\n            }\n        };\n        classListProto.remove = function () {\n            var tokens = arguments,\n                i = 0,\n                l = tokens.length,\n                token,\n                updated = false,\n                index;\n            do {\n                token = tokens[i] + \"\";\n                index = checkTokenAndGetIndex(this, token);\n                while (index !== -1) {\n                    this.splice(index, 1);\n                    updated = true;\n                    index = checkTokenAndGetIndex(this, token);\n                }\n            } while (++i < l);\n\n            if (updated) {\n                this._updateClassName();\n            }\n        };\n        classListProto.toggle = function (token, force) {\n            token += \"\";\n\n            var result = this.contains(token),\n                method = result ? force !== true && \"remove\" : force !== false && \"add\";\n\n            if (method) {\n                this[method](token);\n            }\n\n            if (force === true || force === false) {\n                return force;\n            } else {\n                return !result;\n            }\n        };\n        classListProto.toString = function () {\n            return this.join(\" \");\n        };\n\n        if (objCtr.defineProperty) {\n            var classListPropDesc = {\n                get: classListGetter,\n                enumerable: true,\n                configurable: true\n            };\n            try {\n                objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n            } catch (ex) {\n                // IE 8 doesn't support enumerable:true\n                if (ex.number === -2146823252) {\n                    classListPropDesc.enumerable = false;\n                    objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                }\n            }\n        } else if (objCtr[protoProp].__defineGetter__) {\n            elemCtrProto.__defineGetter__(classListProp, classListGetter);\n        }\n    })(self);\n}\n\n(function (root, factory) {\n    \"use strict\";\n    if (typeof module === \"object\") {\n        module.exports = factory;\n    } else if (typeof define === \"function\" && define.amd) {\n        define(function () {\n            return factory;\n        });\n    } else {\n        root.MediumEditor = factory;\n    }\n})(undefined, (function () {\n    \"use strict\";\n\n    var Util;\n\n    (function (window, document) {\n        \"use strict\";\n\n        function copyInto(dest, source, overwrite) {\n            var prop;\n            dest = dest || {};\n            for (prop in source) {\n                if (source.hasOwnProperty(prop) && (overwrite || dest.hasOwnProperty(prop) === false)) {\n                    dest[prop] = source[prop];\n                }\n            }\n            return dest;\n        }\n\n        Util = {\n\n            // http://stackoverflow.com/questions/17907445/how-to-detect-ie11#comment30165888_17907562\n            // by rg89\n            isIE: navigator.appName === \"Microsoft Internet Explorer\" || navigator.appName === \"Netscape\" && new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\").exec(navigator.userAgent) !== null,\n\n            // https://github.com/jashkenas/underscore\n            keyCode: {\n                BACKSPACE: 8,\n                TAB: 9,\n                ENTER: 13,\n                ESCAPE: 27,\n                SPACE: 32,\n                DELETE: 46\n            },\n\n            parentElements: [\"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"blockquote\", \"pre\"],\n\n            defaults: function defaults(dest, source) {\n                return copyInto(dest, source);\n            },\n\n            extend: function extend(dest, source) {\n                return copyInto(dest, source, true);\n            },\n\n            derives: function derives(base, derived) {\n                var origPrototype = derived.prototype;\n                function Proto() {}\n                Proto.prototype = base.prototype;\n                derived.prototype = new Proto();\n                derived.prototype.constructor = base;\n                derived.prototype = copyInto(derived.prototype, origPrototype);\n                return derived;\n            },\n\n            // Find the next node in the DOM tree that represents any text that is being\n            // displayed directly next to the targetNode (passed as an argument)\n            // Text that appears directly next to the current node can be:\n            //  - A sibling text node\n            //  - A descendant of a sibling element\n            //  - A sibling text node of an ancestor\n            //  - A descendant of a sibling element of an ancestor\n            findAdjacentTextNodeWithContent: function findAdjacentTextNodeWithContent(rootNode, targetNode, ownerDocument) {\n                var pastTarget = false,\n                    nextNode,\n                    nodeIterator = ownerDocument.createNodeIterator(rootNode, NodeFilter.SHOW_TEXT, null, false);\n\n                // Use a native NodeIterator to iterate over all the text nodes that are descendants\n                // of the rootNode.  Once past the targetNode, choose the first non-empty text node\n                nextNode = nodeIterator.nextNode();\n                while (nextNode) {\n                    if (nextNode === targetNode) {\n                        pastTarget = true;\n                    } else if (pastTarget) {\n                        if (nextNode.nodeType === 3 && nextNode.nodeValue && nextNode.nodeValue.trim().length > 0) {\n                            break;\n                        }\n                    }\n                    nextNode = nodeIterator.nextNode();\n                }\n\n                return nextNode;\n            },\n\n            isDescendant: function isDescendant(parent, child) {\n                if (!parent || !child) {\n                    return false;\n                }\n                var node = child.parentNode;\n                while (node !== null) {\n                    if (node === parent) {\n                        return true;\n                    }\n                    node = node.parentNode;\n                }\n                return false;\n            },\n\n            // https://github.com/jashkenas/underscore\n            isElement: function isElement(obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n\n            now: function now() {\n                return Date.now || new Date().getTime();\n            },\n\n            // https://github.com/jashkenas/underscore\n            throttle: function throttle(func, wait) {\n                var THROTTLE_INTERVAL = 50,\n                    context,\n                    args,\n                    result,\n                    timeout = null,\n                    previous = 0,\n                    later;\n\n                if (!wait && wait !== 0) {\n                    wait = THROTTLE_INTERVAL;\n                }\n\n                later = function () {\n                    previous = Util.now();\n                    timeout = null;\n                    result = func.apply(context, args);\n                    if (!timeout) {\n                        context = args = null;\n                    }\n                };\n\n                return function () {\n                    var currNow = Util.now(),\n                        remaining = wait - (currNow - previous);\n                    context = this;\n                    args = arguments;\n                    if (remaining <= 0 || remaining > wait) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = currNow;\n                        result = func.apply(context, args);\n                        if (!timeout) {\n                            context = args = null;\n                        }\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n                    return result;\n                };\n            },\n\n            traverseUp: function (current, testElementFunction) {\n                do {\n                    if (current.nodeType === 1) {\n                        if (testElementFunction(current)) {\n                            return current;\n                        }\n                        // do not traverse upwards past the nearest containing editor\n                        if (current.getAttribute(\"data-medium-element\")) {\n                            return false;\n                        }\n                    }\n\n                    current = current.parentNode;\n                } while (current);\n\n                return false;\n            },\n\n            htmlEntities: function (str) {\n                // converts special characters (like <) into their escaped/encoded values (like &lt;).\n                // This allows you to show to display the string without the browser reading it as HTML.\n                return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n            },\n\n            // http://stackoverflow.com/questions/6690752/insert-html-at-caret-in-a-contenteditable-div\n            insertHTMLCommand: function (doc, html) {\n                var selection, range, el, fragment, node, lastNode;\n\n                if (doc.queryCommandSupported(\"insertHTML\")) {\n                    try {\n                        return doc.execCommand(\"insertHTML\", false, html);\n                    } catch (ignore) {}\n                }\n\n                selection = window.getSelection();\n                if (selection.getRangeAt && selection.rangeCount) {\n                    range = selection.getRangeAt(0);\n                    range.deleteContents();\n\n                    el = doc.createElement(\"div\");\n                    el.innerHTML = html;\n                    fragment = doc.createDocumentFragment();\n                    while (el.firstChild) {\n                        node = el.firstChild;\n                        lastNode = fragment.appendChild(node);\n                    }\n                    range.insertNode(fragment);\n\n                    // Preserve the selection:\n                    if (lastNode) {\n                        range = range.cloneRange();\n                        range.setStartAfter(lastNode);\n                        range.collapse(true);\n                        selection.removeAllRanges();\n                        selection.addRange(range);\n                    }\n                }\n            },\n\n            // TODO: not sure if this should be here\n            setTargetBlank: function (el) {\n                var i;\n                if (el.tagName.toLowerCase() === \"a\") {\n                    el.target = \"_blank\";\n                } else {\n                    el = el.getElementsByTagName(\"a\");\n\n                    for (i = 0; i < el.length; i += 1) {\n                        el[i].target = \"_blank\";\n                    }\n                }\n            },\n\n            isListItemChild: function (node) {\n                var parentNode = node.parentNode,\n                    tagName = parentNode.tagName.toLowerCase();\n                while (this.parentElements.indexOf(tagName) === -1 && tagName !== \"div\") {\n                    if (tagName === \"li\") {\n                        return true;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode && parentNode.tagName) {\n                        tagName = parentNode.tagName.toLowerCase();\n                    } else {\n                        return false;\n                    }\n                }\n                return false;\n            }\n        };\n    })(window, document);\n\n    var Selection;\n\n    (function (window, document) {\n        \"use strict\";\n\n        Selection = {\n            // http://stackoverflow.com/questions/1197401/how-can-i-get-the-element-the-caret-is-in-with-javascript-when-using-contentedi\n            // by You\n            getSelectionStart: function (ownerDocument) {\n                var node = ownerDocument.getSelection().anchorNode,\n                    startNode = node && node.nodeType === 3 ? node.parentNode : node;\n                return startNode;\n            },\n\n            findMatchingSelectionParent: function (testElementFunction, contentWindow) {\n                var selection = contentWindow.getSelection(),\n                    range,\n                    current;\n\n                if (selection.rangeCount === 0) {\n                    return false;\n                }\n\n                range = selection.getRangeAt(0);\n                current = range.commonAncestorContainer;\n\n                return Util.traverseUp(current, testElementFunction);\n            },\n\n            getSelectionElement: function (contentWindow) {\n                return this.findMatchingSelectionParent(function (el) {\n                    return el.getAttribute(\"data-medium-element\");\n                }, contentWindow);\n            },\n\n            selectionInContentEditableFalse: function (contentWindow) {\n                return this.findMatchingSelectionParent(function (el) {\n                    return el && el.nodeName !== \"#text\" && el.getAttribute(\"contenteditable\") === \"false\";\n                }, contentWindow);\n            },\n\n            // http://stackoverflow.com/questions/4176923/html-of-selected-text\n            // by Tim Down\n            getSelectionHtml: function getSelectionHtml() {\n                var i,\n                    html = \"\",\n                    sel,\n                    len,\n                    container;\n                if (this.options.contentWindow.getSelection !== undefined) {\n                    sel = this.options.contentWindow.getSelection();\n                    if (sel.rangeCount) {\n                        container = this.options.ownerDocument.createElement(\"div\");\n                        for (i = 0, len = sel.rangeCount; i < len; i += 1) {\n                            container.appendChild(sel.getRangeAt(i).cloneContents());\n                        }\n                        html = container.innerHTML;\n                    }\n                } else if (this.options.ownerDocument.selection !== undefined) {\n                    if (this.options.ownerDocument.selection.type === \"Text\") {\n                        html = this.options.ownerDocument.selection.createRange().htmlText;\n                    }\n                }\n                return html;\n            },\n\n            /**\n             *  Find the caret position within an element irrespective of any inline tags it may contain.\n             *\n             *  @param {DOMElement} An element containing the cursor to find offsets relative to.\n             *  @param {Range} A Range representing cursor position. Will window.getSelection if none is passed.\n             *  @return {Object} 'left' and 'right' attributes contain offsets from begining and end of Element\n             */\n            getCaretOffsets: function getCaretOffsets(element, range) {\n                var preCaretRange, postCaretRange;\n\n                if (!range) {\n                    range = window.getSelection().getRangeAt(0);\n                }\n\n                preCaretRange = range.cloneRange();\n                postCaretRange = range.cloneRange();\n\n                preCaretRange.selectNodeContents(element);\n                preCaretRange.setEnd(range.endContainer, range.endOffset);\n\n                postCaretRange.selectNodeContents(element);\n                postCaretRange.setStart(range.endContainer, range.endOffset);\n\n                return {\n                    left: preCaretRange.toString().length,\n                    right: postCaretRange.toString().length\n                };\n            },\n\n            // http://stackoverflow.com/questions/15867542/range-object-get-selection-parent-node-chrome-vs-firefox\n            rangeSelectsSingleNode: function (range) {\n                var startNode = range.startContainer;\n                return startNode === range.endContainer && startNode.hasChildNodes() && range.endOffset === range.startOffset + 1;\n            },\n\n            getSelectedParentElement: function (range) {\n                var selectedParentElement = null;\n                if (this.rangeSelectsSingleNode(range) && range.startContainer.childNodes[range.startOffset].nodeType !== 3) {\n                    selectedParentElement = range.startContainer.childNodes[range.startOffset];\n                } else if (range.startContainer.nodeType === 3) {\n                    selectedParentElement = range.startContainer.parentNode;\n                } else {\n                    selectedParentElement = range.startContainer;\n                }\n                return selectedParentElement;\n            },\n\n            getSelectionData: function (el) {\n                var tagName;\n\n                if (el && el.tagName) {\n                    tagName = el.tagName.toLowerCase();\n                }\n\n                while (el && Util.parentElements.indexOf(tagName) === -1) {\n                    el = el.parentNode;\n                    if (el && el.tagName) {\n                        tagName = el.tagName.toLowerCase();\n                    }\n                }\n\n                return {\n                    el: el,\n                    tagName: tagName\n                };\n            }\n        };\n    })(document, window);\n\n    var DefaultButton, ButtonsData;\n\n    (function (window, document) {\n        \"use strict\";\n\n        ButtonsData = {\n            bold: {\n                name: \"bold\",\n                action: \"bold\",\n                aria: \"bold\",\n                tagNames: [\"b\", \"strong\"],\n                style: {\n                    prop: \"font-weight\",\n                    value: \"700|bold\"\n                },\n                useQueryState: true,\n                contentDefault: \"<b>B</b>\",\n                contentFA: \"<i class=\\\"fa fa-bold\\\"></i>\",\n                key: \"b\"\n            },\n            italic: {\n                name: \"italic\",\n                action: \"italic\",\n                aria: \"italic\",\n                tagNames: [\"i\", \"em\"],\n                style: {\n                    prop: \"font-style\",\n                    value: \"italic\"\n                },\n                useQueryState: true,\n                contentDefault: \"<b><i>I</i></b>\",\n                contentFA: \"<i class=\\\"fa fa-italic\\\"></i>\",\n                key: \"i\"\n            },\n            underline: {\n                name: \"underline\",\n                action: \"underline\",\n                aria: \"underline\",\n                tagNames: [\"u\"],\n                style: {\n                    prop: \"text-decoration\",\n                    value: \"underline\"\n                },\n                useQueryState: true,\n                contentDefault: \"<b><u>U</u></b>\",\n                contentFA: \"<i class=\\\"fa fa-underline\\\"></i>\",\n                key: \"u\"\n            },\n            strikethrough: {\n                name: \"strikethrough\",\n                action: \"strikethrough\",\n                aria: \"strike through\",\n                tagNames: [\"strike\"],\n                style: {\n                    prop: \"text-decoration\",\n                    value: \"line-through\"\n                },\n                useQueryState: true,\n                contentDefault: \"<s>A</s>\",\n                contentFA: \"<i class=\\\"fa fa-strikethrough\\\"></i>\"\n            },\n            superscript: {\n                name: \"superscript\",\n                action: \"superscript\",\n                aria: \"superscript\",\n                tagNames: [\"sup\"],\n                /* firefox doesn't behave the way we want it to, so we CAN'T use queryCommandState for superscript\n                   https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate */\n                // useQueryState: true\n                contentDefault: \"<b>x<sup>1</sup></b>\",\n                contentFA: \"<i class=\\\"fa fa-superscript\\\"></i>\"\n            },\n            subscript: {\n                name: \"subscript\",\n                action: \"subscript\",\n                aria: \"subscript\",\n                tagNames: [\"sub\"],\n                /* firefox doesn't behave the way we want it to, so we CAN'T use queryCommandState for subscript\n                   https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate */\n                // useQueryState: true\n                contentDefault: \"<b>x<sub>1</sub></b>\",\n                contentFA: \"<i class=\\\"fa fa-subscript\\\"></i>\"\n            },\n            image: {\n                name: \"image\",\n                action: \"image\",\n                aria: \"image\",\n                tagNames: [\"img\"],\n                contentDefault: \"<b>image</b>\",\n                contentFA: \"<i class=\\\"fa fa-picture-o\\\"></i>\"\n            },\n            quote: {\n                name: \"quote\",\n                action: \"append-blockquote\",\n                aria: \"blockquote\",\n                tagNames: [\"blockquote\"],\n                contentDefault: \"<b>&ldquo;</b>\",\n                contentFA: \"<i class=\\\"fa fa-quote-right\\\"></i>\"\n            },\n            orderedlist: {\n                name: \"orderedlist\",\n                action: \"insertorderedlist\",\n                aria: \"ordered list\",\n                tagNames: [\"ol\"],\n                useQueryState: true,\n                contentDefault: \"<b>1.</b>\",\n                contentFA: \"<i class=\\\"fa fa-list-ol\\\"></i>\"\n            },\n            unorderedlist: {\n                name: \"unorderedlist\",\n                action: \"insertunorderedlist\",\n                aria: \"unordered list\",\n                tagNames: [\"ul\"],\n                useQueryState: true,\n                contentDefault: \"<b>&bull;</b>\",\n                contentFA: \"<i class=\\\"fa fa-list-ul\\\"></i>\"\n            },\n            pre: {\n                name: \"pre\",\n                action: \"append-pre\",\n                aria: \"preformatted text\",\n                tagNames: [\"pre\"],\n                contentDefault: \"<b>0101</b>\",\n                contentFA: \"<i class=\\\"fa fa-code fa-lg\\\"></i>\"\n            },\n            indent: {\n                name: \"indent\",\n                action: \"indent\",\n                aria: \"indent\",\n                tagNames: [],\n                contentDefault: \"<b>&rarr;</b>\",\n                contentFA: \"<i class=\\\"fa fa-indent\\\"></i>\"\n            },\n            outdent: {\n                name: \"outdent\",\n                action: \"outdent\",\n                aria: \"outdent\",\n                tagNames: [],\n                contentDefault: \"<b>&larr;</b>\",\n                contentFA: \"<i class=\\\"fa fa-outdent\\\"></i>\"\n            },\n            justifyCenter: {\n                name: \"justifyCenter\",\n                action: \"justifyCenter\",\n                aria: \"center justify\",\n                tagNames: [],\n                style: {\n                    prop: \"text-align\",\n                    value: \"center\"\n                },\n                useQueryState: true,\n                contentDefault: \"<b>C</b>\",\n                contentFA: \"<i class=\\\"fa fa-align-center\\\"></i>\"\n            },\n            justifyFull: {\n                name: \"justifyFull\",\n                action: \"justifyFull\",\n                aria: \"full justify\",\n                tagNames: [],\n                style: {\n                    prop: \"text-align\",\n                    value: \"justify\"\n                },\n                useQueryState: true,\n                contentDefault: \"<b>J</b>\",\n                contentFA: \"<i class=\\\"fa fa-align-justify\\\"></i>\"\n            },\n            justifyLeft: {\n                name: \"justifyLeft\",\n                action: \"justifyLeft\",\n                aria: \"left justify\",\n                tagNames: [],\n                style: {\n                    prop: \"text-align\",\n                    value: \"left\"\n                },\n                useQueryState: true,\n                contentDefault: \"<b>L</b>\",\n                contentFA: \"<i class=\\\"fa fa-align-left\\\"></i>\"\n            },\n            justifyRight: {\n                name: \"justifyRight\",\n                action: \"justifyRight\",\n                aria: \"right justify\",\n                tagNames: [],\n                style: {\n                    prop: \"text-align\",\n                    value: \"right\"\n                },\n                useQueryState: true,\n                contentDefault: \"<b>R</b>\",\n                contentFA: \"<i class=\\\"fa fa-align-right\\\"></i>\"\n            },\n            header1: {\n                name: \"header1\",\n                action: function (options) {\n                    return \"append-\" + options.firstHeader;\n                },\n                aria: function (options) {\n                    return options.firstHeader;\n                },\n                tagNames: function (options) {\n                    return [options.firstHeader];\n                },\n                contentDefault: \"<b>H1</b>\"\n            },\n            header2: {\n                name: \"header2\",\n                action: function (options) {\n                    return \"append-\" + options.secondHeader;\n                },\n                aria: function (options) {\n                    return options.secondHeader;\n                },\n                tagNames: function (options) {\n                    return [options.secondHeader];\n                },\n                contentDefault: \"<b>H2</b>\"\n            }\n        };\n\n        DefaultButton = function (options, instance) {\n            this.options = options;\n            this.name = options.name;\n            this.init(instance);\n        };\n\n        DefaultButton.prototype = {\n            init: function (instance) {\n                this.base = instance;\n\n                this.button = this.createButton();\n                this.base.on(this.button, \"click\", this.handleClick.bind(this));\n            },\n            getButton: function () {\n                return this.button;\n            },\n            getAction: function () {\n                return typeof this.options.action === \"function\" ? this.options.action(this.base.options) : this.options.action;\n            },\n            getAria: function () {\n                return typeof this.options.aria === \"function\" ? this.options.aria(this.base.options) : this.options.aria;\n            },\n            getTagNames: function () {\n                return typeof this.options.tagNames === \"function\" ? this.options.tagNames(this.base.options) : this.options.tagNames;\n            },\n            createButton: function () {\n                var button = this.base.options.ownerDocument.createElement(\"button\"),\n                    content = this.options.contentDefault;\n                button.classList.add(\"medium-editor-action\");\n                button.classList.add(\"medium-editor-action-\" + this.name);\n                button.setAttribute(\"data-action\", this.getAction());\n                button.setAttribute(\"aria-label\", this.getAria());\n                if (this.base.options.buttonLabels) {\n                    if (this.base.options.buttonLabels === \"fontawesome\" && this.options.contentFA) {\n                        content = this.options.contentFA;\n                    } else if (typeof this.base.options.buttonLabels === \"object\" && this.base.options.buttonLabels[this.name]) {\n                        content = this.base.options.buttonLabels[this.options.name];\n                    }\n                }\n                button.innerHTML = content;\n                return button;\n            },\n            handleClick: function (evt) {\n                evt.preventDefault();\n                evt.stopPropagation();\n\n                var action = this.getAction();\n\n                if (action) {\n                    this.base.execAction(action);\n                }\n            },\n            isActive: function () {\n                return this.button.classList.contains(this.base.options.activeButtonClass);\n            },\n            setInactive: function () {\n                this.button.classList.remove(this.base.options.activeButtonClass);\n                delete this.knownState;\n            },\n            setActive: function () {\n                this.button.classList.add(this.base.options.activeButtonClass);\n                delete this.knownState;\n            },\n            queryCommandState: function () {\n                var queryState = null;\n                if (this.options.useQueryState) {\n                    queryState = this.base.queryCommandState(this.getAction());\n                }\n                return queryState;\n            },\n            isAlreadyApplied: function (node) {\n                var isMatch = false,\n                    tagNames = this.getTagNames(),\n                    styleVals,\n                    computedStyle;\n\n                if (this.knownState === false || this.knownState === true) {\n                    return this.knownState;\n                }\n\n                if (tagNames && tagNames.length > 0 && node.tagName) {\n                    isMatch = tagNames.indexOf(node.tagName.toLowerCase()) !== -1;\n                }\n\n                if (!isMatch && this.options.style) {\n                    styleVals = this.options.style.value.split(\"|\");\n                    computedStyle = this.base.options.contentWindow.getComputedStyle(node, null).getPropertyValue(this.options.style.prop);\n                    styleVals.forEach((function (val) {\n                        if (!this.knownState) {\n                            this.knownState = isMatch = computedStyle.indexOf(val) !== -1;\n                        }\n                    }).bind(this));\n                }\n\n                return isMatch;\n            }\n        };\n    })(window, document);\n\n    var pasteHandler;\n\n    (function (window, document) {\n        \"use strict\";\n        /*jslint regexp: true*/\n        /*\n            jslint does not allow character negation, because the negation\n            will not match any unicode characters. In the regexes in this\n            block, negation is used specifically to match the end of an html\n            tag, and in fact unicode characters *should* be allowed.\n        */\n        function createReplacements() {\n            return [\n\n            // replace two bogus tags that begin pastes from google docs\n            [new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi), \"\"], [new RegExp(/<\\/b>(<br[^>]*>)?$/gi), \"\"],\n\n            // un-html spaces and newlines inserted by OS X\n            [new RegExp(/<span class=\"Apple-converted-space\">\\s+<\\/span>/g), \" \"], [new RegExp(/<br class=\"Apple-interchange-newline\">/g), \"<br>\"],\n\n            // replace google docs italics+bold with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi), \"<span class=\\\"replace-with italic bold\\\">\"],\n\n            // replace google docs italics with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*font-style:italic[^>]*>/gi), \"<span class=\\\"replace-with italic\\\">\"],\n\n            //[replace google docs bolds with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi), \"<span class=\\\"replace-with bold\\\">\"],\n\n            // replace manually entered b/i/a tags with real ones\n            [new RegExp(/&lt;(\\/?)(i|b|a)&gt;/gi), \"<$1$2>\"],\n\n            // replace manually a tags with real ones, converting smart-quotes from google docs\n            [new RegExp(/&lt;a\\s+href=(&quot;|&rdquo;|&ldquo;|“|”)([^&]+)(&quot;|&rdquo;|&ldquo;|“|”)&gt;/gi), \"<a href=\\\"$2\\\">\"]];\n        }\n        /*jslint regexp: false*/\n\n        pasteHandler = {\n            handlePaste: function (element, evt, options) {\n                var paragraphs,\n                    html = \"\",\n                    p,\n                    dataFormatHTML = \"text/html\",\n                    dataFormatPlain = \"text/plain\";\n\n                element.classList.remove(\"medium-editor-placeholder\");\n                if (!options.forcePlainText && !options.cleanPastedHTML) {\n                    return element;\n                }\n\n                if (options.contentWindow.clipboardData && evt.clipboardData === undefined) {\n                    evt.clipboardData = options.contentWindow.clipboardData;\n                    // If window.clipboardData exists, but e.clipboardData doesn't exist,\n                    // we're probably in IE. IE only has two possibilities for clipboard\n                    // data format: 'Text' and 'URL'.\n                    //\n                    // Of the two, we want 'Text':\n                    dataFormatHTML = \"Text\";\n                    dataFormatPlain = \"Text\";\n                }\n\n                if (evt.clipboardData && evt.clipboardData.getData && !evt.defaultPrevented) {\n                    evt.preventDefault();\n\n                    if (options.cleanPastedHTML && evt.clipboardData.getData(dataFormatHTML)) {\n                        return this.cleanPaste(evt.clipboardData.getData(dataFormatHTML), options);\n                    }\n                    if (!(options.disableReturn || element.getAttribute(\"data-disable-return\"))) {\n                        paragraphs = evt.clipboardData.getData(dataFormatPlain).split(/[\\r\\n]/g);\n                        for (p = 0; p < paragraphs.length; p += 1) {\n                            if (paragraphs[p] !== \"\") {\n                                html += \"<p>\" + Util.htmlEntities(paragraphs[p]) + \"</p>\";\n                            }\n                        }\n                        Util.insertHTMLCommand(options.ownerDocument, html);\n                    } else {\n                        html = Util.htmlEntities(evt.clipboardData.getData(dataFormatPlain));\n                        Util.insertHTMLCommand(options.ownerDocument, html);\n                    }\n                }\n            },\n\n            cleanPaste: function (text, options) {\n                var i,\n                    elList,\n                    workEl,\n                    el = Selection.getSelectionElement(options.contentWindow),\n                    multiline = /<p|<br|<div/.test(text),\n                    replacements = createReplacements();\n\n                for (i = 0; i < replacements.length; i += 1) {\n                    text = text.replace(replacements[i][0], replacements[i][1]);\n                }\n\n                if (multiline) {\n                    // double br's aren't converted to p tags, but we want paragraphs.\n                    elList = text.split(\"<br><br>\");\n\n                    this.pasteHTML(\"<p>\" + elList.join(\"</p><p>\") + \"</p>\", options.ownerDocument);\n\n                    try {\n                        options.ownerDocument.execCommand(\"insertText\", false, \"\\n\");\n                    } catch (ignore) {}\n\n                    // block element cleanup\n                    elList = el.querySelectorAll(\"a,p,div,br\");\n                    for (i = 0; i < elList.length; i += 1) {\n                        workEl = elList[i];\n\n                        switch (workEl.tagName.toLowerCase()) {\n                            case \"a\":\n                                if (options.targetBlank) {\n                                    Util.setTargetBlank(workEl);\n                                }\n                                break;\n                            case \"p\":\n                            case \"div\":\n                                this.filterCommonBlocks(workEl);\n                                break;\n                            case \"br\":\n                                this.filterLineBreak(workEl);\n                                break;\n                        }\n                    }\n                } else {\n                    this.pasteHTML(text, options.ownerDocument);\n                }\n            },\n\n            pasteHTML: function (html, ownerDocument) {\n                var elList,\n                    workEl,\n                    i,\n                    fragmentBody,\n                    pasteBlock = ownerDocument.createDocumentFragment();\n\n                pasteBlock.appendChild(ownerDocument.createElement(\"body\"));\n\n                fragmentBody = pasteBlock.querySelector(\"body\");\n                fragmentBody.innerHTML = html;\n\n                this.cleanupSpans(fragmentBody, ownerDocument);\n\n                elList = fragmentBody.querySelectorAll(\"*\");\n                for (i = 0; i < elList.length; i += 1) {\n                    workEl = elList[i];\n\n                    // delete ugly attributes\n                    workEl.removeAttribute(\"class\");\n                    workEl.removeAttribute(\"style\");\n                    workEl.removeAttribute(\"dir\");\n\n                    if (workEl.tagName.toLowerCase() === \"meta\") {\n                        workEl.parentNode.removeChild(workEl);\n                    }\n                }\n                Util.insertHTMLCommand(ownerDocument, fragmentBody.innerHTML.replace(/&nbsp;/g, \" \"));\n            },\n            isCommonBlock: function (el) {\n                return el && (el.tagName.toLowerCase() === \"p\" || el.tagName.toLowerCase() === \"div\");\n            },\n            filterCommonBlocks: function (el) {\n                if (/^\\s*$/.test(el.textContent)) {\n                    el.parentNode.removeChild(el);\n                }\n            },\n            filterLineBreak: function (el) {\n                if (this.isCommonBlock(el.previousElementSibling)) {\n                    // remove stray br's following common block elements\n                    el.parentNode.removeChild(el);\n                } else if (this.isCommonBlock(el.parentNode) && (el.parentNode.firstChild === el || el.parentNode.lastChild === el)) {\n                    // remove br's just inside open or close tags of a div/p\n                    el.parentNode.removeChild(el);\n                } else if (el.parentNode.childElementCount === 1 && el.parentNode.textContent === \"\") {\n                    // and br's that are the only child of a div/p\n                    this.removeWithParent(el);\n                }\n            },\n\n            // remove an element, including its parent, if it is the only element within its parent\n            removeWithParent: function (el) {\n                if (el && el.parentNode) {\n                    if (el.parentNode.parentNode && el.parentNode.childElementCount === 1) {\n                        el.parentNode.parentNode.removeChild(el.parentNode);\n                    } else {\n                        el.parentNode.removeChild(el.parentNode);\n                    }\n                }\n            },\n\n            cleanupSpans: function (container_el, ownerDocument) {\n                var i,\n                    el,\n                    new_el,\n                    spans = container_el.querySelectorAll(\".replace-with\"),\n                    isCEF = function (el) {\n                    return el && el.nodeName !== \"#text\" && el.getAttribute(\"contenteditable\") === \"false\";\n                };\n\n                for (i = 0; i < spans.length; i += 1) {\n                    el = spans[i];\n                    new_el = ownerDocument.createElement(el.classList.contains(\"bold\") ? \"b\" : \"i\");\n\n                    if (el.classList.contains(\"bold\") && el.classList.contains(\"italic\")) {\n                        // add an i tag as well if this has both italics and bold\n                        new_el.innerHTML = \"<i>\" + el.innerHTML + \"</i>\";\n                    } else {\n                        new_el.innerHTML = el.innerHTML;\n                    }\n                    el.parentNode.replaceChild(new_el, el);\n                }\n\n                spans = container_el.querySelectorAll(\"span\");\n                for (i = 0; i < spans.length; i += 1) {\n                    el = spans[i];\n\n                    // bail if span is in contenteditable = false\n                    if (Util.traverseUp(el, isCEF)) {\n                        return false;\n                    }\n\n                    // remove empty spans, replace others with their contents\n                    if (/^\\s*$/.test()) {\n                        el.parentNode.removeChild(el);\n                    } else {\n                        el.parentNode.replaceChild(ownerDocument.createTextNode(el.textContent), el);\n                    }\n                }\n            }\n        };\n    })(window, document);\n\n    var AnchorExtension;\n\n    (function (window, document) {\n        \"use strict\";\n\n        function AnchorDerived() {\n            this.parent = true;\n            this.options = {\n                name: \"anchor\",\n                action: \"createLink\",\n                aria: \"link\",\n                tagNames: [\"a\"],\n                contentDefault: \"<b>#</b>\",\n                contentFA: \"<i class=\\\"fa fa-link\\\"></i>\"\n            };\n            this.name = \"anchor\";\n            this.hasForm = true;\n        }\n\n        AnchorDerived.prototype = {\n\n            // Button and Extension handling\n\n            // Called when the button the toolbar is clicked\n            // Overrides DefaultButton.handleClick\n            handleClick: function (evt) {\n                evt.preventDefault();\n                evt.stopPropagation();\n\n                if (!this.base.selection) {\n                    this.base.checkSelection();\n                }\n\n                var selectedParentElement = Selection.getSelectedParentElement(this.base.selectionRange);\n                if (selectedParentElement.tagName && selectedParentElement.tagName.toLowerCase() === \"a\") {\n                    return this.base.execAction(\"unlink\");\n                }\n\n                if (!this.isDisplayed()) {\n                    this.showForm();\n                }\n\n                return false;\n            },\n\n            // Called by medium-editor to append form to the toolbar\n            getForm: function () {\n                if (!this.anchorForm) {\n                    this.anchorForm = this.createForm();\n                }\n                return this.anchorForm;\n            },\n\n            // Used by medium-editor when the default toolbar is to be displayed\n            isDisplayed: function () {\n                return this.getForm().style.display === \"block\";\n            },\n\n            hideForm: function () {\n                this.getForm().style.display = \"none\";\n                this.getInput().value = \"\";\n            },\n\n            showForm: function (link_value) {\n                var input = this.getInput();\n\n                this.base.saveSelection();\n                this.base.hideToolbarDefaultActions();\n                this.getForm().style.display = \"block\";\n                this.base.setToolbarPosition();\n                this.base.keepToolbarAlive = true;\n\n                input.value = link_value || \"\";\n                input.focus();\n            },\n\n            // Called by core when tearing down medium-editor (deactivate)\n            deactivate: function () {\n                if (!this.anchorForm) {\n                    return false;\n                }\n\n                if (this.anchorForm.parentNode) {\n                    this.anchorForm.parentNode.removeChild(this.anchorForm);\n                }\n\n                delete this.anchorForm;\n            },\n\n            // core methods\n\n            doLinkCreation: function () {\n                var targetCheckbox = this.getForm().querySelector(\".medium-editor-toolbar-anchor-target\"),\n                    buttonCheckbox = this.getForm().querySelector(\".medium-editor-toolbar-anchor-button\"),\n                    opts = {\n                    url: this.getInput().value\n                };\n\n                this.base.restoreSelection();\n\n                if (this.base.options.checkLinkFormat) {\n                    opts.url = this.checkLinkFormat(opts.url);\n                }\n\n                if (targetCheckbox && targetCheckbox.checked) {\n                    opts.target = \"_blank\";\n                } else {\n                    opts.target = \"_self\";\n                }\n\n                if (buttonCheckbox && buttonCheckbox.checked) {\n                    opts.buttonClass = this.base.options.anchorButtonClass;\n                }\n\n                this.base.createLink(opts);\n                this.base.keepToolbarAlive = false;\n                this.base.checkSelection();\n            },\n\n            checkLinkFormat: function (value) {\n                var re = /^(https?|ftps?|rtmpt?):\\/\\/|mailto:/;\n                return (re.test(value) ? \"\" : \"http://\") + value;\n            },\n\n            doFormCancel: function () {\n                this.base.restoreSelection();\n                this.base.keepToolbarAlive = false;\n                this.base.checkSelection();\n            },\n\n            // form creation and event handling\n\n            createForm: function () {\n                var doc = this.base.options.ownerDocument,\n                    form = doc.createElement(\"div\"),\n                    input = doc.createElement(\"input\"),\n                    close = doc.createElement(\"a\"),\n                    save = doc.createElement(\"a\"),\n                    target,\n                    target_label,\n                    button,\n                    button_label;\n\n                // Anchor Form (div)\n                form.className = \"medium-editor-toolbar-form\";\n                form.id = \"medium-editor-toolbar-form-anchor-\" + this.base.id;\n\n                // Handle clicks on the form itself\n                this.base.on(form, \"click\", this.handleFormClick.bind(this));\n\n                // Add url textbox\n                input.setAttribute(\"type\", \"text\");\n                input.className = \"medium-editor-toolbar-input\";\n                input.setAttribute(\"placeholder\", this.base.options.anchorInputPlaceholder);\n                form.appendChild(input);\n\n                // Handle typing in the textbox\n                this.base.on(input, \"keyup\", this.handleTextboxKeyup.bind(this));\n\n                // Handle clicks into the textbox\n                this.base.on(input, \"click\", this.handleFormClick.bind(this));\n\n                // Add save buton\n                save.setAttribute(\"href\", \"#\");\n                save.className = \"medium-editor-toobar-save\";\n                save.innerHTML = this.base.options.buttonLabels === \"fontawesome\" ? \"<i class=\\\"fa fa-check\\\"></i>\" : \"&#10003;\";\n                form.appendChild(save);\n\n                // Handle save button clicks (capture)\n                this.base.on(save, \"click\", this.handleSaveClick.bind(this), true);\n\n                // Add close button\n                close.setAttribute(\"href\", \"#\");\n                close.className = \"medium-editor-toobar-close\";\n                close.innerHTML = this.base.options.buttonLabels === \"fontawesome\" ? \"<i class=\\\"fa fa-times\\\"></i>\" : \"&times;\";\n                form.appendChild(close);\n\n                // Handle close button clicks\n                this.base.on(close, \"click\", this.handleCloseClick.bind(this));\n\n                // (Optional) Add 'open in new window' checkbox\n                if (this.base.options.anchorTarget) {\n                    target = doc.createElement(\"input\");\n                    target.setAttribute(\"type\", \"checkbox\");\n                    target.className = \"medium-editor-toolbar-anchor-target\";\n\n                    target_label = doc.createElement(\"label\");\n                    target_label.innerHTML = this.base.options.anchorInputCheckboxLabel;\n                    target_label.insertBefore(target, target_label.firstChild);\n\n                    form.appendChild(target_label);\n                }\n\n                // (Optional) Add 'add button class to anchor' checkbox\n                if (this.base.options.anchorButton) {\n                    button = doc.createElement(\"input\");\n                    button.setAttribute(\"type\", \"checkbox\");\n                    button.className = \"medium-editor-toolbar-anchor-button\";\n\n                    button_label = doc.createElement(\"label\");\n                    button_label.innerHTML = \"Button\";\n                    button_label.insertBefore(button, button_label.firstChild);\n\n                    form.appendChild(button_label);\n                }\n\n                // Handle click (capture) & focus (capture) outside of the form\n                this.base.on(doc.body, \"click\", this.handleOutsideInteraction.bind(this), true);\n                this.base.on(doc.body, \"focus\", this.handleOutsideInteraction.bind(this), true);\n\n                return form;\n            },\n\n            getInput: function () {\n                return this.getForm().querySelector(\"input.medium-editor-toolbar-input\");\n            },\n\n            handleOutsideInteraction: function (event) {\n                if (event.target !== this.getForm() && !Util.isDescendant(this.getForm(), event.target) && !Util.isDescendant(this.base.toolbarActions, event.target)) {\n                    this.base.keepToolbarAlive = false;\n                    this.base.checkSelection();\n                }\n            },\n\n            handleTextboxKeyup: function (event) {\n                // For ENTER -> create the anchor\n                if (event.keyCode === Util.keyCode.ENTER) {\n                    event.preventDefault();\n                    this.doLinkCreation();\n                    return;\n                }\n\n                // For ESCAPE -> close the form\n                if (event.keyCode === Util.keyCode.ESCAPE) {\n                    event.preventDefault();\n                    this.doFormCancel();\n                }\n            },\n\n            handleFormClick: function (event) {\n                // make sure not to hide form when clicking inside the form\n                event.stopPropagation();\n                this.base.keepToolbarAlive = true;\n            },\n\n            handleSaveClick: function (event) {\n                // Clicking Save -> create the anchor\n                event.preventDefault();\n                this.doLinkCreation();\n            },\n\n            handleCloseClick: function (event) {\n                // Click Close -> close the form\n                event.preventDefault();\n                this.doFormCancel();\n            }\n        };\n\n        AnchorExtension = Util.derives(DefaultButton, AnchorDerived);\n    })(window, document);\n\n    function MediumEditor(elements, options) {\n        \"use strict\";\n        return this.init(elements, options);\n    }\n\n    (function () {\n        \"use strict\";\n\n        MediumEditor.statics = {\n            ButtonsData: ButtonsData,\n            DefaultButton: DefaultButton,\n            AnchorExtension: AnchorExtension\n        };\n\n        MediumEditor.prototype = {\n            defaults: {\n                allowMultiParagraphSelection: true,\n                anchorInputPlaceholder: \"Paste or type a link\",\n                anchorInputCheckboxLabel: \"Open in new window\",\n                anchorPreviewHideDelay: 500,\n                buttons: [\"bold\", \"italic\", \"underline\", \"anchor\", \"header1\", \"header2\", \"quote\"],\n                buttonLabels: false,\n                checkLinkFormat: false,\n                cleanPastedHTML: false,\n                delay: 0,\n                diffLeft: 0,\n                diffTop: -10,\n                disableReturn: false,\n                disableDoubleReturn: false,\n                disableToolbar: false,\n                disableEditing: false,\n                disablePlaceholders: false,\n                toolbarAlign: \"center\",\n                elementsContainer: false,\n                imageDragging: true,\n                standardizeSelectionStart: false,\n                contentWindow: window,\n                ownerDocument: document,\n                firstHeader: \"h3\",\n                forcePlainText: true,\n                placeholder: \"Type your text\",\n                secondHeader: \"h4\",\n                targetBlank: false,\n                anchorTarget: false,\n                anchorButton: false,\n                anchorButtonClass: \"btn\",\n                extensions: {},\n                activeButtonClass: \"medium-editor-button-active\",\n                firstButtonClass: \"medium-editor-button-first\",\n                lastButtonClass: \"medium-editor-button-last\"\n            },\n\n            init: function (elements, options) {\n                var uniqueId = 1;\n\n                this.options = Util.defaults(options, this.defaults);\n                this.setElementSelection(elements);\n                if (this.elements.length === 0) {\n                    return;\n                }\n\n                if (!this.options.elementsContainer) {\n                    this.options.elementsContainer = this.options.ownerDocument.body;\n                }\n\n                while (this.options.elementsContainer.querySelector(\"#medium-editor-toolbar-\" + uniqueId)) {\n                    uniqueId = uniqueId + 1;\n                }\n\n                this.id = uniqueId;\n\n                return this.setup();\n            },\n\n            setup: function () {\n                this.events = [];\n                this.isActive = true;\n                this.initThrottledMethods().initCommands().initElements().bindSelect().bindDragDrop().bindPaste().setPlaceholders().bindElementActions().bindWindowActions();\n            },\n\n            on: function (target, event, listener, useCapture) {\n                target.addEventListener(event, listener, useCapture);\n                this.events.push([target, event, listener, useCapture]);\n            },\n\n            off: function (target, event, listener, useCapture) {\n                var index = this.indexOfListener(target, event, listener, useCapture),\n                    e;\n                if (index !== -1) {\n                    e = this.events.splice(index, 1)[0];\n                    e[0].removeEventListener(e[1], e[2], e[3]);\n                }\n            },\n\n            indexOfListener: function (target, event, listener, useCapture) {\n                var i, n, item;\n                for (i = 0, n = this.events.length; i < n; i = i + 1) {\n                    item = this.events[i];\n                    if (item[0] === target && item[1] === event && item[2] === listener && item[3] === useCapture) {\n                        return i;\n                    }\n                }\n                return -1;\n            },\n\n            delay: function (fn) {\n                var self = this;\n                setTimeout(function () {\n                    if (self.isActive) {\n                        fn();\n                    }\n                }, this.options.delay);\n            },\n\n            removeAllEvents: function () {\n                var e = this.events.pop();\n                while (e) {\n                    e[0].removeEventListener(e[1], e[2], e[3]);\n                    e = this.events.pop();\n                }\n            },\n\n            initThrottledMethods: function () {\n                var self = this;\n\n                // handleResize is throttled because:\n                // - It will be called when the browser is resizing, which can fire many times very quickly\n                // - For some event (like resize) a slight lag in UI responsiveness is OK and provides performance benefits\n                this.handleResize = Util.throttle(function () {\n                    if (self.isActive) {\n                        self.positionToolbarIfShown();\n                    }\n                });\n\n                // handleBlur is throttled because:\n                // - This method could be called many times due to the type of event handlers that are calling it\n                // - We want a slight delay so that other events in the stack can run, some of which may\n                //   prevent the toolbar from being hidden (via this.keepToolbarAlive).\n                this.handleBlur = Util.throttle(function () {\n                    if (self.isActive && !self.keepToolbarAlive) {\n                        self.hideToolbarActions();\n                    }\n                });\n\n                return this;\n            },\n\n            initElements: function () {\n                var i,\n                    addToolbar = false;\n                for (i = 0; i < this.elements.length; i += 1) {\n                    if (!this.options.disableEditing && !this.elements[i].getAttribute(\"data-disable-editing\")) {\n                        this.elements[i].setAttribute(\"contentEditable\", true);\n                    }\n                    if (!this.elements[i].getAttribute(\"data-placeholder\")) {\n                        this.elements[i].setAttribute(\"data-placeholder\", this.options.placeholder);\n                    }\n                    this.elements[i].setAttribute(\"data-medium-element\", true);\n                    this.elements[i].setAttribute(\"role\", \"textbox\");\n                    this.elements[i].setAttribute(\"aria-multiline\", true);\n                    this.bindParagraphCreation(i);\n                    if (!this.options.disableToolbar && !this.elements[i].getAttribute(\"data-disable-toolbar\")) {\n                        addToolbar = true;\n                    }\n                }\n                // Init toolbar\n                if (addToolbar) {\n                    this.initToolbar().setFirstAndLastButtons().bindAnchorPreview();\n                }\n                return this;\n            },\n\n            setElementSelection: function (selector) {\n                if (!selector) {\n                    selector = [];\n                }\n                // If string, use as query selector\n                if (typeof selector === \"string\") {\n                    selector = this.options.ownerDocument.querySelectorAll(selector);\n                }\n                // If element, put into array\n                if (Util.isElement(selector)) {\n                    selector = [selector];\n                }\n                // Convert NodeList (or other array like object) into an array\n                this.elements = Array.prototype.slice.apply(selector);\n            },\n\n            bindBlur: function () {\n                var self = this,\n                    blurFunction = function (e) {\n                    var isDescendantOfEditorElements = false,\n                        selection = self.options.contentWindow.getSelection(),\n                        selRange = selection.isCollapsed ? null : Selection.getSelectedParentElement(selection.getRangeAt(0)),\n                        i;\n\n                    // This control was introduced also to avoid the toolbar\n                    // to disapper when selecting from right to left and\n                    // the selection ends at the beginning of the text.\n                    for (i = 0; i < self.elements.length; i += 1) {\n                        if (Util.isDescendant(self.elements[i], e.target) || Util.isDescendant(self.elements[i], selRange)) {\n                            isDescendantOfEditorElements = true;\n                            break;\n                        }\n                    }\n                    // If it's not part of the editor, or the toolbar\n                    if (e.target !== self.toolbar && self.elements.indexOf(e.target) === -1 && !isDescendantOfEditorElements && !Util.isDescendant(self.toolbar, e.target) && !Util.isDescendant(self.anchorPreview, e.target)) {\n                        // Activate the placeholder\n                        if (!self.options.disablePlaceholders) {\n                            self.placeholderWrapper(e, self.elements[0]);\n                        }\n\n                        // Hide the toolbar after a small delay so we can prevent this on toolbar click\n                        self.handleBlur();\n                    }\n                };\n\n                // Hide the toolbar when focusing outside of the editor.\n                this.on(this.options.ownerDocument.body, \"click\", blurFunction, true);\n                this.on(this.options.ownerDocument.body, \"focus\", blurFunction, true);\n\n                return this;\n            },\n\n            bindClick: function (i) {\n                var self = this;\n\n                this.on(this.elements[i], \"click\", function () {\n                    if (!self.options.disablePlaceholders) {\n                        // Remove placeholder\n                        this.classList.remove(\"medium-editor-placeholder\");\n                    }\n\n                    if (self.options.staticToolbar) {\n                        self.setToolbarPosition();\n                    }\n                });\n\n                return this;\n            },\n\n            /**\n             * This handles blur and keypress events on elements\n             * Including Placeholders, and tooldbar hiding on blur\n             */\n            bindElementActions: function () {\n                var i;\n\n                for (i = 0; i < this.elements.length; i += 1) {\n                    if (!this.options.disablePlaceholders) {\n                        // Active all of the placeholders\n                        this.activatePlaceholder(this.elements[i]);\n                    }\n\n                    // Bind the return and tab keypress events\n                    this.bindReturn(i).bindKeydown(i).bindClick(i);\n                }\n\n                return this;\n            },\n\n            // Two functions to handle placeholders\n            activatePlaceholder: function (el) {\n                if (!el.querySelector(\"img\") && !el.querySelector(\"blockquote\") && el.textContent.replace(/^\\s+|\\s+$/g, \"\") === \"\") {\n                    el.classList.add(\"medium-editor-placeholder\");\n                }\n            },\n            placeholderWrapper: function (evt, el) {\n                el = el || evt.target;\n                el.classList.remove(\"medium-editor-placeholder\");\n                if (evt.type !== \"keypress\") {\n                    this.activatePlaceholder(el);\n                }\n            },\n\n            serialize: function () {\n                var i,\n                    elementid,\n                    content = {};\n                for (i = 0; i < this.elements.length; i += 1) {\n                    elementid = this.elements[i].id !== \"\" ? this.elements[i].id : \"element-\" + i;\n                    content[elementid] = {\n                        value: this.elements[i].innerHTML.trim()\n                    };\n                }\n                return content;\n            },\n\n            initExtension: function (extension, name) {\n                if (extension.parent) {\n                    extension.base = this;\n                }\n                if (typeof extension.init === \"function\") {\n                    extension.init(this);\n                }\n                if (!extension.name) {\n                    extension.name = name;\n                }\n                return extension;\n            },\n\n            initCommands: function () {\n                var buttons = this.options.buttons,\n                    extensions = this.options.extensions,\n                    ext,\n                    name;\n                this.commands = [];\n\n                buttons.forEach((function (buttonName) {\n                    if (extensions[buttonName]) {\n                        ext = this.initExtension(extensions[buttonName], buttonName);\n                        this.commands.push(ext);\n                    } else if (buttonName === \"anchor\") {\n                        ext = this.initExtension(new AnchorExtension(), buttonName);\n                        this.commands.push(ext);\n                    } else if (ButtonsData.hasOwnProperty(buttonName)) {\n                        ext = new DefaultButton(ButtonsData[buttonName], this);\n                        this.commands.push(ext);\n                    }\n                }).bind(this));\n\n                for (name in extensions) {\n                    if (extensions.hasOwnProperty(name) && buttons.indexOf(name) === -1) {\n                        ext = this.initExtension(extensions[name], name);\n                    }\n                }\n\n                return this;\n            },\n\n            getExtensionByName: function (name) {\n                var extension;\n                if (this.commands && this.commands.length) {\n                    this.commands.forEach(function (ext) {\n                        if (ext.name === name) {\n                            extension = ext;\n                        }\n                    });\n                }\n                return extension;\n            },\n\n            /**\n             * Helper function to call a method with a number of parameters on all registered extensions.\n             * The function assures that the function exists before calling.\n             *\n             * @param {string} funcName name of the function to call\n             * @param [args] arguments passed into funcName\n             */\n            callExtensions: function (funcName) {\n                if (arguments.length < 1) {\n                    return;\n                }\n\n                var args = Array.prototype.slice.call(arguments, 1),\n                    ext,\n                    name;\n\n                for (name in this.options.extensions) {\n                    if (this.options.extensions.hasOwnProperty(name)) {\n                        ext = this.options.extensions[name];\n                        if (ext[funcName] !== undefined) {\n                            ext[funcName].apply(ext, args);\n                        }\n                    }\n                }\n                return this;\n            },\n\n            bindParagraphCreation: function (index) {\n                var self = this;\n                this.on(this.elements[index], \"keypress\", function (e) {\n                    var node, tagName;\n                    if (e.which === Util.keyCode.SPACE) {\n                        node = Selection.getSelectionStart(self.options.ownerDocument);\n                        tagName = node.tagName.toLowerCase();\n                        if (tagName === \"a\") {\n                            self.options.ownerDocument.execCommand(\"unlink\", false, null);\n                        }\n                    }\n                });\n\n                this.on(this.elements[index], \"keyup\", function (e) {\n                    var node = Selection.getSelectionStart(self.options.ownerDocument),\n                        tagName,\n                        editorElement;\n\n                    if (node && node.getAttribute(\"data-medium-element\") && node.children.length === 0 && !(self.options.disableReturn || node.getAttribute(\"data-disable-return\"))) {\n                        self.options.ownerDocument.execCommand(\"formatBlock\", false, \"p\");\n                    }\n                    if (e.which === Util.keyCode.ENTER) {\n                        node = Selection.getSelectionStart(self.options.ownerDocument);\n                        tagName = node.tagName.toLowerCase();\n                        editorElement = Selection.getSelectionElement(self.options.contentWindow);\n\n                        if (!(self.options.disableReturn || editorElement.getAttribute(\"data-disable-return\")) && tagName !== \"li\" && !Util.isListItemChild(node)) {\n                            if (!e.shiftKey) {\n                                // paragraph creation should not be forced within a header tag\n                                if (!/h\\d/.test(tagName)) {\n                                    self.options.ownerDocument.execCommand(\"formatBlock\", false, \"p\");\n                                }\n                            }\n                            if (tagName === \"a\") {\n                                self.options.ownerDocument.execCommand(\"unlink\", false, null);\n                            }\n                        }\n                    }\n                });\n                return this;\n            },\n\n            bindReturn: function (index) {\n                var self = this;\n                this.on(this.elements[index], \"keypress\", function (e) {\n                    if (e.which === Util.keyCode.ENTER) {\n                        if (self.options.disableReturn || this.getAttribute(\"data-disable-return\")) {\n                            e.preventDefault();\n                        } else if (self.options.disableDoubleReturn || this.getAttribute(\"data-disable-double-return\")) {\n                            var node = Selection.getSelectionStart(self.options.contentWindow);\n                            if (node && node.textContent.trim() === \"\") {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                });\n                return this;\n            },\n\n            bindKeydown: function (index) {\n                var self = this;\n                this.on(this.elements[index], \"keydown\", function (e) {\n                    var node, tag, key;\n\n                    if (e.which === Util.keyCode.TAB) {\n                        // Override tab only for pre nodes\n                        node = Selection.getSelectionStart(self.options.ownerDocument);\n                        tag = node && node.tagName.toLowerCase();\n\n                        if (tag === \"pre\") {\n                            e.preventDefault();\n                            self.options.ownerDocument.execCommand(\"insertHtml\", null, \"    \");\n                        }\n\n                        // Tab to indent list structures!\n                        if (tag === \"li\" || Util.isListItemChild(node)) {\n                            e.preventDefault();\n\n                            // If Shift is down, outdent, otherwise indent\n                            if (e.shiftKey) {\n                                self.options.ownerDocument.execCommand(\"outdent\", e);\n                            } else {\n                                self.options.ownerDocument.execCommand(\"indent\", e);\n                            }\n                        }\n                    } else if (e.which === Util.keyCode.BACKSPACE || e.which === Util.keyCode.DELETE || e.which === Util.keyCode.ENTER) {\n                        // Bind keys which can create or destroy a block element: backspace, delete, return\n                        self.onBlockModifier(e);\n                    } else if (e.ctrlKey || e.metaKey) {\n                        key = String.fromCharCode(e.which || e.keyCode).toLowerCase();\n                        self.commands.forEach(function (extension) {\n                            if (extension.options.key && extension.options.key === key) {\n                                extension.handleClick(e);\n                            }\n                        });\n                    }\n                });\n                return this;\n            },\n\n            onBlockModifier: function (e) {\n                var range,\n                    sel,\n                    p,\n                    node = Selection.getSelectionStart(this.options.ownerDocument),\n                    tagName = node.tagName.toLowerCase(),\n                    isEmpty = /^(\\s+|<br\\/?>)?$/i,\n                    isHeader = /h\\d/i;\n\n                if ((e.which === Util.keyCode.BACKSPACE || e.which === Util.keyCode.ENTER) && node.previousElementSibling\n                // in a header\n                 && isHeader.test(tagName)\n                // at the very end of the block\n                 && Selection.getCaretOffsets(node).left === 0) {\n                    if (e.which === Util.keyCode.BACKSPACE && isEmpty.test(node.previousElementSibling.innerHTML)) {\n                        // backspacing the begining of a header into an empty previous element will\n                        // change the tagName of the current node to prevent one\n                        // instead delete previous node and cancel the event.\n                        node.previousElementSibling.parentNode.removeChild(node.previousElementSibling);\n                        e.preventDefault();\n                    } else if (e.which === Util.keyCode.ENTER) {\n                        // hitting return in the begining of a header will create empty header elements before the current one\n                        // instead, make \"<p><br></p>\" element, which are what happens if you hit return in an empty paragraph\n                        p = this.options.ownerDocument.createElement(\"p\");\n                        p.innerHTML = \"<br>\";\n                        node.previousElementSibling.parentNode.insertBefore(p, node);\n                        e.preventDefault();\n                    }\n                } else if (e.which === Util.keyCode.DELETE && node.nextElementSibling && node.previousElementSibling\n                // not in a header\n                 && !isHeader.test(tagName)\n                // in an empty tag\n                 && isEmpty.test(node.innerHTML)\n                // when the next tag *is* a header\n                 && isHeader.test(node.nextElementSibling.tagName)) {\n                    // hitting delete in an empty element preceding a header, ex:\n                    //  <p>[CURSOR]</p><h1>Header</h1>\n                    // Will cause the h1 to become a paragraph.\n                    // Instead, delete the paragraph node and move the cursor to the begining of the h1\n\n                    // remove node and move cursor to start of header\n                    range = document.createRange();\n                    sel = window.getSelection();\n\n                    range.setStart(node.nextElementSibling, 0);\n                    range.collapse(true);\n\n                    sel.removeAllRanges();\n                    sel.addRange(range);\n\n                    node.previousElementSibling.parentNode.removeChild(node);\n\n                    e.preventDefault();\n                }\n            },\n\n            initToolbar: function () {\n                if (this.toolbar) {\n                    return this;\n                }\n                this.toolbar = this.createToolbar();\n                this.keepToolbarAlive = false;\n                this.toolbarActions = this.toolbar.querySelector(\".medium-editor-toolbar-actions\");\n                this.anchorPreview = this.createAnchorPreview();\n\n                return this;\n            },\n\n            createToolbar: function () {\n                var toolbar = this.options.ownerDocument.createElement(\"div\");\n                toolbar.id = \"medium-editor-toolbar-\" + this.id;\n                toolbar.className = \"medium-editor-toolbar\";\n\n                if (this.options.staticToolbar) {\n                    toolbar.className += \" static-toolbar\";\n                } else {\n                    toolbar.className += \" stalker-toolbar\";\n                }\n\n                toolbar.appendChild(this.toolbarButtons());\n\n                // Add any forms that extensions may have\n                this.commands.forEach(function (extension) {\n                    if (extension.hasForm) {\n                        toolbar.appendChild(extension.getForm());\n                    }\n                });\n\n                this.options.elementsContainer.appendChild(toolbar);\n                return toolbar;\n            },\n\n            //TODO: actionTemplate\n            toolbarButtons: function () {\n                var ul = this.options.ownerDocument.createElement(\"ul\"),\n                    li,\n                    btn;\n\n                ul.id = \"medium-editor-toolbar-actions\" + this.id;\n                ul.className = \"medium-editor-toolbar-actions clearfix\";\n\n                this.commands.forEach((function (extension) {\n                    if (typeof extension.getButton === \"function\") {\n                        btn = extension.getButton(this);\n                        li = this.options.ownerDocument.createElement(\"li\");\n                        if (Util.isElement(btn)) {\n                            li.appendChild(btn);\n                        } else {\n                            li.innerHTML = btn;\n                        }\n                        ul.appendChild(li);\n                    }\n                }).bind(this));\n\n                return ul;\n            },\n\n            bindSelect: function () {\n                var i,\n                    blurHelper = (function (event) {\n                    // Do not close the toolbar when bluring the editable area and clicking into the anchor form\n                    if (event && event.type && event.type.toLowerCase() === \"blur\" && event.relatedTarget && Util.isDescendant(this.toolbar, event.relatedTarget)) {\n                        return false;\n                    }\n                    this.checkSelection();\n                }).bind(this),\n                    timeoutHelper = (function () {\n                    setTimeout((function () {\n                        this.checkSelection();\n                    }).bind(this), 0);\n                }).bind(this);\n\n                this.on(this.options.ownerDocument.documentElement, \"mouseup\", this.checkSelection.bind(this));\n\n                for (i = 0; i < this.elements.length; i += 1) {\n                    this.on(this.elements[i], \"keyup\", this.checkSelection.bind(this));\n                    this.on(this.elements[i], \"blur\", blurHelper);\n                    this.on(this.elements[i], \"click\", timeoutHelper);\n                }\n\n                return this;\n            },\n\n            bindDragDrop: function () {\n                var self = this,\n                    i,\n                    className,\n                    onDrag,\n                    onDrop,\n                    element;\n\n                if (!self.options.imageDragging) {\n                    return this;\n                }\n\n                className = \"medium-editor-dragover\";\n\n                onDrag = function (e) {\n                    e.preventDefault();\n                    e.dataTransfer.dropEffect = \"copy\";\n\n                    if (e.type === \"dragover\") {\n                        this.classList.add(className);\n                    } else {\n                        this.classList.remove(className);\n                    }\n                };\n\n                onDrop = function (e) {\n                    var files;\n                    e.preventDefault();\n                    e.stopPropagation();\n                    files = Array.prototype.slice.call(e.dataTransfer.files, 0);\n                    files.some(function (file) {\n                        if (file.type.match(\"image\")) {\n                            var fileReader, id;\n                            fileReader = new FileReader();\n                            fileReader.readAsDataURL(file);\n\n                            id = \"medium-img-\" + +new Date();\n                            Util.insertHTMLCommand(self.options.ownerDocument, \"<img class=\\\"medium-image-loading\\\" id=\\\"\" + id + \"\\\" />\");\n\n                            fileReader.onload = function () {\n                                var img = document.getElementById(id);\n                                if (img) {\n                                    img.removeAttribute(\"id\");\n                                    img.removeAttribute(\"class\");\n                                    img.src = fileReader.result;\n                                }\n                            };\n                        }\n                    });\n                    this.classList.remove(className);\n                };\n\n                for (i = 0; i < this.elements.length; i += 1) {\n                    element = this.elements[i];\n\n\n                    this.on(element, \"dragover\", onDrag);\n                    this.on(element, \"dragleave\", onDrag);\n                    this.on(element, \"drop\", onDrop);\n                }\n                return this;\n            },\n\n            stopSelectionUpdates: function () {\n                this.preventSelectionUpdates = true;\n            },\n\n            startSelectionUpdates: function () {\n                this.preventSelectionUpdates = false;\n            },\n\n            checkSelection: function () {\n                var newSelection, selectionElement;\n\n                if (!this.preventSelectionUpdates && this.keepToolbarAlive !== true && !this.options.disableToolbar) {\n                    newSelection = this.options.contentWindow.getSelection();\n                    if (!this.options.updateOnEmptySelection && newSelection.toString().trim() === \"\" || this.options.allowMultiParagraphSelection === false && this.multipleBlockElementsSelected() || Selection.selectionInContentEditableFalse(this.options.contentWindow)) {\n                        if (!this.options.staticToolbar) {\n                            this.hideToolbarActions();\n                        } else {\n                            this.showAndUpdateToolbar();\n                        }\n                    } else {\n                        selectionElement = Selection.getSelectionElement(this.options.contentWindow);\n                        if (!selectionElement || selectionElement.getAttribute(\"data-disable-toolbar\")) {\n                            if (!this.options.staticToolbar) {\n                                this.hideToolbarActions();\n                            }\n                        } else {\n                            this.checkSelectionElement(newSelection, selectionElement);\n                        }\n                    }\n                }\n                return this;\n            },\n\n            // Checks for existance of multiple block elements in the current selection\n            multipleBlockElementsSelected: function () {\n                /*jslint regexp: true*/\n                var selectionHtml = Selection.getSelectionHtml.call(this).replace(/<[\\S]+><\\/[\\S]+>/gim, \"\"),\n                    hasMultiParagraphs = selectionHtml.match(/<(p|h[1-6]|blockquote)[^>]*>/g);\n                /*jslint regexp: false*/\n\n                return !!hasMultiParagraphs && hasMultiParagraphs.length > 1;\n            },\n\n            checkSelectionElement: function (newSelection, selectionElement) {\n                var i,\n                    adjacentNode,\n                    offset = 0,\n                    newRange;\n                this.selection = newSelection;\n                this.selectionRange = this.selection.getRangeAt(0);\n\n                /*\n                * In firefox, there are cases (ie doubleclick of a word) where the selectionRange start\n                * will be at the very end of an element.  In other browsers, the selectionRange start\n                * would instead be at the very beginning of an element that actually has content.\n                * example:\n                *   <span>foo</span><span>bar</span>\n                *\n                * If the text 'bar' is selected, most browsers will have the selectionRange start at the beginning\n                * of the 'bar' span.  However, there are cases where firefox will have the selectionRange start\n                * at the end of the 'foo' span.  The contenteditable behavior will be ok, but if there are any\n                * properties on the 'bar' span, they won't be reflected accurately in the toolbar\n                * (ie 'Bold' button wouldn't be active)\n                *\n                * So, for cases where the selectionRange start is at the end of an element/node, find the next\n                * adjacent text node that actually has content in it, and move the selectionRange start there.\n                */\n                if (this.options.standardizeSelectionStart && this.selectionRange.startContainer.nodeValue && this.selectionRange.startOffset === this.selectionRange.startContainer.nodeValue.length) {\n                    adjacentNode = Util.findAdjacentTextNodeWithContent(Selection.getSelectionElement(this.options.contentWindow), this.selectionRange.startContainer, this.options.ownerDocument);\n                    if (adjacentNode) {\n                        offset = 0;\n                        while (adjacentNode.nodeValue.substr(offset, 1).trim().length === 0) {\n                            offset = offset + 1;\n                        }\n                        newRange = this.options.ownerDocument.createRange();\n                        newRange.setStart(adjacentNode, offset);\n                        newRange.setEnd(this.selectionRange.endContainer, this.selectionRange.endOffset);\n                        this.selection.removeAllRanges();\n                        this.selection.addRange(newRange);\n                        this.selectionRange = newRange;\n                    }\n                }\n\n                for (i = 0; i < this.elements.length; i += 1) {\n                    if (this.elements[i] === selectionElement) {\n                        this.showAndUpdateToolbar();\n                        return;\n                    }\n                }\n\n                if (!this.options.staticToolbar) {\n                    this.hideToolbarActions();\n                }\n            },\n\n            showAndUpdateToolbar: function () {\n                this.setToolbarButtonStates().setToolbarPosition().showToolbarDefaultActions();\n            },\n\n            setToolbarPosition: function () {\n                // document.documentElement for IE 9\n                var scrollTop = this.options.ownerDocument.documentElement && this.options.ownerDocument.documentElement.scrollTop || this.options.ownerDocument.body.scrollTop,\n                    selection = this.options.contentWindow.getSelection(),\n                    windowWidth = this.options.contentWindow.innerWidth,\n                    container = Selection.getSelectionElement(this.options.contentWindow),\n                    buttonHeight = 50,\n                    toolbarWidth,\n                    toolbarHeight,\n                    halfOffsetWidth,\n                    defaultLeft,\n                    containerRect,\n                    containerTop,\n                    containerCenter,\n                    range,\n                    boundary,\n                    middleBoundary,\n                    targetLeft;\n\n                // If there isn't a valid selection, bail\n                if (!container || !this.options.contentWindow.getSelection().focusNode) {\n                    return this;\n                }\n\n                // If the container isn't part of this medium-editor instance, bail\n                if (this.elements.indexOf(container) === -1) {\n                    return this;\n                }\n\n                // Calculate container dimensions\n                containerRect = container.getBoundingClientRect();\n                containerTop = containerRect.top + scrollTop;\n                containerCenter = containerRect.left + containerRect.width / 2;\n\n                // position the toolbar at left 0, so we can get the real width of the toolbar\n                this.toolbar.style.left = \"0\";\n                toolbarWidth = this.toolbar.offsetWidth;\n                toolbarHeight = this.toolbar.offsetHeight;\n                halfOffsetWidth = toolbarWidth / 2;\n                defaultLeft = this.options.diffLeft - halfOffsetWidth;\n\n                if (this.options.staticToolbar) {\n                    this.showToolbar();\n\n                    if (this.options.stickyToolbar) {\n                        // If it's beyond the height of the editor, position it at the bottom of the editor\n                        if (scrollTop > containerTop + container.offsetHeight - toolbarHeight) {\n                            this.toolbar.style.top = containerTop + container.offsetHeight - toolbarHeight + \"px\";\n                            this.toolbar.classList.remove(\"sticky-toolbar\");\n\n                            // Stick the toolbar to the top of the window\n                        } else if (scrollTop > containerTop - toolbarHeight) {\n                            this.toolbar.classList.add(\"sticky-toolbar\");\n                            this.toolbar.style.top = \"0px\";\n\n                            // Normal static toolbar position\n                        } else {\n                            this.toolbar.classList.remove(\"sticky-toolbar\");\n                            this.toolbar.style.top = containerTop - toolbarHeight + \"px\";\n                        }\n                    } else {\n                        this.toolbar.style.top = containerTop - toolbarHeight + \"px\";\n                    }\n\n                    if (this.options.toolbarAlign === \"left\") {\n                        targetLeft = containerRect.left;\n                    } else if (this.options.toolbarAlign === \"center\") {\n                        targetLeft = containerCenter - halfOffsetWidth;\n                    } else if (this.options.toolbarAlign === \"right\") {\n                        targetLeft = containerRect.right - toolbarWidth;\n                    }\n\n                    if (targetLeft < 0) {\n                        targetLeft = 0;\n                    } else if (targetLeft + toolbarWidth > windowWidth) {\n                        targetLeft = windowWidth - toolbarWidth;\n                    }\n\n                    this.toolbar.style.left = targetLeft + \"px\";\n                } else if (!selection.isCollapsed) {\n                    this.showToolbar();\n\n                    range = selection.getRangeAt(0);\n                    boundary = range.getBoundingClientRect();\n                    middleBoundary = (boundary.left + boundary.right) / 2;\n\n                    if (boundary.top < buttonHeight) {\n                        this.toolbar.classList.add(\"medium-toolbar-arrow-over\");\n                        this.toolbar.classList.remove(\"medium-toolbar-arrow-under\");\n                        this.toolbar.style.top = buttonHeight + boundary.bottom - this.options.diffTop + this.options.contentWindow.pageYOffset - toolbarHeight + \"px\";\n                    } else {\n                        this.toolbar.classList.add(\"medium-toolbar-arrow-under\");\n                        this.toolbar.classList.remove(\"medium-toolbar-arrow-over\");\n                        this.toolbar.style.top = boundary.top + this.options.diffTop + this.options.contentWindow.pageYOffset - toolbarHeight + \"px\";\n                    }\n                    if (middleBoundary < halfOffsetWidth) {\n                        this.toolbar.style.left = defaultLeft + halfOffsetWidth + \"px\";\n                    } else if (windowWidth - middleBoundary < halfOffsetWidth) {\n                        this.toolbar.style.left = windowWidth + defaultLeft - halfOffsetWidth + \"px\";\n                    } else {\n                        this.toolbar.style.left = defaultLeft + middleBoundary + \"px\";\n                    }\n                }\n\n                this.hideAnchorPreview();\n\n                return this;\n            },\n\n            setToolbarButtonStates: function () {\n                this.commands.forEach((function (extension) {\n                    if (typeof extension.isActive === \"function\") {\n                        extension.setInactive();\n                    }\n                }).bind(this));\n                this.checkActiveButtons();\n                return this;\n            },\n\n            checkActiveButtons: function () {\n                var elements = Array.prototype.slice.call(this.elements),\n                    manualStateChecks = [],\n                    queryState = null,\n                    parentNode,\n                    checkExtension = function (extension) {\n                    if (typeof extension.checkState === \"function\") {\n                        extension.checkState(parentNode);\n                    } else if (typeof extension.isActive === \"function\" && typeof extension.isAlreadyApplied === \"function\") {\n                        if (!extension.isActive() && extension.isAlreadyApplied(parentNode)) {\n                            extension.setActive();\n                        }\n                    }\n                };\n\n                if (!this.selectionRange) {\n                    return;\n                }\n                parentNode = Selection.getSelectedParentElement(this.selectionRange);\n\n                // Loop through all commands\n                this.commands.forEach(function (command) {\n                    // For those commands where we can use document.queryCommandState(), do so\n                    if (typeof command.queryCommandState === \"function\") {\n                        queryState = command.queryCommandState();\n                        // If queryCommandState returns a valid value, we can trust the browser\n                        // and don't need to do our manual checks\n                        if (queryState !== null) {\n                            if (queryState) {\n                                command.setActive();\n                            }\n                            return;\n                        }\n                    }\n                    // We can't use queryCommandState for this command, so add to manualStateChecks\n                    manualStateChecks.push(command);\n                });\n\n                // Climb up the DOM and do manual checks for whether a certain command is currently enabled for this node\n                while (parentNode.tagName !== undefined && Util.parentElements.indexOf(parentNode.tagName.toLowerCase) === -1) {\n                    manualStateChecks.forEach(checkExtension.bind(this));\n\n                    // we can abort the search upwards if we leave the contentEditable element\n                    if (elements.indexOf(parentNode) !== -1) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                }\n            },\n\n            setFirstAndLastButtons: function () {\n                var buttons = this.toolbar.querySelectorAll(\"button\");\n                if (buttons.length > 0) {\n                    buttons[0].className += \" \" + this.options.firstButtonClass;\n                    buttons[buttons.length - 1].className += \" \" + this.options.lastButtonClass;\n                }\n                return this;\n            },\n\n            // Wrapper around document.queryCommandState for checking whether an action has already\n            // been applied to the current selection\n            queryCommandState: function (action) {\n                var fullAction = /^full-(.+)$/gi,\n                    match,\n                    queryState = null;\n\n                // Actions starting with 'full-' need to be modified since this is a medium-editor concept\n                match = fullAction.exec(action);\n                if (match) {\n                    action = match[1];\n                }\n\n                try {\n                    queryState = this.options.ownerDocument.queryCommandState(action);\n                } catch (exc) {\n                    queryState = null;\n                }\n\n                return queryState;\n            },\n\n            execAction: function (action, opts) {\n                /*jslint regexp: true*/\n                var fullAction = /^full-(.+)$/gi,\n                    match,\n                    result;\n                /*jslint regexp: false*/\n\n                // Actions starting with 'full-' should be applied to to the entire contents of the editable element\n                // (ie full-bold, full-append-pre, etc.)\n                match = fullAction.exec(action);\n                if (match) {\n                    // Store the current selection to be restored after applying the action\n                    this.saveSelection();\n                    // Select all of the contents before calling the action\n                    this.selectAllContents();\n                    result = this.execActionInternal(match[1], opts);\n                    // Restore the previous selection\n                    this.restoreSelection();\n                } else {\n                    result = this.execActionInternal(action, opts);\n                }\n\n                this.checkSelection();\n                return result;\n            },\n\n            execActionInternal: function (action, opts) {\n                /*jslint regexp: true*/\n                var appendAction = /^append-(.+)$/gi,\n                    match;\n                /*jslint regexp: false*/\n\n                // Actions starting with 'append-' should attempt to format a block of text ('formatBlock') using a specific\n                // type of block element (ie append-blockquote, append-h1, append-pre, etc.)\n                match = appendAction.exec(action);\n                if (match) {\n                    return this.execFormatBlock(match[1]);\n                }\n\n                if (action === \"createLink\") {\n                    return this.createLink(opts);\n                }\n\n                if (action === \"image\") {\n                    return this.options.ownerDocument.execCommand(\"insertImage\", false, this.options.contentWindow.getSelection());\n                }\n\n                return this.options.ownerDocument.execCommand(action, false, null);\n            },\n\n            // TODO: move these two methods to selection.js\n            // http://stackoverflow.com/questions/15867542/range-object-get-selection-parent-node-chrome-vs-firefox\n            rangeSelectsSingleNode: function (range) {\n                var startNode = range.startContainer;\n                return startNode === range.endContainer && startNode.hasChildNodes() && range.endOffset === range.startOffset + 1;\n            },\n\n            getSelectedParentElement: function () {\n                var selectedParentElement = null,\n                    range = this.selectionRange;\n                if (this.rangeSelectsSingleNode(range) && range.startContainer.childNodes[range.startOffset].nodeType !== 3) {\n                    selectedParentElement = range.startContainer.childNodes[range.startOffset];\n                } else if (range.startContainer.nodeType === 3) {\n                    selectedParentElement = range.startContainer.parentNode;\n                } else {\n                    selectedParentElement = range.startContainer;\n                }\n                return selectedParentElement;\n            },\n\n            execFormatBlock: function (el) {\n                var selectionData = Selection.getSelectionData(this.selection.anchorNode);\n                // FF handles blockquote differently on formatBlock\n                // allowing nesting, we need to use outdent\n                // https://developer.mozilla.org/en-US/docs/Rich-Text_Editing_in_Mozilla\n                if (el === \"blockquote\" && selectionData.el && selectionData.el.parentNode.tagName.toLowerCase() === \"blockquote\") {\n                    return this.options.ownerDocument.execCommand(\"outdent\", false, null);\n                }\n                if (selectionData.tagName === el) {\n                    el = \"p\";\n                }\n                // When IE we need to add <> to heading elements and\n                //  blockquote needs to be called as indent\n                // http://stackoverflow.com/questions/10741831/execcommand-formatblock-headings-in-ie\n                // http://stackoverflow.com/questions/1816223/rich-text-editor-with-blockquote-function/1821777#1821777\n                if (Util.isIE) {\n                    if (el === \"blockquote\") {\n                        return this.options.ownerDocument.execCommand(\"indent\", false, el);\n                    }\n                    el = \"<\" + el + \">\";\n                }\n                return this.options.ownerDocument.execCommand(\"formatBlock\", false, el);\n            },\n\n            isToolbarDefaultActionsShown: function () {\n                return !!this.toolbarActions && this.toolbarActions.style.display === \"block\";\n            },\n\n            hideToolbarDefaultActions: function () {\n                if (this.toolbarActions && this.isToolbarDefaultActionsShown()) {\n                    this.commands.forEach(function (extension) {\n                        if (extension.onHide && typeof extension.onHide === \"function\") {\n                            extension.onHide();\n                        }\n                    });\n                    this.toolbarActions.style.display = \"none\";\n                }\n            },\n\n            showToolbarDefaultActions: function () {\n                this.hideExtensionForms();\n\n                if (this.toolbarActions && !this.isToolbarDefaultActionsShown()) {\n                    this.toolbarActions.style.display = \"block\";\n                }\n\n                this.keepToolbarAlive = false;\n                // Using setTimeout + options.delay because:\n                // We will actually be displaying the toolbar, which should be controlled by options.delay\n                this.delay((function () {\n                    this.showToolbar();\n                }).bind(this));\n\n                return this;\n            },\n\n            hideExtensionForms: function () {\n                // Hide all extension forms\n                this.commands.forEach(function (extension) {\n                    if (extension.hasForm && extension.isDisplayed()) {\n                        extension.hideForm();\n                    }\n                });\n            },\n\n            isToolbarShown: function () {\n                return this.toolbar && this.toolbar.classList.contains(\"medium-editor-toolbar-active\");\n            },\n\n            showToolbar: function () {\n                if (this.toolbar && !this.isToolbarShown()) {\n                    this.toolbar.classList.add(\"medium-editor-toolbar-active\");\n                    if (typeof this.options.onShowToolbar === \"function\") {\n                        this.options.onShowToolbar();\n                    }\n                }\n            },\n\n            hideToolbar: function () {\n                if (this.isToolbarShown()) {\n                    this.toolbar.classList.remove(\"medium-editor-toolbar-active\");\n                    if (typeof this.options.onHideToolbar === \"function\") {\n                        this.options.onHideToolbar();\n                    }\n                }\n            },\n\n            hideToolbarActions: function () {\n                this.commands.forEach(function (extension) {\n                    if (extension.onHide && typeof extension.onHide === \"function\") {\n                        extension.onHide();\n                    }\n                });\n                this.keepToolbarAlive = false;\n                this.hideToolbar();\n            },\n\n            selectAllContents: function () {\n                var range = this.options.ownerDocument.createRange(),\n                    sel = this.options.contentWindow.getSelection(),\n                    currNode = Selection.getSelectionElement(this.options.contentWindow);\n\n                if (currNode) {\n                    // Move to the lowest descendant node that still selects all of the contents\n                    while (currNode.children.length === 1) {\n                        currNode = currNode.children[0];\n                    }\n\n                    range.selectNodeContents(currNode);\n                    sel.removeAllRanges();\n                    sel.addRange(range);\n                }\n            },\n\n            // http://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n            // Tim Down\n            // TODO: move to selection.js and clean up old methods there\n            saveSelection: function () {\n                this.selectionState = null;\n\n                var selection = this.options.contentWindow.getSelection(),\n                    range,\n                    preSelectionRange,\n                    start,\n                    editableElementIndex = -1;\n\n                if (selection.rangeCount > 0) {\n                    range = selection.getRangeAt(0);\n                    preSelectionRange = range.cloneRange();\n\n                    // Find element current selection is inside\n                    this.elements.forEach(function (el, index) {\n                        if (el === range.startContainer || Util.isDescendant(el, range.startContainer)) {\n                            editableElementIndex = index;\n                            return false;\n                        }\n                    });\n\n                    if (editableElementIndex > -1) {\n                        preSelectionRange.selectNodeContents(this.elements[editableElementIndex]);\n                        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n                        start = preSelectionRange.toString().length;\n\n                        this.selectionState = {\n                            start: start,\n                            end: start + range.toString().length,\n                            editableElementIndex: editableElementIndex\n                        };\n                    }\n                }\n            },\n\n            // http://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n            // Tim Down\n            // TODO: move to selection.js and clean up old methods there\n            restoreSelection: function () {\n                if (!this.selectionState) {\n                    return;\n                }\n\n                var editableElement = this.elements[this.selectionState.editableElementIndex],\n                    charIndex = 0,\n                    range = this.options.ownerDocument.createRange(),\n                    nodeStack = [editableElement],\n                    node,\n                    foundStart = false,\n                    stop = false,\n                    i,\n                    sel,\n                    nextCharIndex;\n\n                range.setStart(editableElement, 0);\n                range.collapse(true);\n\n                node = nodeStack.pop();\n                while (!stop && node) {\n                    if (node.nodeType === 3) {\n                        nextCharIndex = charIndex + node.length;\n                        if (!foundStart && this.selectionState.start >= charIndex && this.selectionState.start <= nextCharIndex) {\n                            range.setStart(node, this.selectionState.start - charIndex);\n                            foundStart = true;\n                        }\n                        if (foundStart && this.selectionState.end >= charIndex && this.selectionState.end <= nextCharIndex) {\n                            range.setEnd(node, this.selectionState.end - charIndex);\n                            stop = true;\n                        }\n                        charIndex = nextCharIndex;\n                    } else {\n                        i = node.childNodes.length - 1;\n                        while (i >= 0) {\n                            nodeStack.push(node.childNodes[i]);\n                            i -= 1;\n                        }\n                    }\n                    if (!stop) {\n                        node = nodeStack.pop();\n                    }\n                }\n\n                sel = this.options.contentWindow.getSelection();\n                sel.removeAllRanges();\n                sel.addRange(range);\n            },\n\n            hideAnchorPreview: function () {\n                this.anchorPreview.classList.remove(\"medium-editor-anchor-preview-active\");\n            },\n\n            // TODO: break method\n            showAnchorPreview: function (anchorEl) {\n                if (this.anchorPreview.classList.contains(\"medium-editor-anchor-preview-active\") || anchorEl.getAttribute(\"data-disable-preview\")) {\n                    return true;\n                }\n\n                var self = this,\n                    buttonHeight = 40,\n                    boundary = anchorEl.getBoundingClientRect(),\n                    middleBoundary = (boundary.left + boundary.right) / 2,\n                    halfOffsetWidth,\n                    defaultLeft;\n\n                self.anchorPreview.querySelector(\"i\").textContent = anchorEl.attributes.href.value;\n                halfOffsetWidth = self.anchorPreview.offsetWidth / 2;\n                defaultLeft = self.options.diffLeft - halfOffsetWidth;\n\n                self.observeAnchorPreview(anchorEl);\n\n                self.anchorPreview.classList.add(\"medium-toolbar-arrow-over\");\n                self.anchorPreview.classList.remove(\"medium-toolbar-arrow-under\");\n                self.anchorPreview.style.top = Math.round(buttonHeight + boundary.bottom - self.options.diffTop + this.options.contentWindow.pageYOffset - self.anchorPreview.offsetHeight) + \"px\";\n                if (middleBoundary < halfOffsetWidth) {\n                    self.anchorPreview.style.left = defaultLeft + halfOffsetWidth + \"px\";\n                } else if (this.options.contentWindow.innerWidth - middleBoundary < halfOffsetWidth) {\n                    self.anchorPreview.style.left = this.options.contentWindow.innerWidth + defaultLeft - halfOffsetWidth + \"px\";\n                } else {\n                    self.anchorPreview.style.left = defaultLeft + middleBoundary + \"px\";\n                }\n\n                if (this.anchorPreview && !this.anchorPreview.classList.contains(\"medium-editor-anchor-preview-active\")) {\n                    this.anchorPreview.classList.add(\"medium-editor-anchor-preview-active\");\n                }\n\n                return this;\n            },\n\n            // TODO: break method\n            observeAnchorPreview: function (anchorEl) {\n                var self = this,\n                    lastOver = new Date().getTime(),\n                    over = true,\n                    stamp = function () {\n                    lastOver = new Date().getTime();\n                    over = true;\n                },\n                    unstamp = function (e) {\n                    if (!e.relatedTarget || !/anchor-preview/.test(e.relatedTarget.className)) {\n                        over = false;\n                    }\n                },\n                    interval_timer = setInterval(function () {\n                    if (over) {\n                        return true;\n                    }\n                    var durr = new Date().getTime() - lastOver;\n                    if (durr > self.options.anchorPreviewHideDelay) {\n                        // hide the preview 1/2 second after mouse leaves the link\n                        self.hideAnchorPreview();\n\n                        // cleanup\n                        clearInterval(interval_timer);\n                        self.off(self.anchorPreview, \"mouseover\", stamp);\n                        self.off(self.anchorPreview, \"mouseout\", unstamp);\n                        self.off(anchorEl, \"mouseover\", stamp);\n                        self.off(anchorEl, \"mouseout\", unstamp);\n                    }\n                }, 200);\n\n                this.on(self.anchorPreview, \"mouseover\", stamp);\n                this.on(self.anchorPreview, \"mouseout\", unstamp);\n                this.on(anchorEl, \"mouseover\", stamp);\n                this.on(anchorEl, \"mouseout\", unstamp);\n            },\n\n            createAnchorPreview: function () {\n                var self = this,\n                    anchorPreview = this.options.ownerDocument.createElement(\"div\");\n\n                anchorPreview.id = \"medium-editor-anchor-preview-\" + this.id;\n                anchorPreview.className = \"medium-editor-anchor-preview\";\n                anchorPreview.innerHTML = this.anchorPreviewTemplate();\n                this.options.elementsContainer.appendChild(anchorPreview);\n\n                this.on(anchorPreview, \"click\", function () {\n                    self.anchorPreviewClickHandler();\n                });\n\n                return anchorPreview;\n            },\n\n            anchorPreviewTemplate: function () {\n                return \"<div class=\\\"medium-editor-toolbar-anchor-preview\\\" id=\\\"medium-editor-toolbar-anchor-preview\\\">\" + \"    <i class=\\\"medium-editor-toolbar-anchor-preview-inner\\\"></i>\" + \"</div>\";\n            },\n\n            anchorPreviewClickHandler: function (event) {\n                var range,\n                    sel,\n                    anchorExtension = this.getExtensionByName(\"anchor\");\n\n                if (anchorExtension && this.activeAnchor) {\n                    range = this.options.ownerDocument.createRange();\n                    range.selectNodeContents(this.activeAnchor);\n\n                    sel = this.options.contentWindow.getSelection();\n                    sel.removeAllRanges();\n                    sel.addRange(range);\n                    // Using setTimeout + options.delay because:\n                    // We may actually be displaying the anchor form, which should be controlled by options.delay\n                    this.delay((function () {\n                        if (this.activeAnchor) {\n                            anchorExtension.showForm(this.activeAnchor.attributes.href.value);\n                        }\n                        this.keepToolbarAlive = false;\n                    }).bind(this));\n                }\n\n                this.hideAnchorPreview();\n            },\n\n            editorAnchorObserver: function (e) {\n                var self = this,\n                    overAnchor = true,\n                    leaveAnchor = function () {\n                    // mark the anchor as no longer hovered, and stop listening\n                    overAnchor = false;\n                    self.off(self.activeAnchor, \"mouseout\", leaveAnchor);\n                };\n\n                if (e.target && e.target.tagName.toLowerCase() === \"a\") {\n                    // Detect empty href attributes\n                    // The browser will make href=\"\" or href=\"#top\"\n                    // into absolute urls when accessed as e.targed.href, so check the html\n                    if (!/href=[\"']\\S+[\"']/.test(e.target.outerHTML) || /href=[\"']#\\S+[\"']/.test(e.target.outerHTML)) {\n                        return true;\n                    }\n\n                    // only show when hovering on anchors\n                    if (this.isToolbarShown()) {\n                        // only show when toolbar is not present\n                        return true;\n                    }\n                    this.activeAnchor = e.target;\n                    this.on(this.activeAnchor, \"mouseout\", leaveAnchor);\n                    // Using setTimeout + options.delay because:\n                    // - We're going to show the anchor preview according to the configured delay\n                    //   if the mouse has not left the anchor tag in that time\n                    this.delay(function () {\n                        if (overAnchor) {\n                            self.showAnchorPreview(e.target);\n                        }\n                    });\n                }\n            },\n\n            bindAnchorPreview: function (index) {\n                var i,\n                    self = this;\n                this.editorAnchorObserverWrapper = function (e) {\n                    self.editorAnchorObserver(e);\n                };\n                for (i = 0; i < this.elements.length; i += 1) {\n                    this.on(this.elements[i], \"mouseover\", this.editorAnchorObserverWrapper);\n                }\n                return this;\n            },\n\n            createLink: function (opts) {\n                var customEvent, i;\n\n                if (opts.url && opts.url.trim().length > 0) {\n                    this.options.ownerDocument.execCommand(\"createLink\", false, opts.url);\n\n                    if (this.options.targetBlank || opts.target === \"_blank\") {\n                        Util.setTargetBlank(Selection.getSelectionStart(this.options.ownerDocument));\n                    }\n\n                    if (opts.buttonClass) {\n                        this.setButtonClass(opts.buttonClass);\n                    }\n                }\n\n                if (this.options.targetBlank || opts.target === \"_blank\" || opts.buttonClass) {\n                    customEvent = this.options.ownerDocument.createEvent(\"HTMLEvents\");\n                    customEvent.initEvent(\"input\", true, true, this.options.contentWindow);\n                    for (i = 0; i < this.elements.length; i += 1) {\n                        this.elements[i].dispatchEvent(customEvent);\n                    }\n                }\n            },\n\n            setButtonClass: function (buttonClass) {\n                var el = Selection.getSelectionStart(this.options.ownerDocument),\n                    classes = buttonClass.split(\" \"),\n                    i,\n                    j;\n                if (el.tagName.toLowerCase() === \"a\") {\n                    for (j = 0; j < classes.length; j += 1) {\n                        el.classList.add(classes[j]);\n                    }\n                } else {\n                    el = el.getElementsByTagName(\"a\");\n                    for (i = 0; i < el.length; i += 1) {\n                        for (j = 0; j < classes.length; j += 1) {\n                            el[i].classList.add(classes[j]);\n                        }\n                    }\n                }\n            },\n\n            positionToolbarIfShown: function () {\n                if (this.isToolbarShown()) {\n                    this.setToolbarPosition();\n                }\n            },\n\n            bindWindowActions: function () {\n                var self = this;\n\n                // Add a scroll event for sticky toolbar\n                if (this.options.staticToolbar && this.options.stickyToolbar) {\n                    // On scroll, re-position the toolbar\n                    this.on(this.options.contentWindow, \"scroll\", function () {\n                        self.positionToolbarIfShown();\n                    }, true);\n                }\n\n                this.on(this.options.contentWindow, \"resize\", function () {\n                    self.handleResize();\n                });\n\n                this.bindBlur();\n\n                return this;\n            },\n\n            activate: function () {\n                if (this.isActive) {\n                    return;\n                }\n\n                this.setup();\n            },\n\n            // TODO: break method\n            deactivate: function () {\n                var i;\n                if (!this.isActive) {\n                    return;\n                }\n                this.isActive = false;\n\n                if (this.toolbar !== undefined) {\n                    this.options.elementsContainer.removeChild(this.anchorPreview);\n                    this.options.elementsContainer.removeChild(this.toolbar);\n                    delete this.toolbar;\n                    delete this.anchorPreview;\n                }\n\n                for (i = 0; i < this.elements.length; i += 1) {\n                    this.elements[i].removeAttribute(\"contentEditable\");\n                    this.elements[i].removeAttribute(\"data-medium-element\");\n                }\n\n                this.commands.forEach((function (extension) {\n                    if (typeof extension.deactivate === \"function\") {\n                        extension.deactivate();\n                    }\n                }).bind(this));\n\n                this.removeAllEvents();\n            },\n\n            bindPaste: function () {\n                var i,\n                    self = this;\n                this.pasteWrapper = function (e) {\n                    pasteHandler.handlePaste(this, e, self.options);\n                };\n                for (i = 0; i < this.elements.length; i += 1) {\n                    this.on(this.elements[i], \"paste\", this.pasteWrapper);\n                }\n                return this;\n            },\n\n            setPlaceholders: function () {\n                if (!this.options.disablePlaceholders && this.elements && this.elements.length) {\n                    this.elements.forEach((function (el) {\n                        this.activatePlaceholder(el);\n                        this.on(el, \"blur\", this.placeholderWrapper.bind(this));\n                        this.on(el, \"keypress\", this.placeholderWrapper.bind(this));\n                    }).bind(this));\n                }\n\n                return this;\n            },\n\n            cleanPaste: function (text) {\n                pasteHandler.cleanPaste(text, this.options);\n            },\n\n            pasteHTML: function (html) {\n                pasteHandler.pasteHTML(html, this.options.ownerDocument);\n            }\n        };\n    })();\n\n    return MediumEditor;\n})());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/vendor/medium-editor.js\n ** module id = 36\n ** module chunks = 0\n **/","\"use strict\";\n\nvar Field = require(\"../common/field\");\nvar Player = require(\"./player\");\nvar React = require(\"react\");\nvar Types = React.PropTypes;\n\nvar Editor = React.createClass({\n  displayName: \"Editor\",\n\n\n  propTypes: {\n    src: Types.string,\n    onChange: Types.func.isRequired\n  },\n\n  render: function render() {\n    var video_id = this.props.video_id;\n\n\n    return React.createElement(\n      \"div\",\n      { className: \"col-youtube\" },\n      React.createElement(Player, { video_id: video_id }),\n      React.createElement(\n        \"fieldset\",\n        { className: \"col-youtube-fieldset\" },\n        React.createElement(Field, { label: \"YouTube Video ID\", value: video_id, name: \"youtube_video_id\", onChange: this._onChange })\n      )\n    );\n  },\n\n  _onChange: function _onChange(e) {\n    this.props.onChange({ video_id: e.currentTarget.value });\n  }\n\n});\n\nmodule.exports = Editor;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/editor.js\n ** module id = 37\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * Image Colonel Kurtz Addon\n * This component adds a basic image block type, including a\n * src, caption, and credit\n */\n\nvar Editor = require(\"./editor\");\nvar Previewer = require(\"./previewer\");\nvar React = require(\"react\");\n\nrequire(\"./style\");\n\nvar YouTube = {\n\n  defaultContent: function defaultContent() {\n    return { video_id: \"\" };\n  },\n\n  renderEditor: function renderEditor() {\n    return React.createElement(Editor, _extends({ onChange: this.setContent }, this.state.content));\n  },\n\n  renderPreviewer: function renderPreviewer() {\n    return React.createElement(Previewer, this.state.content);\n  }\n\n};\n\nmodule.exports = YouTube;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/index.js\n ** module id = 38\n ** module chunks = 0\n **/","\"use strict\";\n\nvar React = require(\"react\");\nvar Player = require(\"./player\");\n\nvar Previewer = React.createClass({\n  displayName: \"Previewer\",\n\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"col-youtube\" },\n      React.createElement(Player, { src: this.props.src })\n    );\n  }\n\n});\n\nmodule.exports = Previewer;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/previewer.js\n ** module id = 39\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = {\n    Medium: require(\"../addons/medium\"),\n    Image: require(\"../addons/image\"),\n    YouTube: require(\"../addons/youtube\")\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/addons.js\n ** module id = 40\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar BlockType = require(\"../stores/block_type_store\");\nvar Button = require(\"./ui/button\");\nvar CreateBlock = require(\"../actions/block/create\");\nvar React = require(\"react\");\n\nvar AddBlock = React.createClass({\n  displayName: \"AddBlock\",\n\n\n  getInitialState: function getInitialState() {\n    return BlockType.find(this.props.type);\n  },\n\n  render: function render() {\n    var _state = this.state;\n    var icon = _state.icon;\n    var id = _state.id;\n    var label = _state.label;\n\n\n    return React.createElement(\n      Button,\n      { \"aria-label\": label, className: \"col-btn-icon\", onClick: this._onClick },\n      React.createElement(\"img\", { src: icon, alt: id, \"aria-hidden\": \"true\" })\n    );\n  },\n\n  _onClick: function _onClick(e) {\n    var _props = this.props;\n    var block = _props.block;\n    var position = _props.position;\n    var type = _props.type;\n\n\n    CreateBlock({\n      content: null,\n      parent: block,\n      type: type\n    }, position);\n\n    e.preventDefault();\n  }\n\n});\n\nmodule.exports = AddBlock;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/add_block.js\n ** module id = 41\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * This is the root component that contains sections for\n * toggling between viewing modes and viewing managed content\n *\n * @flow\n */\n\nvar ContentSection = require(\"./content_section\");\nvar EditorStore = require(\"stores/editor_store\");\nvar Modes = require(\"constants/mode_constants\");\nvar ModeSelection = require(\"./mode_selection\");\nvar React = require(\"react\");\nvar Stateful = require(\"diode/stateful\");\nvar Strings = require(\"constants/strings\");\nvar fullscreen = require(\"utils/fullscreen\");\n\nvar App = React.createClass({\n  displayName: \"App\",\n\n\n  mixins: [Stateful],\n\n  getState: function getState() {\n    return {\n      editor: EditorStore.find(this.props.editorId)\n    };\n  },\n\n  fullscreen: (function (_fullscreen) {\n    var _fullscreenWrapper = function fullscreen() {\n      return _fullscreen.apply(this, arguments);\n    };\n\n    _fullscreenWrapper.toString = function () {\n      return _fullscreen.toString();\n    };\n\n    return _fullscreenWrapper;\n  })(function () {\n    fullscreen(this.getDOMNode());\n  }),\n\n  render: function render() {\n    var editor = this.state.editor;\n\n\n    return React.createElement(\n      \"div\",\n      { className: \"colonel\" },\n      React.createElement(ModeSelection, { editor: editor }),\n      React.createElement(ContentSection, { editor: editor }),\n      React.createElement(\n        \"button\",\n        { type: \"button\", \"aria-label\": Strings.fullscreen, className: \"col-fullscreen\", onClick: this._onFullscreenClick },\n        \"Fullscreen\"\n      )\n    );\n  },\n\n  _onFullscreenClick: function _onFullscreenClick(e) {\n    e.preventDefault();\n    this.fullscreen();\n  }\n\n});\n\nmodule.exports = App;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/app.js\n ** module id = 42\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _defineProperty = function (obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); };\n\n/* @flow */\n\nvar React = require(\"react\");\nvar Modes = require(\"../constants/mode_constants\");\n\nvar _types = (function () {\n  var _types2 = {};\n\n  _defineProperty(_types2, Modes.EDIT_MODE, require(\"../components/editor\"));\n\n  _defineProperty(_types2, Modes.PREVIEW_MODE, require(\"../components/previewer\"));\n\n  return _types2;\n})();\n\nvar ContentSection = React.createClass({\n  displayName: \"ContentSection\",\n\n\n  render: function render() {\n    var editor = this.props.editor;\n    var block = editor.block;\n\n    return React.createElement(_types[editor.mode], { block: block, editor: editor });\n  }\n\n});\n\nmodule.exports = ContentSection;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/content_section.js\n ** module id = 43\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow weak */\nvar Animation = require(\"react/lib/ReactCSSTransitionGroup\");\nvar BlockMenu = require(\"components/block_menu\");\nvar EditorBlock = require(\"components/editor_block\");\nvar HasBlocks = require(\"mixins/hasBlocks\");\nvar React = require(\"react\");\n\nvar Editor = React.createClass({\n  displayName: \"Editor\",\n\n\n  mixins: [HasBlocks],\n\n  getBlock: function getBlock(block) {\n    return React.createElement(EditorBlock, { key: block.id, block: block, editor: this.props.editor });\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var block = _props.block;\n    var editor = _props.editor;\n\n\n    return React.createElement(\n      Animation,\n      { component: \"div\", className: \"col-content\", transitionName: \"col-block\" },\n      React.createElement(BlockMenu, { key: \"block_menu\", block: block, editor: editor }),\n      this.state.blocks.map(this.getBlock)\n    );\n  }\n\n});\n\nmodule.exports = Editor;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/editor.js\n ** module id = 44\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\nvar Animation = require(\"react/lib/ReactCSSTransitionGroup\");\nvar Block = require(\"components/block\");\nvar BlockMenu = require(\"components/block_menu\");\nvar HasBlocks = require(\"mixins/hasBlocks\");\nvar Orderable = require(\"components/orderable\");\nvar React = require(\"react\");\nvar Toolbar = require(\"components/toolbar\");\n\nvar EditorBlock = React.createClass({\n  displayName: \"EditorBlock\",\n  mixins: [HasBlocks],\n\n  getBlock: function getBlock(block) {\n    return React.createElement(EditorBlock, { key: block.id, block: block, editor: this.props.editor });\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var block = _props.block;\n    var editor = _props.editor;\n\n\n    return React.createElement(\n      \"div\",\n      null,\n      React.createElement(\n        Orderable,\n        { block: block },\n        React.createElement(BlockMenu, { ref: \"prepend\", block: block, editor: editor, position: block.parent }),\n        React.createElement(Block, { block: block, mode: editor.mode }),\n        React.createElement(\n          Animation,\n          { component: \"div\", className: \"col-blocks\", transitionName: \"col-block\" },\n          this.state.blocks.map(this.getBlock)\n        ),\n        React.createElement(Toolbar, { block: block })\n      ),\n      React.createElement(BlockMenu, { ref: \"append\", block: block.parent, editor: editor, position: block })\n    );\n  }\n});\n\nmodule.exports = EditorBlock;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/editor_block.js\n ** module id = 45\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar Button = require(\"components/ui/button\");\nvar React = require(\"react\");\nvar Types = React.PropTypes;\nvar UpdateEditor = require(\"actions/editor/update\");\nvar modes = require(\"constants/mode_constants\");\nvar Pure = require(\"../mixins/pure\");\n\nvar ModeSelection = React.createClass({\n  displayName: \"ModeSelection\",\n  mixins: [Pure],\n\n  propType: {\n    editor: Types.object.isRequired,\n    modes: Types.object\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return { modes: modes };\n  },\n\n  getTab: function getTab(key) {\n    var _this = this;\n    var _props = this.props;\n    var editor = _props.editor;\n    var modes = _props.modes;\n\n\n    var props = {\n      className: \"col-tabs-btn\",\n      disabled: editor.mode === modes[key],\n      onClick: function (e) {\n        return _this._onModeClick(e, modes[key]);\n      }\n    };\n\n    return React.createElement(\n      \"li\",\n      { key: key, className: \"col-tabs-list-item\", role: \"tab\" },\n      React.createElement(\n        Button,\n        props,\n        key.replace(\"_\", \" \")\n      )\n    );\n  },\n\n  getTabs: function getTabs() {\n    return Object.keys(this.props.modes).map(this.getTab);\n  },\n\n  render: function render() {\n    return this.props.editor.preview ? React.createElement(\n      \"nav\",\n      { role: \"navigation\", className: \"col-tabs\" },\n      React.createElement(\n        \"ul\",\n        { className: \"col-tabs-list\", role: \"tablist\" },\n        this.getTabs()\n      )\n    ) : null;\n  },\n\n  _onModeClick: function _onModeClick(e, mode) {\n    e.preventDefault();\n    UpdateEditor(this.props.editor.id, { mode: mode });\n  }\n\n});\n\nmodule.exports = ModeSelection;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/mode_selection.js\n ** module id = 46\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\nvar Dragon = require(\"react-dragon\");\nvar MoveBlock = require(\"actions/block/move\");\nvar React = require(\"react\");\n\nvar Orderable = React.createClass({\n  displayName: \"Orderable\",\n\n\n  render: function render() {\n    var _props = this.props;\n    var block = _props.block;\n    var children = _props.children;\n\n\n    return React.createElement(\n      Dragon,\n      { className: \"col-block\", message: block.id, onDrop: this._onDrop },\n      children\n    );\n  },\n\n  _onDrop: function _onDrop(fromId) {\n    MoveBlock(fromId, this.props.block.id);\n  }\n\n});\n\nmodule.exports = Orderable;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/orderable.js\n ** module id = 47\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar BlockStore = require(\"stores/block_store\");\nvar HasBlocks = require(\"mixins/hasBlocks\");\nvar PreviewerBlock = require(\"./previewer_block\");\nvar React = require(\"react\");\n\nvar Previewer = React.createClass({\n  displayName: \"Previewer\",\n\n\n  mixins: [HasBlocks],\n\n  getBlock: function getBlock(block) {\n    return React.createElement(PreviewerBlock, { key: block.id, block: block, editor: this.props.editor });\n  },\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"col-blocks\" },\n      this.state.blocks.map(this.getBlock)\n    );\n  }\n\n});\n\nmodule.exports = Previewer;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/previewer.js\n ** module id = 48\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar Block = require(\"./block\");\nvar HasBlocks = require(\"mixins/hasBlocks\");\nvar React = require(\"react\");\n\nvar PreviewerBlock = React.createClass({\n  displayName: \"PreviewerBlock\",\n\n\n  mixins: [HasBlocks],\n\n  getBlock: function getBlock(block) {\n    return React.createElement(PreviewerBlock, { key: block.id, block: block, editor: this.props.editor });\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var block = _props.block;\n    var editor = _props.editor;\n\n\n    return React.createElement(\n      \"div\",\n      null,\n      React.createElement(Block, { block: block, mode: editor.mode }),\n      this.state.blocks.map(this.getBlock)\n    );\n  }\n\n});\n\nmodule.exports = PreviewerBlock;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/previewer_block.js\n ** module id = 49\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar Button = require(\"./ui/button\");\nvar DestroyBlock = require(\"../actions/block/destroy\");\nvar Strings = require(\"constants/strings\");\nvar React = require(\"react\");\n\nvar RemoveBlock = React.createClass({\n  displayName: \"RemoveBlock\",\n\n\n  render: function render() {\n    return React.createElement(\n      Button,\n      { \"aria-label\": Strings.remove, className: \"col-btn-remove\", onClick: this._onClick },\n      \"×\"\n    );\n  },\n\n  _onClick: function _onClick(e) {\n    e.preventDefault();\n    DestroyBlock(this.props.block.id);\n  }\n\n});\n\nmodule.exports = RemoveBlock;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/remove_block.js\n ** module id = 50\n ** module chunks = 0\n **/","\"use strict\";\n\n/* @flow */\n\nvar React = require(\"react\");\nvar RemoveBlock = require(\"components/remove_block\");\n\nvar Toolbar = React.createClass({\n  displayName: \"Toolbar\",\n\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"col-toolbar\" },\n      React.createElement(RemoveBlock, { block: this.props.block })\n    );\n  }\n\n});\n\nmodule.exports = Toolbar;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/toolbar.js\n ** module id = 51\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/* Begin: Common Block Type Interface\n *\n * Each block type component must include the BlockType mixin and implement:\n * - defaultContent()\n * - renderEditor()\n * - renderPreviewer()\n *\n * Calls to setContent() update both this component's state as well as\n * the block instance's content.\n *\n * @flow\n */\n\nvar React = require(\"react\");\nvar Modes = require(\"../constants/mode_constants\");\nvar invariant = require(\"react/lib/invariant\");\n\nvar BlockType = {\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      mode: Modes.EDIT_MODE\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    invariant(this.defaultContent, \"BlockType mixin requires `defaultContent` implementation.\");\n\n    return {\n      content: this.props.initialContent || this.defaultContent()\n    };\n  },\n\n  setContent: function setContent(params) {\n    var content = _extends({}, this.state.content, params);\n\n    this.setState({ content: content }, function () {\n      this.props.updateContent(this.state.content);\n    });\n  },\n\n  editMode: function editMode() {\n    return this.props.mode === Modes.EDIT_MODE;\n  },\n\n  render: function render() {\n    invariant(this.renderEditor, \"BlockType mixin requires `renderEditor` implementation.\");\n    invariant(this.renderPreviewer, \"BlockType mixin requires `renderPreviewer` implementation.\");\n\n    return this.editMode() ? this.renderEditor() : this.renderPreviewer();\n  }\n\n};\n\nmodule.exports = BlockType;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/mixins/block_type.js\n ** module id = 52\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _prototypeProperties = function (child, staticProps, instanceProps) { if (staticProps) Object.defineProperties(child, staticProps); if (instanceProps) Object.defineProperties(child.prototype, instanceProps); };\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n/* @flow */\nvar uid = require(\"../utils/uid\");\n\nvar Block = (function () {\n  function Block(params) {\n    _classCallCheck(this, Block);\n\n    this.id = uid();\n    this.content = params.content || null;\n    this.parent = params.parent;\n    this.type = params.type;\n  }\n\n  _prototypeProperties(Block, null, {\n    toJSON: {\n      value: function toJSON() {\n        var BlockStore = require(\"stores/block_store\");\n\n        return {\n          blocks: BlockStore.childrenFor(this).map(function (i) {\n            return i.toJSON();\n          }),\n          content: this.content,\n          type: this.type\n        };\n      },\n      writable: true,\n      configurable: true\n    }\n  });\n\n  return Block;\n})();\n\nmodule.exports = Block;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/block.js\n ** module id = 53\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * This utility adds a new block type to ColonelKurtz. If not given a\n * valid React element, it produces one using ./createBlock\n *\n * @flow\n */\n\nvar CreateBlockType = require(\"../actions/block_type/create\");\nvar React = require(\"react\");\nvar createBlock = require(\"./createBlock\");\n\nmodule.exports = function (options) {\n  var component = options.component;\n\n  if (React.isValidElement(component) === false) {\n    component = createBlock(component);\n  }\n\n  CreateBlockType(_extends({}, options, { component: component }));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/addBlockType.js\n ** module id = 54\n ** module chunks = 0\n **/","\"use strict\";\n\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode\n\nmodule.exports = function (el) {\n  if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {\n    if (el.requestFullscreen) {\n      el.requestFullscreen();\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen();\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen();\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n    }\n  } else {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    }\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/fullscreen.js\n ** module id = 55\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * Given a root block list, this function will populate\n * an editor with content\n */\n\nvar BlockStore = require(\"stores/block_store\");\n\nmodule.exports = function seed(parent, blocks) {\n  return BlockStore._seed(parent, blocks);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/seed.js\n ** module id = 56\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher')\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/index.js\n ** module id = 57\n ** module chunks = 0\n **/","/*\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * @typechecks\n */\n\n\"use strict\";\n\nvar invariant = require('./invariant');\n\nvar _lastID = 1;\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *    CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *\n *         case 'city-update':\n *           FlightPriceStore.price =\n *             FlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\n  function Dispatcher() {\n    this.$Dispatcher_callbacks = {};\n    this.$Dispatcher_isPending = {};\n    this.$Dispatcher_isHandled = {};\n    this.$Dispatcher_isDispatching = false;\n    this.$Dispatcher_pendingPayload = null;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   *\n   * @param {function} callback\n   * @return {string}\n   */\n  Dispatcher.prototype.register=function(callback) {\n    var id = _prefix + _lastID++;\n    this.$Dispatcher_callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   *\n   * @param {string} id\n   */\n  Dispatcher.prototype.unregister=function(id) {\n    invariant(\n      this.$Dispatcher_callbacks[id],\n      'Dispatcher.unregister(...): `%s` does not map to a registered callback.',\n      id\n    );\n    delete this.$Dispatcher_callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   *\n   * @param {array<string>} ids\n   */\n  Dispatcher.prototype.waitFor=function(ids) {\n    invariant(\n      this.$Dispatcher_isDispatching,\n      'Dispatcher.waitFor(...): Must be invoked while dispatching.'\n    );\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this.$Dispatcher_isPending[id]) {\n        invariant(\n          this.$Dispatcher_isHandled[id],\n          'Dispatcher.waitFor(...): Circular dependency detected while ' +\n          'waiting for `%s`.',\n          id\n        );\n        continue;\n      }\n      invariant(\n        this.$Dispatcher_callbacks[id],\n        'Dispatcher.waitFor(...): `%s` does not map to a registered callback.',\n        id\n      );\n      this.$Dispatcher_invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   *\n   * @param {object} payload\n   */\n  Dispatcher.prototype.dispatch=function(payload) {\n    invariant(\n      !this.$Dispatcher_isDispatching,\n      'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.'\n    );\n    this.$Dispatcher_startDispatching(payload);\n    try {\n      for (var id in this.$Dispatcher_callbacks) {\n        if (this.$Dispatcher_isPending[id]) {\n          continue;\n        }\n        this.$Dispatcher_invokeCallback(id);\n      }\n    } finally {\n      this.$Dispatcher_stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   *\n   * @return {boolean}\n   */\n  Dispatcher.prototype.isDispatching=function() {\n    return this.$Dispatcher_isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @param {string} id\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_invokeCallback=function(id) {\n    this.$Dispatcher_isPending[id] = true;\n    this.$Dispatcher_callbacks[id](this.$Dispatcher_pendingPayload);\n    this.$Dispatcher_isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @param {object} payload\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_startDispatching=function(payload) {\n    for (var id in this.$Dispatcher_callbacks) {\n      this.$Dispatcher_isPending[id] = false;\n      this.$Dispatcher_isHandled[id] = false;\n    }\n    this.$Dispatcher_pendingPayload = payload;\n    this.$Dispatcher_isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_stopDispatching=function() {\n    this.$Dispatcher_pendingPayload = null;\n    this.$Dispatcher_isDispatching = false;\n  };\n\n\nmodule.exports = Dispatcher;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/lib/Dispatcher.js\n ** module id = 58\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (false) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/lib/invariant.js\n ** module id = 59\n ** module chunks = 0\n **/","/**\n * Copyright 2013 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction cx(classNames) {\n  var names = '';\n\n  if (typeof classNames == 'object') {\n    for (var name in classNames) {\n      if (!classNames.hasOwnProperty(name) || !classNames[name]) {\n        continue;\n      }\n      names += name + ' ';\n    }\n  } else {\n    for (var i = 0; i < arguments.length; i++) {\n      // We should technically exclude 0 too, but for the sake of backward\n      // compat we'll keep it (for now)\n      if (arguments[i] == null) {\n        continue;\n      }\n      names += arguments[i] + ' ';\n    }\n  }\n\n  return names.trim();\n}\n\nmodule.exports = cx;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-classset/classSet.js\n ** module id = 60\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\nvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = _interopRequire(require(\"react\"));\n\nvar cx = _interopRequire(require(\"react-classset\"));\n\nvar Dragon = React.createClass({\n  displayName: \"Dragon\",\n\n\n  propTypes: {\n    onDrop: React.PropTypes.func.isRequired\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      allow: \"all\",\n      className: \"\",\n      effect: \"copy\",\n      element: \"div\",\n      message: {}\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      draggable: true,\n      dragging: false,\n      droppable: false\n    };\n  },\n\n  render: function render() {\n    var dragging = this.state.dragging;\n    var draggable = this.state.draggable;\n    var droppable = this.state.droppable;\n    var className = this.props.className;\n    var children = this.props.children;\n    var element = this.props.element;\n    var onDrop = this.props.onDrop;\n    var message = this.props.message;\n    var allow = this.props.allow;\n    var effect = this.props.effect;\n    var safe = _objectWithoutProperties(this.props, [\"className\", \"children\", \"element\", \"onDrop\", \"message\", \"allow\", \"effect\"]);\n\n    var modifiers = cx({\n      \"dragon-dragging\": dragging,\n      \"dragon-droppable\": droppable\n    });\n\n    return React.createElement(element, _extends({\n      className: cx(\"dragon\", cx(className), modifiers),\n      draggable: draggable,\n      onBlur: this._handle({ draggable: true }),\n      onFocus: this._handle({ draggable: false }),\n      onDragEnd: this._handle({ droppable: false, dragging: false }, true),\n      onDragLeave: this._handle({ droppable: false }, true),\n      onDragOver: this._handle({ droppable: true }, true),\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop }, safe), children);\n  },\n\n  _handle: function _handle(state, prevent) {\n    var _this = this;\n    return function (event) {\n      if (prevent) event.preventDefault();\n      _this.setState(state);\n    };\n  },\n\n  _onDragStart: function _onDragStart(e) {\n    var effect = this.props.effect;\n    var allow = this.props.allow;\n    var message = this.props.message;\n\n\n    e.dataTransfer.setData(\"text/plain\", JSON.stringify(message));\n    e.dataTransfer.dropEffect = effect;\n    e.dataTransfer.effectAllowed = allow;\n\n    this.setState({ dragging: true });\n  },\n\n  _onDrop: function _onDrop(e) {\n    e.preventDefault();\n\n    var message = JSON.parse(e.dataTransfer.getData(\"text/plain\"));\n    var receiver = this.props.message;\n\n    this.props.onDrop(message, receiver);\n\n    this.setState({ droppable: false, dragging: false });\n  }\n\n});\n\nmodule.exports = Dragon;\n\n//# sourceMappingURL=dragon.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-dragon/dist/dragon.js\n ** module id = 61\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyMirror\n * @typechecks static-only\n */\n\n\"use strict\";\n\nvar invariant = require(\"./invariant\");\n\n/**\n * Constructs an enumeration with keys equal to their value.\n *\n * For example:\n *\n *   var COLORS = keyMirror({blue: null, red: null});\n *   var myColor = COLORS.blue;\n *   var isColorValid = !!COLORS[myColor];\n *\n * The last line could not be performed if the values of the generated enum were\n * not equal to their keys.\n *\n *   Input:  {key1: val1, key2: val2}\n *   Output: {key1: key1, key2: key2}\n *\n * @param {object} obj\n * @return {object}\n */\nvar keyMirror = function(obj) {\n  var ret = {};\n  var key;\n  (\"production\" !== process.env.NODE_ENV ? invariant(\n    obj instanceof Object && !Array.isArray(obj),\n    'keyMirror(...): Argument must be an object.'\n  ) : invariant(obj instanceof Object && !Array.isArray(obj)));\n  for (key in obj) {\n    if (!obj.hasOwnProperty(key)) {\n      continue;\n    }\n    ret[key] = key;\n  }\n  return ret;\n};\n\nmodule.exports = keyMirror;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/lib/keyMirror.js\n ** module id = 62\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule shallowEqual\n */\n\n\"use strict\";\n\n/**\n * Performs equality by iterating through keys on an object and returning\n * false when any key has values which are not strictly equal between\n * objA and objB. Returns true when the values of all keys are strictly equal.\n *\n * @return {boolean}\n */\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n  var key;\n  // Test for A's keys different from B.\n  for (key in objA) {\n    if (objA.hasOwnProperty(key) &&\n        (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {\n      return false;\n    }\n  }\n  // Test for B's keys missing from A.\n  for (key in objB) {\n    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = shallowEqual;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/lib/shallowEqual.js\n ** module id = 63\n ** module chunks = 0\n **/"],"sourceRoot":""}