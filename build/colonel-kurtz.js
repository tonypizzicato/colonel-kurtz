module.exports=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=n(42),a=n(10),c=n(19),l=n(25),u=n(1),h=n(56),d=n(27);n(67);var p=function(){function t(e){var n=this;r(this,t),this.id=d(),this.el=e.el,this._callbacks=[],c(i({id:this.id,block:h(void 0,e.seed||[])},e)),a.subscribe(function(){return n.simulateChange()}),setTimeout(this.simulateChange.bind(this),10)}return o(t,null,{render:{value:function(){return u.render(this._rootComponent(),this._getDomElement()),this},writable:!0,configurable:!0},simulateChange:{value:function(){this._runCallbacks()},writable:!0,configurable:!0},addCallback:{value:function(t){this._callbacks=this._callbacks.concat(t)},writable:!0,configurable:!0},removeCallback:{value:function(t){this._callbacks=this._callbacks.filter(function(e){return e!==t})},writable:!0,configurable:!0},toJSON:{value:function(){return l.find(this.id).block.toJSON().blocks},writable:!0,configurable:!0},toHtml:{value:function(){var t=this.toJSON(),e="";return t.forEach(function(t){e+=t.content.html}),e},writable:!0,configurable:!0},_rootComponent:{value:function(){return u.createElement(s,{editorId:this.id})},writable:!0,configurable:!0},_getDomElement:{value:function(){return this.el},writable:!0,configurable:!0},_runCallbacks:{value:function(){var t=this.toJSON();this._callbacks.forEach(function(e){e(t)})},writable:!0,configurable:!0}}),t}();p.addons=n(40),p.createBlock=n(26),p.addBlockType=n(54),t.exports=p},function(t){t.exports=require("react")},function(t,e,n){"use strict";var i=n(57).Dispatcher;t.exports=new i},function(t,e,n){"use strict";var i=n(62);t.exports=i({EDIT_MODE:null,PREVIEW_MODE:null})},function(t,e,n){(function(e){"use strict";var n=function(t,n,i,o,r,s,a,c){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,o,r,s,a,c],h=0;l=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return u[h++]}))}throw l.framesToPop=1,l}};t.exports=n}).call(e,n(28))},function(t,e,n){"use strict";var i=n(6),o=n(1),r=n(8);t.exports={mixins:[r],propTypes:{block:o.PropTypes.any.isRequired},getState:function(){return{blocks:i.childrenFor(this.props.block)}}}},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(10),r=n(53),s=n(2),a=n(4),c=[],l={childrenFor:function(t){return c.filter(function(e){return e.parent===t})},all:function(){return c},last:function(){return c[c.length-1]},find:function(t){var e=c.filter(function(e){return e.id===t})[0];return a(e,"Unable to find block with id of %s",t),e},_create:function(t,e){var n=t.content,i=t.type,s=t.parent,a=new r({content:n,type:i,parent:s});return e instanceof r?e=l._indexOf(e.id)+1:void 0==e&&(e=c.length),c.splice(e,0,a),o.publish(),a},_destroy:function(t){c=c.filter(function(e){for(var n=e;n;n=n.parent)if(n.id==t)return!1;return!0}),o.publish()},_update:function(t,e){var n=l.find(t);n.content=i({},n.content,e),o.publish()},_indexOf:function(t){return c.indexOf(l.find(t))},_move:function(t,e){var n=l._indexOf(t),i=l._indexOf(e);c.splice(i,0,c.splice(n,1)[0]),o.publish()},_seed:function(){for(var t,e=void 0===arguments[0]?l._create({}):arguments[0],n=void 0===arguments[1]?[]:arguments[1],i=n[Symbol.iterator]();!(t=i.next()).done;){var o=t.value,r=o.blocks,s=o.content,a=o.type;l._seed(l._create({content:s,parent:e,type:a}),r)}return e},dispatchToken:s.register(function(t){switch(t.type){case n(14):l._create(t.params,t.position);break;case n(15):l._destroy(t.id);break;case n(17):l._update(t.id,t.content);break;case n(16):l._move(t.fromId,t.toId)}})};t.exports=l},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(2),r=(n(1),n(4)),s=[],a={icon:null,types:null},c={keys:function(){return s.map(function(t){return t.id})},find:function(t){var e=s.filter(function(e){return e.id===t})[0];return r(e,"Unable to find block type with an id of %s"),e},_create:function(t){var e=i({},a,t);r(e.id,"BlockType must have an identifier"),s=s.concat(e)},_remove:function(t){s=s.filter(function(e){return e.id!==t})},dispatchToken:o.register(function(t){switch(t.type){case n(18):c._create(t.params)}})};t.exports=c},function(t){t.exports=require("diode/stateful")},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},r=i(n(1)),s=r.createClass({displayName:"Button",getDefaultProps:function(){return{tagName:"button",type:"button"}},render:function(){var t=this.props,e=t.children,n=t.tagName,i=o(t,["children","tagName"]);return r.createElement(n,i,[e])}});t.exports=s},function(t){t.exports=require("diode")},function(t,e,n){"use strict";var i=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(1),s=r.createClass({displayName:"Field",getDefaultProps:function(){return{type:"text"}},render:function(){var t=this.props,e=t.label,n=t.name,s=t.type,a=i(t,["label","name","type"]);return r.createElement("div",{className:"col-img-field"},r.createElement("label",{className:"col-img-label",htmlFor:n||this.props.id},e),r.createElement("input",o({className:"col-img-input",type:s},a,{name:n||this.props.id})))}});t.exports=s},function(t,e,n){"use strict";var i=n(1),o=i.createClass({displayName:"Graphic",getCaption:function(){var t=this.props.caption;return t?i.createElement("figcaption",{className:"col-img-caption"},t):null},render:function(){var t=this.props.src;return t?i.createElement("figure",{className:"col-img-figure"},i.createElement("img",{className:"col-img-graphic",src:t,alt:""}),this.getCaption()):null}});t.exports=o},function(t,e,n){"use strict";var i=n(1),o="https://www.youtube.com/embed/",r=i.createClass({displayName:"Player",render:function(){var t=this.props.video_id;return t?i.createElement("div",{className:"col-youtube-player"},i.createElement("iframe",{className:"col-youtube-frame",src:o+t,frameBorder:"0",allowFullScreen:!0})):null}});t.exports=r},function(t,e,n){"use strict";var i=n(2);t.exports=function o(t,e){i.dispatch({type:o,params:t,position:e})}},function(t,e,n){"use strict";var i=n(2);t.exports=function o(t){i.dispatch({type:o,id:t})}},function(t,e,n){"use strict";var i=n(2);t.exports=function o(t,e){i.dispatch({type:o,fromId:t,toId:e})}},function(t,e,n){"use strict";var i=n(2);t.exports=function o(t,e){i.dispatch({type:o,id:t,content:e})}},function(t,e,n){"use strict";var i=n(2);t.exports=function o(t){i.dispatch({type:o,params:t})}},function(t,e,n){"use strict";var i=n(2);t.exports=function o(t){i.dispatch({type:o,params:t})}},function(t,e,n){"use strict";var i=n(2);t.exports=function o(t,e){i.dispatch({type:o,id:t,params:e})}},function(t,e,n){"use strict";var i=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(7),s=n(24),a=n(8),c=n(1),l=n(17),u=c.createClass({displayName:"Block",mixins:[a,s],propTypes:{block:c.PropTypes.any.isRequired},getState:function(){return r.find(this.props.block.type)},render:function(){var t=this.props,e=t.block,n=i(t,["block"]),r=this.state.component;return c.createElement(r,o({initialContent:e.content,updateContent:this._onUpdateContent},n))},_onUpdateContent:function(t){l(this.props.block.id,t)}});t.exports=u},function(t,e,n){"use strict";var i=n(41),o=n(7),r=n(1),s=n(8),a=r.createClass({displayName:"BlockMenu",mixins:[s],propTypes:{editor:r.PropTypes.any.isRequired},getDefaultProps:function(){return{position:0}},getState:function(){var t=this.props,e=t.editor,n=t.block;return{types:n.type?o.find(n.type).types:e.types}},getButton:function(t){var e=this.props,n=e.block,o=e.position;return r.createElement(i,{key:t,type:t,block:n,position:o})},getNavigation:function(){return r.createElement("nav",{className:"col-menu",role:"navigation"},this.state.types.map(this.getButton))},render:function(){return this.state.types?this.getNavigation():null}});t.exports=a},function(t){"use strict";t.exports={remove:"Remove this block",fullscreen:"Toggle fullscreen mode"}},function(t,e,n){"use strict";var i=n(63),o={shouldComponentUpdate:function(t,e){return!i(this.props,t)||!i(this.state,e)}};t.exports=o},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(7),r=n(10),s=n(2),a=n(3),c=n(4),l=[],u=function(){return{mode:a.EDIT_MODE,types:o.keys(),preview:!0}},h={find:function(t,e){var n=l.filter(function(e){return e.id===t})[0];return e||c(n,"Unable to find editor with an id of %s",t),n},_create:function(t){var e=i({},u(),t);c(a[e.mode],"Unacceptable mode for editor: "+e.mode),c(!h.find(e.id,!0),"Editors must have a unique identifier"),l=l.concat(e),r.publish()},_update:function(t,e){var n=h.find(t),o=l.indexOf(n);l=l.concat(),l[o]=i({},u(),n,e),r.publish()},dispatchToken:s.register(function(t){switch(t.type){case n(19):h._create(t.params);break;case n(20):h._update(t.id,t.params)}})};t.exports=h},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(1),r=n(52);t.exports=function(t){var e=t.mixins||[];return e.indexOf(r)<0&&(e=e.concat(r)),o.createClass(i({},t,{React:o,mixins:e}))}},function(t){"use strict";var e=0,n=function(){return e+=1};t.exports=n},function(t){function e(){}var n=t.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var i=[];if(e){var o=document.createElement("div"),r=new MutationObserver(function(){var t=i.slice();i.length=0,t.forEach(function(t){t()})});return r.observe(o,{attributes:!0}),function(t){i.length||o.setAttribute("yes","no"),i.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),i.length>0)){var n=i.shift();n()}},!0),function(t){i.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=e,n.addListener=e,n.once=e,n.off=e,n.removeListener=e,n.removeAllListeners=e,n.emit=e,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},function(t){t.exports=require("react/lib/ReactCSSTransitionGroup")},function(t,e,n){"use strict";var i=n(11),o=n(12),r=n(1),s=r.PropTypes,a=r.createClass({displayName:"Editor",propTypes:{src:s.string,caption:s.string,attribution:s.string,onChange:s.func.isRequired},render:function(){var t=this.props,e=t.src,n=t.caption,s=t.attribution;return r.createElement("div",{className:"col-img"},r.createElement(o,this.props),r.createElement("fieldset",{className:"col-img-fieldset"},r.createElement(i,{label:"Image Source",type:"url",value:e,name:"image_src",onChange:this._onSrcChange}),r.createElement(i,{label:"Caption",type:"text",value:n,name:"image_caption",onChange:this._onCaptionChange}),r.createElement(i,{label:"Attribution",type:"text",value:s,name:"image_attribution",onChange:this._onAttributionChange})))},_onSrcChange:function(t){this.props.onChange({src:t.currentTarget.value})},_onCaptionChange:function(t){this.props.onChange({caption:t.currentTarget.value})},_onAttributionChange:function(t){this.props.onChange({attribution:t.currentTarget.value})}});t.exports=a},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(30),r=n(32),s=n(1);n(64);var a={defaultContent:function(){return{src:"",caption:"",attribution:""}},renderEditor:function(){return s.createElement(o,i({onChange:this.setContent},this.state.content))},renderPreviewer:function(){return s.createElement(r,this.state.content)}};t.exports=a},function(t,e,n){"use strict";var i=n(1),o=n(12),r=i.createClass({displayName:"Previewer",render:function(){return i.createElement(o,this.props)}});t.exports=r},function(t,e,n){"use strict";var i=n(36),o=n(1),r=o.PropTypes,s=o.createClass({displayName:"Editor",propTypes:{html:r.string.isRequired,onBlur:r.func.isRequired},getDefaultProps:function(){return{options:{buttons:["header1","header2","bold","italic","underline","anchor","quote","unorderedlist","orderedlist"],firstHeader:"h1",secondHeader:"h2",diffLeft:0,diffTop:-10,disableDoubleReturn:!0}}},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.setState({editor:new i(this.refs.editor.getDOMNode(),this.props.options)})},componentWillUnmount:function(){this.state.editor.deactivate()},render:function(){return o.createElement("div",{className:"col-block-medium"},o.createElement("div",{className:"col-medium",onBlur:this._onBlur,role:"textarea","aria-multiline":"true",ref:"editor",dangerouslySetInnerHTML:{__html:this.props.html}}))},_onBlur:function(){var t=this.refs.editor.getDOMNode();this.props.onBlur({text:t.textContent,html:t.innerHTML})}});t.exports=s},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(33),r=n(35),s=n(1);n(65);var a={defaultContent:function(){return{html:"",text:""}},renderEditor:function(){return s.createElement(o,i({onBlur:this.setContent},this.state.content))},renderPreviewer:function(){return s.createElement(r,this.state.content)}};t.exports=a},function(t,e,n){"use strict";var i=n(1),o=i.createClass({displayName:"Previewer",render:function(){return i.createElement("div",{className:"col-block-content"},i.createElement("div",{className:"col-medium-preview",dangerouslySetInnerHTML:{__html:this.props.html}}))}});t.exports=o},function(t){"use strict";/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"classList"in document.createElement("_")||!function(t){if("Element"in t){var e="classList",n="prototype",i=t.Element[n],o=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,o=n.length;o>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==c(this,t)},u.add=function(){var t,e=arguments,n=0,i=e.length,o=!1;do t=e[n]+"",-1===c(this,t)&&(this.push(t),o=!0);while(++n<i);o&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,o=n.length,r=!1;do for(t=n[i]+"",e=c(this,t);-1!==e;)this.splice(e,1),r=!0,e=c(this,t);while(++i<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.toString=function(){return this.join(" ")},o.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{o.defineProperty(i,e,d)}catch(p){-2146823252===p.number&&(d.enumerable=!1,o.defineProperty(i,e,d))}}else o[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(e,n){t.exports=n}(void 0,function(){function t(t,e){return this.init(t,e)}var e;!function(t){function n(t,e,n){var i;t=t||{};for(i in e)e.hasOwnProperty(i)&&(n||t.hasOwnProperty(i)===!1)&&(t[i]=e[i]);return t}e={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46},parentElements:["p","h1","h2","h3","h4","h5","h6","blockquote","pre"],defaults:function(t,e){return n(t,e)},extend:function(t,e){return n(t,e,!0)},derives:function(t,e){function i(){}var o=e.prototype;return i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=t,e.prototype=n(e.prototype,o),e},findAdjacentTextNodeWithContent:function(t,e,n){var i,o=!1,r=n.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);for(i=r.nextNode();i;){if(i===e)o=!0;else if(o&&3===i.nodeType&&i.nodeValue&&i.nodeValue.trim().length>0)break;i=r.nextNode()}return i},isDescendant:function(t,e){if(!t||!e)return!1;for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},isElement:function(t){return!(!t||1!==t.nodeType)},now:function(){return Date.now||(new Date).getTime()},throttle:function(t,n){var i,o,r,s,a=50,c=null,l=0;return n||0===n||(n=a),s=function(){l=e.now(),c=null,r=t.apply(i,o),c||(i=o=null)},function(){var a=e.now(),u=n-(a-l);return i=this,o=arguments,0>=u||u>n?(clearTimeout(c),c=null,l=a,r=t.apply(i,o),c||(i=o=null)):c||(c=setTimeout(s,u)),r}},traverseUp:function(t,e){do{if(1===t.nodeType){if(e(t))return t;if(t.getAttribute("data-medium-element"))return!1}t=t.parentNode}while(t);return!1},htmlEntities:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(e,n){var i,o,r,s,a,c;if(e.queryCommandSupported("insertHTML"))try{return e.execCommand("insertHTML",!1,n)}catch(l){}if(i=t.getSelection(),i.getRangeAt&&i.rangeCount){for(o=i.getRangeAt(0),o.deleteContents(),r=e.createElement("div"),r.innerHTML=n,s=e.createDocumentFragment();r.firstChild;)a=r.firstChild,c=s.appendChild(a);o.insertNode(s),c&&(o=o.cloneRange(),o.setStartAfter(c),o.collapse(!0),i.removeAllRanges(),i.addRange(o))}},setTargetBlank:function(t){var e;if("a"===t.tagName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),e=0;e<t.length;e+=1)t[e].target="_blank"},isListItemChild:function(t){for(var e=t.parentNode,n=e.tagName.toLowerCase();-1===this.parentElements.indexOf(n)&&"div"!==n;){if("li"===n)return!0;if(e=e.parentNode,!e||!e.tagName)return!1;n=e.tagName.toLowerCase()}return!1}}}(window,document);var n;!function(t){n={getSelectionStart:function(t){var e=t.getSelection().anchorNode,n=e&&3===e.nodeType?e.parentNode:e;return n},findMatchingSelectionParent:function(t,n){var i,o,r=n.getSelection();return 0===r.rangeCount?!1:(i=r.getRangeAt(0),o=i.commonAncestorContainer,e.traverseUp(o,t))},getSelectionElement:function(t){return this.findMatchingSelectionParent(function(t){return t.getAttribute("data-medium-element")},t)},selectionInContentEditableFalse:function(t){return this.findMatchingSelectionParent(function(t){return t&&"#text"!==t.nodeName&&"false"===t.getAttribute("contenteditable")},t)},getSelectionHtml:function(){var t,e,n,i,o="";if(void 0!==this.options.contentWindow.getSelection){if(e=this.options.contentWindow.getSelection(),e.rangeCount){for(i=this.options.ownerDocument.createElement("div"),t=0,n=e.rangeCount;n>t;t+=1)i.appendChild(e.getRangeAt(t).cloneContents());o=i.innerHTML}}else void 0!==this.options.ownerDocument.selection&&"Text"===this.options.ownerDocument.selection.type&&(o=this.options.ownerDocument.selection.createRange().htmlText);return o},getCaretOffsets:function(e,n){var i,o;return n||(n=t.getSelection().getRangeAt(0)),i=n.cloneRange(),o=n.cloneRange(),i.selectNodeContents(e),i.setEnd(n.endContainer,n.endOffset),o.selectNodeContents(e),o.setStart(n.endContainer,n.endOffset),{left:i.toString().length,right:o.toString().length}},rangeSelectsSingleNode:function(t){var e=t.startContainer;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===t.startOffset+1},getSelectedParentElement:function(t){var e=null;return e=this.rangeSelectsSingleNode(t)&&3!==t.startContainer.childNodes[t.startOffset].nodeType?t.startContainer.childNodes[t.startOffset]:3===t.startContainer.nodeType?t.startContainer.parentNode:t.startContainer},getSelectionData:function(t){var n;for(t&&t.tagName&&(n=t.tagName.toLowerCase());t&&-1===e.parentElements.indexOf(n);)t=t.parentNode,t&&t.tagName&&(n=t.tagName.toLowerCase());return{el:t,tagName:n}}}}(document,window);var i,o;!function(){o={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>',key:"b"},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>',key:"i"},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>',key:"u"},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},useQueryState:!0,contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},useQueryState:!0,contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},useQueryState:!0,contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},useQueryState:!0,contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},header1:{name:"header1",action:function(t){return"append-"+t.firstHeader},aria:function(t){return t.firstHeader},tagNames:function(t){return[t.firstHeader]},contentDefault:"<b>H1</b>"},header2:{name:"header2",action:function(t){return"append-"+t.secondHeader},aria:function(t){return t.secondHeader},tagNames:function(t){return[t.secondHeader]},contentDefault:"<b>H2</b>"}},i=function(t,e){this.options=t,this.name=t.name,this.init(e)},i.prototype={init:function(t){this.base=t,this.button=this.createButton(),this.base.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.options.action?this.options.action(this.base.options):this.options.action},getAria:function(){return"function"==typeof this.options.aria?this.options.aria(this.base.options):this.options.aria},getTagNames:function(){return"function"==typeof this.options.tagNames?this.options.tagNames(this.base.options):this.options.tagNames},createButton:function(){var t=this.base.options.ownerDocument.createElement("button"),e=this.options.contentDefault;return t.classList.add("medium-editor-action"),t.classList.add("medium-editor-action-"+this.name),t.setAttribute("data-action",this.getAction()),t.setAttribute("aria-label",this.getAria()),this.base.options.buttonLabels&&("fontawesome"===this.base.options.buttonLabels&&this.options.contentFA?e=this.options.contentFA:"object"==typeof this.base.options.buttonLabels&&this.base.options.buttonLabels[this.name]&&(e=this.base.options.buttonLabels[this.options.name])),t.innerHTML=e,t},handleClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.getAction();e&&this.base.execAction(e)},isActive:function(){return this.button.classList.contains(this.base.options.activeButtonClass)},setInactive:function(){this.button.classList.remove(this.base.options.activeButtonClass),delete this.knownState},setActive:function(){this.button.classList.add(this.base.options.activeButtonClass),delete this.knownState},queryCommandState:function(){var t=null;return this.options.useQueryState&&(t=this.base.queryCommandState(this.getAction())),t},isAlreadyApplied:function(t){var e,n,i=!1,o=this.getTagNames();return this.knownState===!1||this.knownState===!0?this.knownState:(o&&o.length>0&&t.tagName&&(i=-1!==o.indexOf(t.tagName.toLowerCase())),!i&&this.options.style&&(e=this.options.style.value.split("|"),n=this.base.options.contentWindow.getComputedStyle(t,null).getPropertyValue(this.options.style.prop),e.forEach(function(t){this.knownState||(this.knownState=i=-1!==n.indexOf(t))}.bind(this))),i)}}}(window,document);var r;!function(){function t(){return[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a\s+href=(&quot;|&rdquo;|&ldquo;|“|”)([^&]+)(&quot;|&rdquo;|&ldquo;|“|”)&gt;/gi),'<a href="$2">']]}r={handlePaste:function(t,n,i){var o,r,s="",a="text/html",c="text/plain";if(t.classList.remove("medium-editor-placeholder"),!i.forcePlainText&&!i.cleanPastedHTML)return t;if(i.contentWindow.clipboardData&&void 0===n.clipboardData&&(n.clipboardData=i.contentWindow.clipboardData,a="Text",c="Text"),n.clipboardData&&n.clipboardData.getData&&!n.defaultPrevented){if(n.preventDefault(),i.cleanPastedHTML&&n.clipboardData.getData(a))return this.cleanPaste(n.clipboardData.getData(a),i);if(i.disableReturn||t.getAttribute("data-disable-return"))s=e.htmlEntities(n.clipboardData.getData(c)),e.insertHTMLCommand(i.ownerDocument,s);else{for(o=n.clipboardData.getData(c).split(/[\r\n]/g),r=0;r<o.length;r+=1)""!==o[r]&&(s+="<p>"+e.htmlEntities(o[r])+"</p>");e.insertHTMLCommand(i.ownerDocument,s)}}},cleanPaste:function(i,o){var r,s,a,c=n.getSelectionElement(o.contentWindow),l=/<p|<br|<div/.test(i),u=t();for(r=0;r<u.length;r+=1)i=i.replace(u[r][0],u[r][1]);if(l){s=i.split("<br><br>"),this.pasteHTML("<p>"+s.join("</p><p>")+"</p>",o.ownerDocument);try{o.ownerDocument.execCommand("insertText",!1,"\n")}catch(h){}for(s=c.querySelectorAll("a,p,div,br"),r=0;r<s.length;r+=1)switch(a=s[r],a.tagName.toLowerCase()){case"a":o.targetBlank&&e.setTargetBlank(a);break;case"p":case"div":this.filterCommonBlocks(a);break;case"br":this.filterLineBreak(a)}}else this.pasteHTML(i,o.ownerDocument)},pasteHTML:function(t,n){var i,o,r,s,a=n.createDocumentFragment();for(a.appendChild(n.createElement("body")),s=a.querySelector("body"),s.innerHTML=t,this.cleanupSpans(s,n),i=s.querySelectorAll("*"),r=0;r<i.length;r+=1)o=i[r],o.removeAttribute("class"),o.removeAttribute("style"),o.removeAttribute("dir"),"meta"===o.tagName.toLowerCase()&&o.parentNode.removeChild(o);e.insertHTMLCommand(n,s.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(t){return t&&("p"===t.tagName.toLowerCase()||"div"===t.tagName.toLowerCase())},filterCommonBlocks:function(t){/^\s*$/.test(t.textContent)&&t.parentNode.removeChild(t)},filterLineBreak:function(t){this.isCommonBlock(t.previousElementSibling)?t.parentNode.removeChild(t):!this.isCommonBlock(t.parentNode)||t.parentNode.firstChild!==t&&t.parentNode.lastChild!==t?1===t.parentNode.childElementCount&&""===t.parentNode.textContent&&this.removeWithParent(t):t.parentNode.removeChild(t)},removeWithParent:function(t){t&&t.parentNode&&(t.parentNode.parentNode&&1===t.parentNode.childElementCount?t.parentNode.parentNode.removeChild(t.parentNode):t.parentNode.removeChild(t.parentNode))},cleanupSpans:function(t,n){var i,o,r,s=t.querySelectorAll(".replace-with"),a=function(t){return t&&"#text"!==t.nodeName&&"false"===t.getAttribute("contenteditable")};for(i=0;i<s.length;i+=1)o=s[i],r=n.createElement(o.classList.contains("bold")?"b":"i"),r.innerHTML=o.classList.contains("bold")&&o.classList.contains("italic")?"<i>"+o.innerHTML+"</i>":o.innerHTML,o.parentNode.replaceChild(r,o);for(s=t.querySelectorAll("span"),i=0;i<s.length;i+=1){if(o=s[i],e.traverseUp(o,a))return!1;/^\s*$/.test()?o.parentNode.removeChild(o):o.parentNode.replaceChild(n.createTextNode(o.textContent),o)}}}}(window,document);var s;return function(){function t(){this.parent=!0,this.options={name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>'},this.name="anchor",this.hasForm=!0}t.prototype={handleClick:function(t){t.preventDefault(),t.stopPropagation(),this.base.selection||this.base.checkSelection();var e=n.getSelectedParentElement(this.base.selectionRange);return e.tagName&&"a"===e.tagName.toLowerCase()?this.base.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},getForm:function(){return this.anchorForm||(this.anchorForm=this.createForm()),this.anchorForm},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(t){var e=this.getInput();this.base.saveSelection(),this.base.hideToolbarDefaultActions(),this.getForm().style.display="block",this.base.setToolbarPosition(),this.base.keepToolbarAlive=!0,e.value=t||"",e.focus()},deactivate:function(){return this.anchorForm?(this.anchorForm.parentNode&&this.anchorForm.parentNode.removeChild(this.anchorForm),void delete this.anchorForm):!1},doLinkCreation:function(){var t=this.getForm().querySelector(".medium-editor-toolbar-anchor-target"),e=this.getForm().querySelector(".medium-editor-toolbar-anchor-button"),n={url:this.getInput().value};this.base.restoreSelection(),this.base.options.checkLinkFormat&&(n.url=this.checkLinkFormat(n.url)),n.target=t&&t.checked?"_blank":"_self",e&&e.checked&&(n.buttonClass=this.base.options.anchorButtonClass),this.base.createLink(n),this.base.keepToolbarAlive=!1,this.base.checkSelection()},checkLinkFormat:function(t){var e=/^(https?|ftps?|rtmpt?):\/\/|mailto:/;return(e.test(t)?"":"http://")+t},doFormCancel:function(){this.base.restoreSelection(),this.base.keepToolbarAlive=!1,this.base.checkSelection()},createForm:function(){var t,e,n,i,o=this.base.options.ownerDocument,r=o.createElement("div"),s=o.createElement("input"),a=o.createElement("a"),c=o.createElement("a");return r.className="medium-editor-toolbar-form",r.id="medium-editor-toolbar-form-anchor-"+this.base.id,this.base.on(r,"click",this.handleFormClick.bind(this)),s.setAttribute("type","text"),s.className="medium-editor-toolbar-input",s.setAttribute("placeholder",this.base.options.anchorInputPlaceholder),r.appendChild(s),this.base.on(s,"keyup",this.handleTextboxKeyup.bind(this)),this.base.on(s,"click",this.handleFormClick.bind(this)),c.setAttribute("href","#"),c.className="medium-editor-toobar-save",c.innerHTML="fontawesome"===this.base.options.buttonLabels?'<i class="fa fa-check"></i>':"&#10003;",r.appendChild(c),this.base.on(c,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML="fontawesome"===this.base.options.buttonLabels?'<i class="fa fa-times"></i>':"&times;",r.appendChild(a),this.base.on(a,"click",this.handleCloseClick.bind(this)),this.base.options.anchorTarget&&(t=o.createElement("input"),t.setAttribute("type","checkbox"),t.className="medium-editor-toolbar-anchor-target",e=o.createElement("label"),e.innerHTML=this.base.options.anchorInputCheckboxLabel,e.insertBefore(t,e.firstChild),r.appendChild(e)),this.base.options.anchorButton&&(n=o.createElement("input"),n.setAttribute("type","checkbox"),n.className="medium-editor-toolbar-anchor-button",i=o.createElement("label"),i.innerHTML="Button",i.insertBefore(n,i.firstChild),r.appendChild(i)),this.base.on(o.body,"click",this.handleOutsideInteraction.bind(this),!0),this.base.on(o.body,"focus",this.handleOutsideInteraction.bind(this),!0),r},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},handleOutsideInteraction:function(t){t.target===this.getForm()||e.isDescendant(this.getForm(),t.target)||e.isDescendant(this.base.toolbarActions,t.target)||(this.base.keepToolbarAlive=!1,this.base.checkSelection())},handleTextboxKeyup:function(t){return t.keyCode===e.keyCode.ENTER?(t.preventDefault(),void this.doLinkCreation()):void(t.keyCode===e.keyCode.ESCAPE&&(t.preventDefault(),this.doFormCancel()))},handleFormClick:function(t){t.stopPropagation(),this.base.keepToolbarAlive=!0},handleSaveClick:function(t){t.preventDefault(),this.doLinkCreation()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}},s=e.derives(i,t)}(window,document),function(){t.statics={ButtonsData:o,DefaultButton:i,AnchorExtension:s},t.prototype={defaults:{allowMultiParagraphSelection:!0,anchorInputPlaceholder:"Paste or type a link",anchorInputCheckboxLabel:"Open in new window",anchorPreviewHideDelay:500,buttons:["bold","italic","underline","anchor","header1","header2","quote"],buttonLabels:!1,checkLinkFormat:!1,cleanPastedHTML:!1,delay:0,diffLeft:0,diffTop:-10,disableReturn:!1,disableDoubleReturn:!1,disableToolbar:!1,disableEditing:!1,disablePlaceholders:!1,toolbarAlign:"center",elementsContainer:!1,imageDragging:!0,standardizeSelectionStart:!1,contentWindow:window,ownerDocument:document,firstHeader:"h3",forcePlainText:!0,placeholder:"Type your text",secondHeader:"h4",targetBlank:!1,anchorTarget:!1,anchorButton:!1,anchorButtonClass:"btn",extensions:{},activeButtonClass:"medium-editor-button-active",firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last"},init:function(t,n){var i=1;if(this.options=e.defaults(n,this.defaults),this.setElementSelection(t),0!==this.elements.length){for(this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body);this.options.elementsContainer.querySelector("#medium-editor-toolbar-"+i);)i+=1;return this.id=i,this.setup()}},setup:function(){this.events=[],this.isActive=!0,this.initThrottledMethods().initCommands().initElements().bindSelect().bindDragDrop().bindPaste().setPlaceholders().bindElementActions().bindWindowActions()},on:function(t,e,n,i){t.addEventListener(e,n,i),this.events.push([t,e,n,i])},off:function(t,e,n,i){var o,r=this.indexOfListener(t,e,n,i);-1!==r&&(o=this.events.splice(r,1)[0],o[0].removeEventListener(o[1],o[2],o[3]))},indexOfListener:function(t,e,n,i){var o,r,s;for(o=0,r=this.events.length;r>o;o+=1)if(s=this.events[o],s[0]===t&&s[1]===e&&s[2]===n&&s[3]===i)return o;return-1},delay:function(t){var e=this;setTimeout(function(){e.isActive&&t()},this.options.delay)},removeAllEvents:function(){for(var t=this.events.pop();t;)t[0].removeEventListener(t[1],t[2],t[3]),t=this.events.pop()},initThrottledMethods:function(){var t=this;return this.handleResize=e.throttle(function(){t.isActive&&t.positionToolbarIfShown()}),this.handleBlur=e.throttle(function(){t.isActive&&!t.keepToolbarAlive&&t.hideToolbarActions()}),this},initElements:function(){var t,e=!1;for(t=0;t<this.elements.length;t+=1)this.options.disableEditing||this.elements[t].getAttribute("data-disable-editing")||this.elements[t].setAttribute("contentEditable",!0),this.elements[t].getAttribute("data-placeholder")||this.elements[t].setAttribute("data-placeholder",this.options.placeholder),this.elements[t].setAttribute("data-medium-element",!0),this.elements[t].setAttribute("role","textbox"),this.elements[t].setAttribute("aria-multiline",!0),this.bindParagraphCreation(t),this.options.disableToolbar||this.elements[t].getAttribute("data-disable-toolbar")||(e=!0);return e&&this.initToolbar().setFirstAndLastButtons().bindAnchorPreview(),this},setElementSelection:function(t){t||(t=[]),"string"==typeof t&&(t=this.options.ownerDocument.querySelectorAll(t)),e.isElement(t)&&(t=[t]),this.elements=Array.prototype.slice.apply(t)},bindBlur:function(){var t=this,i=function(i){var o,r=!1,s=t.options.contentWindow.getSelection(),a=s.isCollapsed?null:n.getSelectedParentElement(s.getRangeAt(0));for(o=0;o<t.elements.length;o+=1)if(e.isDescendant(t.elements[o],i.target)||e.isDescendant(t.elements[o],a)){r=!0;break}i.target===t.toolbar||-1!==t.elements.indexOf(i.target)||r||e.isDescendant(t.toolbar,i.target)||e.isDescendant(t.anchorPreview,i.target)||(t.options.disablePlaceholders||t.placeholderWrapper(i,t.elements[0]),t.handleBlur())};return this.on(this.options.ownerDocument.body,"click",i,!0),this.on(this.options.ownerDocument.body,"focus",i,!0),this},bindClick:function(t){var e=this;return this.on(this.elements[t],"click",function(){e.options.disablePlaceholders||this.classList.remove("medium-editor-placeholder"),e.options.staticToolbar&&e.setToolbarPosition()}),this},bindElementActions:function(){var t;for(t=0;t<this.elements.length;t+=1)this.options.disablePlaceholders||this.activatePlaceholder(this.elements[t]),this.bindReturn(t).bindKeydown(t).bindClick(t);return this},activatePlaceholder:function(t){t.querySelector("img")||t.querySelector("blockquote")||""!==t.textContent.replace(/^\s+|\s+$/g,"")||t.classList.add("medium-editor-placeholder")},placeholderWrapper:function(t,e){e=e||t.target,e.classList.remove("medium-editor-placeholder"),"keypress"!==t.type&&this.activatePlaceholder(e)},serialize:function(){var t,e,n={};for(t=0;t<this.elements.length;t+=1)e=""!==this.elements[t].id?this.elements[t].id:"element-"+t,n[e]={value:this.elements[t].innerHTML.trim()};return n},initExtension:function(t,e){return t.parent&&(t.base=this),"function"==typeof t.init&&t.init(this),t.name||(t.name=e),t},initCommands:function(){var t,e,n=this.options.buttons,r=this.options.extensions;this.commands=[],n.forEach(function(e){r[e]?(t=this.initExtension(r[e],e),this.commands.push(t)):"anchor"===e?(t=this.initExtension(new s,e),this.commands.push(t)):o.hasOwnProperty(e)&&(t=new i(o[e],this),this.commands.push(t))}.bind(this));for(e in r)r.hasOwnProperty(e)&&-1===n.indexOf(e)&&(t=this.initExtension(r[e],e));return this},getExtensionByName:function(t){var e;return this.commands&&this.commands.length&&this.commands.forEach(function(n){n.name===t&&(e=n)}),e},callExtensions:function(t){if(!(arguments.length<1)){var e,n,i=Array.prototype.slice.call(arguments,1);for(n in this.options.extensions)this.options.extensions.hasOwnProperty(n)&&(e=this.options.extensions[n],void 0!==e[t]&&e[t].apply(e,i));return this}},bindParagraphCreation:function(t){var i=this;return this.on(this.elements[t],"keypress",function(t){var o,r;t.which===e.keyCode.SPACE&&(o=n.getSelectionStart(i.options.ownerDocument),r=o.tagName.toLowerCase(),"a"===r&&i.options.ownerDocument.execCommand("unlink",!1,null))}),this.on(this.elements[t],"keyup",function(t){var o,r,s=n.getSelectionStart(i.options.ownerDocument);s&&s.getAttribute("data-medium-element")&&0===s.children.length&&!i.options.disableReturn&&!s.getAttribute("data-disable-return")&&i.options.ownerDocument.execCommand("formatBlock",!1,"p"),t.which===e.keyCode.ENTER&&(s=n.getSelectionStart(i.options.ownerDocument),o=s.tagName.toLowerCase(),r=n.getSelectionElement(i.options.contentWindow),i.options.disableReturn||r.getAttribute("data-disable-return")||"li"===o||e.isListItemChild(s)||(t.shiftKey||/h\d/.test(o)||i.options.ownerDocument.execCommand("formatBlock",!1,"p"),"a"===o&&i.options.ownerDocument.execCommand("unlink",!1,null)))}),this},bindReturn:function(t){var i=this;return this.on(this.elements[t],"keypress",function(t){if(t.which===e.keyCode.ENTER)if(i.options.disableReturn||this.getAttribute("data-disable-return"))t.preventDefault();else if(i.options.disableDoubleReturn||this.getAttribute("data-disable-double-return")){var o=n.getSelectionStart(i.options.contentWindow);o&&""===o.textContent.trim()&&t.preventDefault()}}),this},bindKeydown:function(t){var i=this;return this.on(this.elements[t],"keydown",function(t){var o,r,s;t.which===e.keyCode.TAB?(o=n.getSelectionStart(i.options.ownerDocument),r=o&&o.tagName.toLowerCase(),"pre"===r&&(t.preventDefault(),i.options.ownerDocument.execCommand("insertHtml",null,"    ")),("li"===r||e.isListItemChild(o))&&(t.preventDefault(),t.shiftKey?i.options.ownerDocument.execCommand("outdent",t):i.options.ownerDocument.execCommand("indent",t))):t.which===e.keyCode.BACKSPACE||t.which===e.keyCode.DELETE||t.which===e.keyCode.ENTER?i.onBlockModifier(t):(t.ctrlKey||t.metaKey)&&(s=String.fromCharCode(t.which||t.keyCode).toLowerCase(),i.commands.forEach(function(e){e.options.key&&e.options.key===s&&e.handleClick(t)}))}),this},onBlockModifier:function(t){var i,o,r,s=n.getSelectionStart(this.options.ownerDocument),a=s.tagName.toLowerCase(),c=/^(\s+|<br\/?>)?$/i,l=/h\d/i;(t.which===e.keyCode.BACKSPACE||t.which===e.keyCode.ENTER)&&s.previousElementSibling&&l.test(a)&&0===n.getCaretOffsets(s).left?t.which===e.keyCode.BACKSPACE&&c.test(s.previousElementSibling.innerHTML)?(s.previousElementSibling.parentNode.removeChild(s.previousElementSibling),t.preventDefault()):t.which===e.keyCode.ENTER&&(r=this.options.ownerDocument.createElement("p"),r.innerHTML="<br>",s.previousElementSibling.parentNode.insertBefore(r,s),t.preventDefault()):t.which===e.keyCode.DELETE&&s.nextElementSibling&&s.previousElementSibling&&!l.test(a)&&c.test(s.innerHTML)&&l.test(s.nextElementSibling.tagName)&&(i=document.createRange(),o=window.getSelection(),i.setStart(s.nextElementSibling,0),i.collapse(!0),o.removeAllRanges(),o.addRange(i),s.previousElementSibling.parentNode.removeChild(s),t.preventDefault())},initToolbar:function(){return this.toolbar?this:(this.toolbar=this.createToolbar(),this.keepToolbarAlive=!1,this.toolbarActions=this.toolbar.querySelector(".medium-editor-toolbar-actions"),this.anchorPreview=this.createAnchorPreview(),this)},createToolbar:function(){var t=this.options.ownerDocument.createElement("div");return t.id="medium-editor-toolbar-"+this.id,t.className="medium-editor-toolbar",t.className+=this.options.staticToolbar?" static-toolbar":" stalker-toolbar",t.appendChild(this.toolbarButtons()),this.commands.forEach(function(e){e.hasForm&&t.appendChild(e.getForm())}),this.options.elementsContainer.appendChild(t),t},toolbarButtons:function(){var t,n,i=this.options.ownerDocument.createElement("ul");return i.id="medium-editor-toolbar-actions"+this.id,i.className="medium-editor-toolbar-actions clearfix",this.commands.forEach(function(o){"function"==typeof o.getButton&&(n=o.getButton(this),t=this.options.ownerDocument.createElement("li"),e.isElement(n)?t.appendChild(n):t.innerHTML=n,i.appendChild(t))}.bind(this)),i},bindSelect:function(){var t,n=function(t){return t&&t.type&&"blur"===t.type.toLowerCase()&&t.relatedTarget&&e.isDescendant(this.toolbar,t.relatedTarget)?!1:void this.checkSelection()}.bind(this),i=function(){setTimeout(function(){this.checkSelection()}.bind(this),0)}.bind(this);for(this.on(this.options.ownerDocument.documentElement,"mouseup",this.checkSelection.bind(this)),t=0;t<this.elements.length;t+=1)this.on(this.elements[t],"keyup",this.checkSelection.bind(this)),this.on(this.elements[t],"blur",n),this.on(this.elements[t],"click",i);return this},bindDragDrop:function(){var t,n,i,o,r,s=this;if(!s.options.imageDragging)return this;for(n="medium-editor-dragover",i=function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy","dragover"===t.type?this.classList.add(n):this.classList.remove(n)},o=function(t){var i;t.preventDefault(),t.stopPropagation(),i=Array.prototype.slice.call(t.dataTransfer.files,0),i.some(function(t){if(t.type.match("image")){var n,i;n=new FileReader,n.readAsDataURL(t),i="medium-img-"+ +new Date,e.insertHTMLCommand(s.options.ownerDocument,'<img class="medium-image-loading" id="'+i+'" />'),n.onload=function(){var t=document.getElementById(i);t&&(t.removeAttribute("id"),t.removeAttribute("class"),t.src=n.result)}}}),this.classList.remove(n)},t=0;t<this.elements.length;t+=1)r=this.elements[t],this.on(r,"dragover",i),this.on(r,"dragleave",i),this.on(r,"drop",o);return this},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var t,e;return this.preventSelectionUpdates||this.keepToolbarAlive===!0||this.options.disableToolbar||(t=this.options.contentWindow.getSelection(),!this.options.updateOnEmptySelection&&""===t.toString().trim()||this.options.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected()||n.selectionInContentEditableFalse(this.options.contentWindow)?this.options.staticToolbar?this.showAndUpdateToolbar():this.hideToolbarActions():(e=n.getSelectionElement(this.options.contentWindow),!e||e.getAttribute("data-disable-toolbar")?this.options.staticToolbar||this.hideToolbarActions():this.checkSelectionElement(t,e))),this
},multipleBlockElementsSelected:function(){var t=n.getSelectionHtml.call(this).replace(/<[\S]+><\/[\S]+>/gim,""),e=t.match(/<(p|h[1-6]|blockquote)[^>]*>/g);return!!e&&e.length>1},checkSelectionElement:function(t,i){var o,r,s,a=0;if(this.selection=t,this.selectionRange=this.selection.getRangeAt(0),this.options.standardizeSelectionStart&&this.selectionRange.startContainer.nodeValue&&this.selectionRange.startOffset===this.selectionRange.startContainer.nodeValue.length&&(r=e.findAdjacentTextNodeWithContent(n.getSelectionElement(this.options.contentWindow),this.selectionRange.startContainer,this.options.ownerDocument))){for(a=0;0===r.nodeValue.substr(a,1).trim().length;)a+=1;s=this.options.ownerDocument.createRange(),s.setStart(r,a),s.setEnd(this.selectionRange.endContainer,this.selectionRange.endOffset),this.selection.removeAllRanges(),this.selection.addRange(s),this.selectionRange=s}for(o=0;o<this.elements.length;o+=1)if(this.elements[o]===i)return void this.showAndUpdateToolbar();this.options.staticToolbar||this.hideToolbarActions()},showAndUpdateToolbar:function(){this.setToolbarButtonStates().setToolbarPosition().showToolbarDefaultActions()},setToolbarPosition:function(){var t,e,i,o,r,s,a,c,l,u,h,d=this.options.ownerDocument.documentElement&&this.options.ownerDocument.documentElement.scrollTop||this.options.ownerDocument.body.scrollTop,p=this.options.contentWindow.getSelection(),f=this.options.contentWindow.innerWidth,m=n.getSelectionElement(this.options.contentWindow),b=50;return m&&this.options.contentWindow.getSelection().focusNode?-1===this.elements.indexOf(m)?this:(r=m.getBoundingClientRect(),s=r.top+d,a=r.left+r.width/2,this.toolbar.style.left="0",t=this.toolbar.offsetWidth,e=this.toolbar.offsetHeight,i=t/2,o=this.options.diffLeft-i,this.options.staticToolbar?(this.showToolbar(),this.options.stickyToolbar?d>s+m.offsetHeight-e?(this.toolbar.style.top=s+m.offsetHeight-e+"px",this.toolbar.classList.remove("sticky-toolbar")):d>s-e?(this.toolbar.classList.add("sticky-toolbar"),this.toolbar.style.top="0px"):(this.toolbar.classList.remove("sticky-toolbar"),this.toolbar.style.top=s-e+"px"):this.toolbar.style.top=s-e+"px","left"===this.options.toolbarAlign?h=r.left:"center"===this.options.toolbarAlign?h=a-i:"right"===this.options.toolbarAlign&&(h=r.right-t),0>h?h=0:h+t>f&&(h=f-t),this.toolbar.style.left=h+"px"):p.isCollapsed||(this.showToolbar(),c=p.getRangeAt(0),l=c.getBoundingClientRect(),u=(l.left+l.right)/2,l.top<b?(this.toolbar.classList.add("medium-toolbar-arrow-over"),this.toolbar.classList.remove("medium-toolbar-arrow-under"),this.toolbar.style.top=b+l.bottom-this.options.diffTop+this.options.contentWindow.pageYOffset-e+"px"):(this.toolbar.classList.add("medium-toolbar-arrow-under"),this.toolbar.classList.remove("medium-toolbar-arrow-over"),this.toolbar.style.top=l.top+this.options.diffTop+this.options.contentWindow.pageYOffset-e+"px"),this.toolbar.style.left=i>u?o+i+"px":i>f-u?f+o-i+"px":o+u+"px"),this.hideAnchorPreview(),this):this},setToolbarButtonStates:function(){return this.commands.forEach(function(t){"function"==typeof t.isActive&&t.setInactive()}.bind(this)),this.checkActiveButtons(),this},checkActiveButtons:function(){var t,i=Array.prototype.slice.call(this.elements),o=[],r=null,s=function(e){"function"==typeof e.checkState?e.checkState(t):"function"==typeof e.isActive&&"function"==typeof e.isAlreadyApplied&&!e.isActive()&&e.isAlreadyApplied(t)&&e.setActive()};if(this.selectionRange)for(t=n.getSelectedParentElement(this.selectionRange),this.commands.forEach(function(t){return"function"==typeof t.queryCommandState&&(r=t.queryCommandState(),null!==r)?void(r&&t.setActive()):void o.push(t)});void 0!==t.tagName&&-1===e.parentElements.indexOf(t.tagName.toLowerCase)&&(o.forEach(s.bind(this)),-1===i.indexOf(t));)t=t.parentNode},setFirstAndLastButtons:function(){var t=this.toolbar.querySelectorAll("button");return t.length>0&&(t[0].className+=" "+this.options.firstButtonClass,t[t.length-1].className+=" "+this.options.lastButtonClass),this},queryCommandState:function(t){var e,n=/^full-(.+)$/gi,i=null;e=n.exec(t),e&&(t=e[1]);try{i=this.options.ownerDocument.queryCommandState(t)}catch(o){i=null}return i},execAction:function(t,e){var n,i,o=/^full-(.+)$/gi;return n=o.exec(t),n?(this.saveSelection(),this.selectAllContents(),i=this.execActionInternal(n[1],e),this.restoreSelection()):i=this.execActionInternal(t,e),this.checkSelection(),i},execActionInternal:function(t,e){var n,i=/^append-(.+)$/gi;return n=i.exec(t),n?this.execFormatBlock(n[1]):"createLink"===t?this.createLink(e):"image"===t?this.options.ownerDocument.execCommand("insertImage",!1,this.options.contentWindow.getSelection()):this.options.ownerDocument.execCommand(t,!1,null)},rangeSelectsSingleNode:function(t){var e=t.startContainer;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===t.startOffset+1},getSelectedParentElement:function(){var t=null,e=this.selectionRange;return t=this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer},execFormatBlock:function(t){var i=n.getSelectionData(this.selection.anchorNode);if("blockquote"===t&&i.el&&"blockquote"===i.el.parentNode.tagName.toLowerCase())return this.options.ownerDocument.execCommand("outdent",!1,null);if(i.tagName===t&&(t="p"),e.isIE){if("blockquote"===t)return this.options.ownerDocument.execCommand("indent",!1,t);t="<"+t+">"}return this.options.ownerDocument.execCommand("formatBlock",!1,t)},isToolbarDefaultActionsShown:function(){return!!this.toolbarActions&&"block"===this.toolbarActions.style.display},hideToolbarDefaultActions:function(){this.toolbarActions&&this.isToolbarDefaultActionsShown()&&(this.commands.forEach(function(t){t.onHide&&"function"==typeof t.onHide&&t.onHide()}),this.toolbarActions.style.display="none")},showToolbarDefaultActions:function(){return this.hideExtensionForms(),this.toolbarActions&&!this.isToolbarDefaultActionsShown()&&(this.toolbarActions.style.display="block"),this.keepToolbarAlive=!1,this.delay(function(){this.showToolbar()}.bind(this)),this},hideExtensionForms:function(){this.commands.forEach(function(t){t.hasForm&&t.isDisplayed()&&t.hideForm()})},isToolbarShown:function(){return this.toolbar&&this.toolbar.classList.contains("medium-editor-toolbar-active")},showToolbar:function(){this.toolbar&&!this.isToolbarShown()&&(this.toolbar.classList.add("medium-editor-toolbar-active"),"function"==typeof this.options.onShowToolbar&&this.options.onShowToolbar())},hideToolbar:function(){this.isToolbarShown()&&(this.toolbar.classList.remove("medium-editor-toolbar-active"),"function"==typeof this.options.onHideToolbar&&this.options.onHideToolbar())},hideToolbarActions:function(){this.commands.forEach(function(t){t.onHide&&"function"==typeof t.onHide&&t.onHide()}),this.keepToolbarAlive=!1,this.hideToolbar()},selectAllContents:function(){var t=this.options.ownerDocument.createRange(),e=this.options.contentWindow.getSelection(),i=n.getSelectionElement(this.options.contentWindow);if(i){for(;1===i.children.length;)i=i.children[0];t.selectNodeContents(i),e.removeAllRanges(),e.addRange(t)}},saveSelection:function(){this.selectionState=null;var t,n,i,o=this.options.contentWindow.getSelection(),r=-1;o.rangeCount>0&&(t=o.getRangeAt(0),n=t.cloneRange(),this.elements.forEach(function(n,i){return n===t.startContainer||e.isDescendant(n,t.startContainer)?(r=i,!1):void 0}),r>-1&&(n.selectNodeContents(this.elements[r]),n.setEnd(t.startContainer,t.startOffset),i=n.toString().length,this.selectionState={start:i,end:i+t.toString().length,editableElementIndex:r}))},restoreSelection:function(){if(this.selectionState){var t,e,n,i,o=this.elements[this.selectionState.editableElementIndex],r=0,s=this.options.ownerDocument.createRange(),a=[o],c=!1,l=!1;for(s.setStart(o,0),s.collapse(!0),t=a.pop();!l&&t;){if(3===t.nodeType)i=r+t.length,!c&&this.selectionState.start>=r&&this.selectionState.start<=i&&(s.setStart(t,this.selectionState.start-r),c=!0),c&&this.selectionState.end>=r&&this.selectionState.end<=i&&(s.setEnd(t,this.selectionState.end-r),l=!0),r=i;else for(e=t.childNodes.length-1;e>=0;)a.push(t.childNodes[e]),e-=1;l||(t=a.pop())}n=this.options.contentWindow.getSelection(),n.removeAllRanges(),n.addRange(s)}},hideAnchorPreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active")},showAnchorPreview:function(t){if(this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||t.getAttribute("data-disable-preview"))return!0;var e,n,i=this,o=40,r=t.getBoundingClientRect(),s=(r.left+r.right)/2;return i.anchorPreview.querySelector("i").textContent=t.attributes.href.value,e=i.anchorPreview.offsetWidth/2,n=i.options.diffLeft-e,i.observeAnchorPreview(t),i.anchorPreview.classList.add("medium-toolbar-arrow-over"),i.anchorPreview.classList.remove("medium-toolbar-arrow-under"),i.anchorPreview.style.top=Math.round(o+r.bottom-i.options.diffTop+this.options.contentWindow.pageYOffset-i.anchorPreview.offsetHeight)+"px",i.anchorPreview.style.left=e>s?n+e+"px":this.options.contentWindow.innerWidth-s<e?this.options.contentWindow.innerWidth+n-e+"px":n+s+"px",this.anchorPreview&&!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this},observeAnchorPreview:function(t){var e=this,n=(new Date).getTime(),i=!0,o=function(){n=(new Date).getTime(),i=!0},r=function(t){t.relatedTarget&&/anchor-preview/.test(t.relatedTarget.className)||(i=!1)},s=setInterval(function(){if(i)return!0;var a=(new Date).getTime()-n;a>e.options.anchorPreviewHideDelay&&(e.hideAnchorPreview(),clearInterval(s),e.off(e.anchorPreview,"mouseover",o),e.off(e.anchorPreview,"mouseout",r),e.off(t,"mouseover",o),e.off(t,"mouseout",r))},200);this.on(e.anchorPreview,"mouseover",o),this.on(e.anchorPreview,"mouseout",r),this.on(t,"mouseover",o),this.on(t,"mouseout",r)},createAnchorPreview:function(){var t=this,e=this.options.ownerDocument.createElement("div");return e.id="medium-editor-anchor-preview-"+this.id,e.className="medium-editor-anchor-preview",e.innerHTML=this.anchorPreviewTemplate(),this.options.elementsContainer.appendChild(e),this.on(e,"click",function(){t.anchorPreviewClickHandler()}),e},anchorPreviewTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <i class="medium-editor-toolbar-anchor-preview-inner"></i></div>'},anchorPreviewClickHandler:function(){var t,e,n=this.getExtensionByName("anchor");n&&this.activeAnchor&&(t=this.options.ownerDocument.createRange(),t.selectNodeContents(this.activeAnchor),e=this.options.contentWindow.getSelection(),e.removeAllRanges(),e.addRange(t),this.delay(function(){this.activeAnchor&&n.showForm(this.activeAnchor.attributes.href.value),this.keepToolbarAlive=!1}.bind(this))),this.hideAnchorPreview()},editorAnchorObserver:function(t){var e=this,n=!0,i=function(){n=!1,e.off(e.activeAnchor,"mouseout",i)};if(t.target&&"a"===t.target.tagName.toLowerCase()){if(!/href=["']\S+["']/.test(t.target.outerHTML)||/href=["']#\S+["']/.test(t.target.outerHTML))return!0;if(this.isToolbarShown())return!0;this.activeAnchor=t.target,this.on(this.activeAnchor,"mouseout",i),this.delay(function(){n&&e.showAnchorPreview(t.target)})}},bindAnchorPreview:function(){var t,e=this;for(this.editorAnchorObserverWrapper=function(t){e.editorAnchorObserver(t)},t=0;t<this.elements.length;t+=1)this.on(this.elements[t],"mouseover",this.editorAnchorObserverWrapper);return this},createLink:function(t){var i,o;if(t.url&&t.url.trim().length>0&&(this.options.ownerDocument.execCommand("createLink",!1,t.url),(this.options.targetBlank||"_blank"===t.target)&&e.setTargetBlank(n.getSelectionStart(this.options.ownerDocument)),t.buttonClass&&this.setButtonClass(t.buttonClass)),this.options.targetBlank||"_blank"===t.target||t.buttonClass)for(i=this.options.ownerDocument.createEvent("HTMLEvents"),i.initEvent("input",!0,!0,this.options.contentWindow),o=0;o<this.elements.length;o+=1)this.elements[o].dispatchEvent(i)},setButtonClass:function(t){var e,i,o=n.getSelectionStart(this.options.ownerDocument),r=t.split(" ");if("a"===o.tagName.toLowerCase())for(i=0;i<r.length;i+=1)o.classList.add(r[i]);else for(o=o.getElementsByTagName("a"),e=0;e<o.length;e+=1)for(i=0;i<r.length;i+=1)o[e].classList.add(r[i])},positionToolbarIfShown:function(){this.isToolbarShown()&&this.setToolbarPosition()},bindWindowActions:function(){var t=this;return this.options.staticToolbar&&this.options.stickyToolbar&&this.on(this.options.contentWindow,"scroll",function(){t.positionToolbarIfShown()},!0),this.on(this.options.contentWindow,"resize",function(){t.handleResize()}),this.bindBlur(),this},activate:function(){this.isActive||this.setup()},deactivate:function(){var t;if(this.isActive){for(this.isActive=!1,void 0!==this.toolbar&&(this.options.elementsContainer.removeChild(this.anchorPreview),this.options.elementsContainer.removeChild(this.toolbar),delete this.toolbar,delete this.anchorPreview),t=0;t<this.elements.length;t+=1)this.elements[t].removeAttribute("contentEditable"),this.elements[t].removeAttribute("data-medium-element");this.commands.forEach(function(t){"function"==typeof t.deactivate&&t.deactivate()}.bind(this)),this.removeAllEvents()}},bindPaste:function(){var t,e=this;for(this.pasteWrapper=function(t){r.handlePaste(this,t,e.options)},t=0;t<this.elements.length;t+=1)this.on(this.elements[t],"paste",this.pasteWrapper);return this},setPlaceholders:function(){return!this.options.disablePlaceholders&&this.elements&&this.elements.length&&this.elements.forEach(function(t){this.activatePlaceholder(t),this.on(t,"blur",this.placeholderWrapper.bind(this)),this.on(t,"keypress",this.placeholderWrapper.bind(this))}.bind(this)),this},cleanPaste:function(t){r.cleanPaste(t,this.options)},pasteHTML:function(t){r.pasteHTML(t,this.options.ownerDocument)}}}(),t}())},function(t,e,n){"use strict";var i=n(11),o=n(13),r=n(1),s=r.PropTypes,a=r.createClass({displayName:"Editor",propTypes:{src:s.string,onChange:s.func.isRequired},render:function(){var t=this.props.video_id;return r.createElement("div",{className:"col-youtube"},r.createElement(o,{video_id:t}),r.createElement("fieldset",{className:"col-youtube-fieldset"},r.createElement(i,{label:"YouTube Video ID",value:t,name:"youtube_video_id",onChange:this._onChange})))},_onChange:function(t){this.props.onChange({video_id:t.currentTarget.value})}});t.exports=a},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(37),r=n(39),s=n(1);n(66);var a={defaultContent:function(){return{video_id:""}},renderEditor:function(){return s.createElement(o,i({onChange:this.setContent},this.state.content))},renderPreviewer:function(){return s.createElement(r,this.state.content)}};t.exports=a},function(t,e,n){"use strict";var i=n(1),o=n(13),r=i.createClass({displayName:"Previewer",render:function(){return i.createElement("div",{className:"col-youtube"},i.createElement(o,{src:this.props.src}))}});t.exports=r},function(t,e,n){"use strict";t.exports={Medium:n(34),Image:n(31),YouTube:n(38)}},function(t,e,n){"use strict";var i=n(7),o=n(9),r=n(14),s=n(1),a=s.createClass({displayName:"AddBlock",getInitialState:function(){return i.find(this.props.type)},render:function(){var t=this.state,e=t.icon,n=t.id,i=t.label;return s.createElement(o,{"aria-label":i,className:"col-btn-icon",onClick:this._onClick},s.createElement("img",{src:e,alt:n,"aria-hidden":"true"}))},_onClick:function(t){var e=this.props,n=e.block,i=e.position,o=e.type;r({content:null,parent:n,type:o},i),t.preventDefault()}});t.exports=a},function(t,e,n){"use strict";var i=n(43),o=n(25),r=(n(3),n(46)),s=n(1),a=n(8),c=n(23),l=n(55),u=s.createClass({displayName:"App",mixins:[a],getState:function(){return{editor:o.find(this.props.editorId)}},fullscreen:function(t){var e=function(){return t.apply(this,arguments)};return e.toString=function(){return t.toString()},e}(function(){l(this.getDOMNode())}),render:function(){var t=this.state.editor;return s.createElement("div",{className:"colonel"},s.createElement(r,{editor:t}),s.createElement(i,{editor:t}),s.createElement("button",{type:"button","aria-label":c.fullscreen,className:"col-fullscreen",onClick:this._onFullscreenClick},"Fullscreen"))},_onFullscreenClick:function(t){t.preventDefault(),this.fullscreen()}});t.exports=u},function(t,e,n){"use strict";var i=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0})},o=n(1),r=n(3),s=function(){var t={};return i(t,r.EDIT_MODE,n(44)),i(t,r.PREVIEW_MODE,n(48)),t}(),a=o.createClass({displayName:"ContentSection",render:function(){var t=this.props.editor,e=t.block;return o.createElement(s[t.mode],{block:e,editor:t})}});t.exports=a},function(t,e,n){"use strict";var i=n(29),o=n(22),r=n(45),s=n(5),a=n(1),c=a.createClass({displayName:"Editor",mixins:[s],getBlock:function(t){return a.createElement(r,{key:t.id,block:t,editor:this.props.editor})},render:function(){var t=this.props,e=t.block,n=t.editor;return a.createElement(i,{component:"div",className:"col-content",transitionName:"col-block"},a.createElement(o,{key:"block_menu",block:e,editor:n}),this.state.blocks.map(this.getBlock))}});t.exports=c},function(t,e,n){"use strict";var i=n(29),o=n(21),r=n(22),s=n(5),a=n(47),c=n(1),l=n(51),u=c.createClass({displayName:"EditorBlock",mixins:[s],getBlock:function(t){return c.createElement(u,{key:t.id,block:t,editor:this.props.editor})},render:function(){var t=this.props,e=t.block,n=t.editor;return c.createElement("div",null,c.createElement(a,{block:e},c.createElement(r,{ref:"prepend",block:e,editor:n,position:e.parent}),c.createElement(o,{block:e,mode:n.mode}),c.createElement(i,{component:"div",className:"col-blocks",transitionName:"col-block"},this.state.blocks.map(this.getBlock)),c.createElement(l,{block:e})),c.createElement(r,{ref:"append",block:e.parent,editor:n,position:e}))}});t.exports=u},function(t,e,n){"use strict";var i=n(9),o=n(1),r=o.PropTypes,s=n(20),a=n(3),c=n(24),l=o.createClass({displayName:"ModeSelection",mixins:[c],propType:{editor:r.object.isRequired,modes:r.object},getDefaultProps:function(){return{modes:a}},getTab:function(t){var e=this,n=this.props,r=n.editor,s=n.modes,a={className:"col-tabs-btn",disabled:r.mode===s[t],onClick:function(n){return e._onModeClick(n,s[t])}};return o.createElement("li",{key:t,className:"col-tabs-list-item",role:"tab"},o.createElement(i,a,t.replace("_"," ")))},getTabs:function(){return Object.keys(this.props.modes).map(this.getTab)},render:function(){return this.props.editor.preview?o.createElement("nav",{role:"navigation",className:"col-tabs"},o.createElement("ul",{className:"col-tabs-list",role:"tablist"},this.getTabs())):null},_onModeClick:function(t,e){t.preventDefault(),s(this.props.editor.id,{mode:e})}});t.exports=l},function(t,e,n){"use strict";var i=n(61),o=n(16),r=n(1),s=r.createClass({displayName:"Orderable",render:function(){var t=this.props,e=t.block,n=t.children;return r.createElement(i,{className:"col-block",message:e.id,onDrop:this._onDrop},n)},_onDrop:function(t){o(t,this.props.block.id)}});t.exports=s},function(t,e,n){"use strict";var i=(n(6),n(5)),o=n(49),r=n(1),s=r.createClass({displayName:"Previewer",mixins:[i],getBlock:function(t){return r.createElement(o,{key:t.id,block:t,editor:this.props.editor})},render:function(){return r.createElement("div",{className:"col-blocks"},this.state.blocks.map(this.getBlock))}});t.exports=s},function(t,e,n){"use strict";var i=n(21),o=n(5),r=n(1),s=r.createClass({displayName:"PreviewerBlock",mixins:[o],getBlock:function(t){return r.createElement(s,{key:t.id,block:t,editor:this.props.editor})},render:function(){var t=this.props,e=t.block,n=t.editor;return r.createElement("div",null,r.createElement(i,{block:e,mode:n.mode}),this.state.blocks.map(this.getBlock))}});t.exports=s},function(t,e,n){"use strict";var i=n(9),o=n(15),r=n(23),s=n(1),a=s.createClass({displayName:"RemoveBlock",render:function(){return s.createElement(i,{"aria-label":r.remove,className:"col-btn-remove",onClick:this._onClick},"×")},_onClick:function(t){t.preventDefault(),o(this.props.block.id)}});t.exports=a},function(t,e,n){"use strict";var i=n(1),o=n(50),r=i.createClass({displayName:"Toolbar",render:function(){return i.createElement("div",{className:"col-toolbar"},i.createElement(o,{block:this.props.block}))}});t.exports=r},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=(n(1),n(3)),r=n(4),s={getDefaultProps:function(){return{mode:o.EDIT_MODE}},getInitialState:function(){return r(this.defaultContent,"BlockType mixin requires `defaultContent` implementation."),{content:this.props.initialContent||this.defaultContent()}},setContent:function(t){var e=i({},this.state.content,t);this.setState({content:e},function(){this.props.updateContent(this.state.content)})},editMode:function(){return this.props.mode===o.EDIT_MODE},render:function(){return r(this.renderEditor,"BlockType mixin requires `renderEditor` implementation."),r(this.renderPreviewer,"BlockType mixin requires `renderPreviewer` implementation."),this.editMode()?this.renderEditor():this.renderPreviewer()}};t.exports=s},function(t,e,n){"use strict";var i=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=n(27),s=function(){function t(e){o(this,t),this.id=r(),this.content=e.content||null,this.parent=e.parent,this.type=e.type}return i(t,null,{toJSON:{value:function(){var t=n(6);return{blocks:t.childrenFor(this).map(function(t){return t.toJSON()}),content:this.content,type:this.type}},writable:!0,configurable:!0}}),t}();t.exports=s},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(18),r=n(1),s=n(26);t.exports=function(t){var e=t.component;r.isValidElement(e)===!1&&(e=s(e)),o(i({},t,{component:e}))}},function(t){"use strict";t.exports=function(t){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}},function(t,e,n){"use strict";var i=n(6);t.exports=function(t,e){return i._seed(t,e)}},function(t,e,n){t.exports.Dispatcher=n(58)},function(t,e,n){"use strict";function i(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var o=n(59),r=1,s="ID_";i.prototype.register=function(t){var e=s+r++;return this.$Dispatcher_callbacks[e]=t,e},i.prototype.unregister=function(t){o(this.$Dispatcher_callbacks[t],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t),delete this.$Dispatcher_callbacks[t]},i.prototype.waitFor=function(t){o(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var e=0;e<t.length;e++){var n=t[e];this.$Dispatcher_isPending[n]?o(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(o(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},i.prototype.dispatch=function(t){o(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(t);try{for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]||this.$Dispatcher_invokeCallback(e)}finally{this.$Dispatcher_stopDispatching()}},i.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},i.prototype.$Dispatcher_invokeCallback=function(t){this.$Dispatcher_isPending[t]=!0,this.$Dispatcher_callbacks[t](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[t]=!0},i.prototype.$Dispatcher_startDispatching=function(t){for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]=!1,this.$Dispatcher_isHandled[e]=!1;this.$Dispatcher_pendingPayload=t,this.$Dispatcher_isDispatching=!0},i.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=i},function(t){"use strict";var e=function(t,e,n,i,o,r,s,a){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,r,s,a],u=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return l[u++]}))}throw c.framesToPop=1,c}};t.exports=e},function(t){function e(t){var e="";if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&t[n]&&(e+=n+" ");else for(var i=0;i<arguments.length;i++)null!=arguments[i]&&(e+=arguments[i]+" ");return e.trim()}t.exports=e},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=i(n(1)),a=i(n(60)),c=s.createClass({displayName:"Dragon",propTypes:{onDrop:s.PropTypes.func.isRequired},getDefaultProps:function(){return{allow:"all",className:"",effect:"copy",element:"div",message:{}}},getInitialState:function(){return{draggable:!0,dragging:!1,droppable:!1}},render:function(){var t=this.state.dragging,e=this.state.draggable,n=this.state.droppable,i=this.props.className,c=this.props.children,l=this.props.element,u=(this.props.onDrop,this.props.message,this.props.allow,this.props.effect,o(this.props,["className","children","element","onDrop","message","allow","effect"])),h=a({"dragon-dragging":t,"dragon-droppable":n});return s.createElement(l,r({className:a("dragon",a(i),h),draggable:e,onBlur:this._handle({draggable:!0}),onFocus:this._handle({draggable:!1}),onDragEnd:this._handle({droppable:!1,dragging:!1},!0),onDragLeave:this._handle({droppable:!1},!0),onDragOver:this._handle({droppable:!0},!0),onDragStart:this._onDragStart,onDrop:this._onDrop},u),c)},_handle:function(t,e){var n=this;return function(i){e&&i.preventDefault(),n.setState(t)}},_onDragStart:function(t){var e=this.props.effect,n=this.props.allow,i=this.props.message;t.dataTransfer.setData("text/plain",JSON.stringify(i)),t.dataTransfer.dropEffect=e,t.dataTransfer.effectAllowed=n,this.setState({dragging:!0})},_onDrop:function(t){t.preventDefault();var e=JSON.parse(t.dataTransfer.getData("text/plain")),n=this.props.message;this.props.onDrop(e,n),this.setState({droppable:!1,dragging:!1})}});t.exports=c},function(t,e,n){(function(e){"use strict";var i=n(4),o=function(t){var n,o={};"production"!==e.env.NODE_ENV?i(t instanceof Object&&!Array.isArray(t),"keyMirror(...): Argument must be an object."):i(t instanceof Object&&!Array.isArray(t));for(n in t)t.hasOwnProperty(n)&&(o[n]=n);return o};t.exports=o}).call(e,n(28))},function(t){"use strict";function e(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}t.exports=e},function(){},function(){},function(){},function(){}]);
//# sourceMappingURL=colonel-kurtz.js.map